"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7202],{57202:function(R,O,t){t.r(O),t.d(O,{TechDocsCustomHome:function(){return I}});var e=t(2784),u=t(64279),C=t(79692),i=t(64304),_=t(49849),n=t(80236),T=t(30705),U=t(32272),v=t(76372),K=t.n(v),L=t(66565),h=t(92573),y=t(49462),g=t(35368),p=t.n(g),S=t(1854),V=t(28316),A=t(82717),x=t.n(A),Y=t(18671),G=t(34520),B=t(76635),H=t.n(B);const f={DocsTable:_.D,DocsCardGrid:_.a},W=({config:a,entities:E,index:o})=>{const D=(0,C.Z)({panelContainer:{marginBottom:"2rem",...a.panelCSS?a.panelCSS:{}}})(),{loading:r,isOwnedEntity:d}=(0,i.ZW)(),c=f[a.panelType],P=E.filter(s=>a.filterPredicate==="ownedByUser"?r?!1:d(s):typeof a.filterPredicate=="function"&&a.filterPredicate(s));return e.createElement(e.Fragment,null,e.createElement(n.yW,{title:a.title,description:a.description},o===0?e.createElement(n.qt,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:D.panelContainer},e.createElement(c,{"data-testid":"techdocs-custom-panel",entities:P})))},I=a=>{const{tabsConfig:E}=a,[o,M]=(0,e.useState)(0),D=(0,T.h_)(i.Ah),{value:r,loading:d,error:c}=(0,u.default)(async()=>(await D.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":i.n3},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(l=>{var m;return!!((m=l.metadata.annotations)!=null&&m["backstage.io/techdocs-ref"])})),P=E[o];return d?e.createElement(_.T,null,e.createElement(n.VY,null,e.createElement(n.Ex,null))):c?e.createElement(_.T,null,e.createElement(n.VY,null,e.createElement(n.GB,{severity:"error",title:"Could not load available documentation."},e.createElement(n.Oi,{language:"text",text:c.toString()})))):e.createElement(_.T,null,e.createElement(n.aR,{selectedIndex:o,onChange:s=>M(s),tabs:E.map(({label:s},l)=>({id:l.toString(),label:s}))}),e.createElement(n.VY,{"data-testid":"techdocs-content"},P.panels.map((s,l)=>e.createElement(W,{key:l,config:s,entities:r||[],index:l}))))}}}]);})();

//# sourceMappingURL=7202.e740350b.chunk.js.map