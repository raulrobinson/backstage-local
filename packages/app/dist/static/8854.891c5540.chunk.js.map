{"version":3,"file":"static/8854.891c5540.chunk.js","mappings":"28BAgCA,SAASA,GAAW,CAClB,OAAAA,EAAW,OAAO,QAAU,SAAUC,EAAQ,CAC5C,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CACzC,IAAIC,EAAS,UAAUD,CAAC,EAExB,QAASE,KAAOD,EACV,OAAO,UAAU,eAAe,KAAKA,EAAQC,CAAG,IAClDH,EAAOG,CAAG,EAAID,EAAOC,CAAG,EAG9B,CAEA,OAAOH,CACT,EAEOD,EAAS,MAAM,KAAM,SAAS,CACvC,CAEA,SAASK,GAA0BC,EAAK,CACtC,GAAIA,GAAO,KAAM,MAAM,IAAI,UAAU,8BAA8B,CACrE,CAEA,SAASC,GAA8BJ,EAAQK,EAAU,CACvD,GAAIL,GAAU,KAAM,MAAO,CAAC,EAC5B,IAAIF,EAAS,CAAC,EACVQ,EAAa,OAAO,KAAKN,CAAM,EAC/BC,EAAKF,EAET,IAAKA,EAAI,EAAGA,EAAIO,EAAW,OAAQP,IACjCE,EAAMK,EAAWP,CAAC,EACd,EAAAM,EAAS,QAAQJ,CAAG,GAAK,KAC7BH,EAAOG,CAAG,EAAID,EAAOC,CAAG,GAG1B,OAAOH,CACT,CAEA,IAAIS,GAAY,SAAmBC,EAAO,CACxC,OAAO,gBAAoBC,EAAA,EAAQ,OAAO,OAAO,CAAC,EAAGD,EAAO,CAC1D,MAAO,WACT,CAAC,EAAG,gBAAoBE,GAAA,EAAS,IAAI,EAAG,WAAW,CACrD,EAEIC,GAAW,CACb,OAAQC,GAAA,EACR,KAAMF,GAAA,EACN,WAAYG,GAAA,EACZ,aAAcC,GAAA,CAChB,EAEI,GAAa,SAAoBN,EAAO,CAC1C,IAAIO,EAAOP,EAAM,KACbQ,EAAYR,EAAM,UAClBS,EAAab,GAA8BI,EAAO,CAAC,OAAQ,YAAa,WAAW,CAAC,EAEpFU,EAAWP,GAASI,CAAI,EAC5B,OAAO,gBAAoBN,EAAA,EAAQ,OAAO,OAAO,CAAC,EAAGQ,EAAY,CAC/D,KAAM,OACR,CAAC,EAAG,gBAAoBC,EAAU,OAAO,OAAO,CAAC,EAAGF,CAAS,CAAC,CAAC,CACjE,EAEIG,GAAgB,QAChBC,GAAqB,QAErBC,GAAqB,SAA4Bb,EAAO,CAC1D,IAAIc,EAASd,EAAM,OACfe,EAAkBf,EAAM,SACxBgB,EAAWD,IAAoB,OAASH,GAAmB,EAAIG,EAEnE,OAAIJ,GAAcG,EAAQE,EAAS,UAAU,EACpC,gBAAoBC,GAAgC,OAAO,OAAO,CAAC,EAAGjB,CAAK,CAAC,EAE5E,gBAAoBkB,GAAiC,OAAO,OAAO,CAAC,EAAGlB,CAAK,CAAC,CAExF,EAEImB,GAAkB,SAAyBC,EAAM,CACnD,IAAIC,EAAaD,EAAK,WAClBE,EAAWF,EAAK,SAChBG,EAAQH,EAAK,MACbI,EAAWJ,EAAK,SAEpB,GAAI,CAACG,EACH,OAAO,KAGT,IAAIE,EAAKH,EAAS,IAAM,UACxB,OAAO,gBAAoBD,EAAY,CACrC,GAAII,EACJ,MAAOF,EACP,SAAUC,CACZ,CAAC,CACH,EAEIE,GAAwB,SAA+BC,EAAO,CAChE,IAAIC,EAAmBD,EAAM,iBACzBL,EAAWK,EAAM,SACjBE,EAAcF,EAAM,YAExB,GAAI,CAACE,EACH,OAAO,KAGT,IAAIJ,EAAKH,EAAS,IAAM,gBACxB,OAAO,gBAAoBM,EAAkB,CAC3C,GAAIH,EACJ,YAAaI,CACf,CAAC,CACH,EAGIC,GAAmB,SAA0B9B,EAAO,CACtD,IAAI+B,EAAW,CACb,KAAM,EACN,YAAa,EACb,aAAc,EACd,WAAY,OACZ,SAAU,CACZ,EACA,OAAO,gBAAoBC,EAAA,EAAM,CAC/B,UAAW,GACX,IAAKhC,EAAM,IACX,WAAY,QACd,EAAG,gBAAoBgC,EAAA,EAAM,CAC3B,KAAM,GACN,GAAI,GACJ,MAAO,CACL,SAAU,MACZ,CACF,EAAG,gBAAoBC,EAAA,EAAK,CAC1B,GAAI,CACN,EAAG,gBAAoBC,GAAA,EAAO,CAC5B,UAAW,CACb,EAAG,gBAAoBD,EAAA,EAAK,CAC1B,EAAG,CACL,EAAGjC,EAAM,QAAQ,CAAC,CAAC,CAAC,EAAGA,EAAM,YAAc,gBAAoBgC,EAAA,EAAM,CACnE,KAAM,EACR,GAAIhC,EAAM,WAAaA,EAAM,cAAgB,gBAAoB,GAAY,CAC3E,KAAM,WACN,UAAW,qBACX,SAAU,GACV,MAAO+B,EACP,UAAW,CACT,SAAU,OACZ,EACA,SAAU/B,EAAM,UAAYA,EAAM,UAAY,CAACA,EAAM,UACrD,QAASA,EAAM,eAAeA,EAAM,MAAOA,EAAM,MAAQ,CAAC,CAC5D,CAAC,GAAIA,EAAM,WAAaA,EAAM,cAAgB,gBAAoB,GAAY,CAC5E,KAAM,aACN,SAAU,GACV,MAAO+B,EACP,UAAW,CACT,SAAU,OACZ,EACA,SAAU/B,EAAM,UAAYA,EAAM,UAAY,CAACA,EAAM,YACrD,QAASA,EAAM,eAAeA,EAAM,MAAOA,EAAM,MAAQ,CAAC,CAC5D,CAAC,EAAGA,EAAM,WAAa,gBAAoB,GAAY,CACrD,KAAM,SACN,SAAU,GACV,MAAO+B,EACP,UAAW,CACT,SAAU,OACZ,EACA,SAAU/B,EAAM,UAAYA,EAAM,SAClC,QAASA,EAAM,iBAAiBA,EAAM,KAAK,CAC7C,CAAC,CAAC,CAAC,CACL,EAEIiB,GAAiC,SAAwCjB,EAAO,CAClF,OAAO,gBAAoB,WAAY,CACrC,UAAWA,EAAM,SACnB,EAAG,gBAAoBmB,GAAiB,CACtC,IAAK,qBAAuBnB,EAAM,SAAS,IAC3C,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,MAAOA,EAAM,SAAS,UAAU,GAAKA,EAAM,MAC3C,SAAUA,EAAM,QAClB,CAAC,GAAIA,EAAM,SAAS,gBAAgB,GAAKA,EAAM,OAAO,cAAgB,gBAAoB,MAAO,CAC/F,UAAW,oBACX,IAAK,qBAAuBA,EAAM,SAAS,GAC7C,EAAGA,EAAM,SAAS,gBAAgB,GAAKA,EAAM,OAAO,WAAW,EAAG,gBAAoB,MAAO,CAC3F,UAAW,sBACX,IAAK,mBAAqBA,EAAM,SAAS,GAC3C,EAAGA,EAAM,OAASA,EAAM,MAAM,IAAI8B,EAAgB,CAAC,EAAG9B,EAAM,QAAU,gBAAoBD,GAAW,CACnG,UAAW,iBACX,QAASC,EAAM,WACf,SAAUA,EAAM,UAAYA,EAAM,QACpC,CAAC,CAAC,CACJ,EAEIkB,GAAkC,SAAyClB,EAAO,CACpF,OAAO,gBAAoBkC,GAAA,EAAO,CAChC,UAAW,CACb,EAAG,gBAAoBD,EAAA,EAAK,CAC1B,EAAG,CACL,EAAG,gBAAoBd,GAAiB,CACtC,IAAK,qBAAuBnB,EAAM,SAAS,IAC3C,WAAYA,EAAM,WAClB,SAAUA,EAAM,SAChB,MAAOA,EAAM,SAAS,UAAU,GAAKA,EAAM,MAC3C,SAAUA,EAAM,QAClB,CAAC,GAAIA,EAAM,SAAS,gBAAgB,GAAKA,EAAM,OAAO,cAAgB,gBAAoB0B,GAAuB,CAC/G,IAAK,2BAA6B1B,EAAM,SAAS,IACjD,iBAAkBA,EAAM,iBACxB,SAAUA,EAAM,SAChB,YAAaA,EAAM,SAAS,gBAAgB,GAAKA,EAAM,OAAO,WAChE,CAAC,EAAG,gBAAoBgC,EAAA,EAAM,CAC5B,UAAW,GACX,IAAK,mBAAqBhC,EAAM,SAAS,GAC3C,EAAGA,EAAM,OAASA,EAAM,MAAM,IAAI,SAAUmC,EAAG,CAC7C,OAAOL,GAAiBK,CAAC,CAC3B,CAAC,EAAGnC,EAAM,QAAU,gBAAoBgC,EAAA,EAAM,CAC5C,UAAW,GACX,QAAS,UACX,EAAG,gBAAoBA,EAAA,EAAM,CAC3B,KAAM,EACR,EAAG,gBAAoBC,EAAA,EAAK,CAC1B,GAAI,CACN,EAAG,gBAAoBlC,GAAW,CAChC,UAAW,iBACX,QAASC,EAAM,WACf,SAAUA,EAAM,UAAYA,EAAM,QACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACT,EAEIoC,GAAY,SAAmBhB,EAAM,CACvC,IAAIiB,EAASjB,EAAK,OAClB,OAAO,gBAAoBc,GAAA,EAAO,CAChC,UAAW,CACb,EAAG,gBAAoBD,EAAA,EAAK,CAC1B,GAAI,EACJ,EAAG,CACL,EAAG,gBAAoBK,EAAA,EAAY,CACjC,QAAS,IACX,EAAG,QAAQ,EAAG,gBAAoB,KAAM,CACtC,MAAO,EACT,EAAGD,EAAO,IAAI,SAAUE,EAAOhD,EAAG,CAChC,OAAO,gBAAoBiD,GAAA,EAAU,CACnC,IAAKjD,CACP,EAAG,gBAAoBkD,GAAA,EAAc,KAAM,gBAAoB,KAAW,CACxE,MAAO,OACT,CAAC,CAAC,EAAG,gBAAoBC,GAAA,EAAc,CACrC,QAASH,EAAM,KACjB,CAAC,CAAC,CACJ,CAAC,CAAC,CAAC,CAAC,CACN,EAEII,MAEJ,MAAW,CACT,KAAM,CACJ,UAAW,CACb,CACF,CAAC,EAEGf,GAAmB,SAA0BR,EAAM,CACrD,IAAIS,EAAcT,EAAK,YAEvB,GAAIS,EAAa,CACf,IAAIe,EAAUD,GAAU,EACxB,OAAO,gBAAoBL,EAAA,EAAY,CACrC,QAAS,YACT,UAAWM,EAAQ,IACrB,EAAGf,CAAW,CAChB,CAEA,OAAO,IACT,EAEIR,GAAa,SAAoBD,EAAM,CACzC,IAAIG,EAAQH,EAAK,MACjB,OAAO,gBAAoB,WAAgB,KAAM,gBAAoBa,EAAA,EAAK,CACxE,GAAI,EACJ,GAAI,CACN,EAAG,gBAAoBK,EAAA,EAAY,CACjC,QAAS,IACX,EAAGf,CAAK,EAAG,gBAAoBsB,GAAA,EAAS,IAAI,CAAC,CAAC,CAChD,EAEIC,GAAS,CACX,iBAAkBlB,GAClB,WAAYP,EACd,EAEI0B,GAA2B,QAE3BC,GAAmB,SAA0B5B,EAAM,CACrD,IAAI6B,EAAW7B,EAAK,SAChB8B,EAAW9B,EAAK,SAChBK,EAAKL,EAAK,GACV+B,EAAQ/B,EAAK,MACbgC,EAAsBhC,EAAK,oBAC3BiC,EAAcjC,EAAK,YACnBkC,EAAWlC,EAAK,SAChBI,EAAWJ,EAAK,SAChBN,EAASM,EAAK,OACdmC,EAAWJ,EAAQ,OAEnBK,EAAa1C,EAAO,eAAeiC,EAAwB,EAC3DhB,EAAW,CACb,KAAM,EACN,YAAa,EACb,aAAc,EACd,WAAY,MACd,EAEA,GAAI,CAACyB,EACH,OAAO,gBAAoB,WAAgB,KAAMP,CAAQ,EAG3D,IAAIQ,EAAa,SAAoB9B,EAAO,CAC1C,IAAIrC,EAASqC,EAAM,OACnB,OAAO0B,EAAY/D,EAAO,KAAK,CACjC,EAEA,OAAO,gBAAoB0C,EAAA,EAAM,CAC/B,UAAW,GACX,IAAKP,EAAK,OACV,WAAY,SACZ,QAAS,CACX,EAAG,gBAAoBO,EAAA,EAAM,CAC3B,KAAM,GACN,GAAI,EACN,EAAG,gBAAoB0B,EAAA,EAAa,CAClC,UAAW,GACX,SAAUlC,CACZ,EAAG,gBAAoBmC,GAAA,EAAY,KAAMJ,CAAQ,EAAG,gBAAoBK,GAAA,EAAO,CAC7E,aAAcT,EACd,SAAUD,GAAYI,EACtB,GAAI7B,EAAK,OACT,KAAMA,EAAK,OACX,OAAS6B,EAAwB,OAAbG,EACpB,KAAM,MACR,CAAC,CAAC,CAAC,EAAG,gBAAoBzB,EAAA,EAAM,CAC9B,KAAM,GACN,GAAI,EACN,EAAGiB,CAAQ,EAAG,gBAAoBjB,EAAA,EAAM,CACtC,KAAM,EACR,EAAG,gBAAoB,GAAY,CACjC,KAAM,SACN,SAAU,GACV,MAAOD,EACP,SAAUmB,GAAYI,EACtB,QAASF,EAAoBD,CAAK,CACpC,CAAC,CAAC,CAAC,CACL,EAEIU,GAAgB,SAAuBzC,EAAM,CAC/C,IAAIK,EAAKL,EAAK,GACV6B,EAAW7B,EAAK,SAChB0C,EAAa1C,EAAK,WAClB8B,EAAW9B,EAAK,SAChB2C,EAAe3C,EAAK,aACpB4C,EAAS5C,EAAK,OACd+B,EAAQ/B,EAAK,MACbgC,EAAsBhC,EAAK,oBAC3BiC,EAAcjC,EAAK,YACnBkC,EAAWlC,EAAK,SAChBI,EAAWJ,EAAK,SAChB6C,EAAiB7C,EAAK,UACtB8C,EAAYD,IAAmB,OAAS,CAAC,EAAIA,EAC7CE,EAAU/C,EAAK,QACfgD,EAAiBhD,EAAK,eACtBN,EAASM,EAAK,OAElB,OAAI4C,EACKf,EAGF,gBAAoBD,GAAkB,CAC3C,WAAYc,EACZ,SAAUZ,EACV,GAAIzB,EACJ,MAAO0B,EACP,oBAAqBC,EACrB,YAAaC,EACb,SAAUC,EACV,SAAU9B,EACV,OAAQV,CACV,EAAG,gBAAoB4C,EAAA,EAAa,CAClC,UAAW,GACX,MAAO,EAAAQ,EAAU,OACjB,SAAU1C,CACZ,EAAGyB,EAAUc,GAAgBK,EAAiB,gBAAoB9B,EAAA,EAAY,CAC5E,QAAS,UACT,MAAO,eACT,EAAG8B,CAAc,EAAI,KAAMF,EAAU,OAAS,GAAK,gBAAoB,KAAM,CAC3E,MAAO,GACP,eAAgB,EAClB,EAAGA,EAAU,IAAI,SAAU3B,EAAOhD,EAAG,CACnC,OAAO,gBAAoBiD,GAAA,EAAU,CACnC,IAAKjD,EACL,eAAgB,EAClB,EAAG,gBAAoB8E,GAAA,EAAgB,CACrC,GAAI5C,CACN,EAAGc,CAAK,CAAC,CACX,CAAC,CAAC,EAAG4B,GAAW,gBAAoBE,GAAA,EAAgB,CAClD,GAAI5C,CACN,EAAG0C,CAAO,CAAC,CAAC,CACd,EAEIG,GAAY,QACZC,MAEJ,MAAW,CACT,KAAM,CACJ,UAAW,EACb,CACF,CAAC,EAEGC,GAAsB,SAA6BpD,EAAM,CAC3D,IAAIQ,EAAmBR,EAAK,iBACxBS,EAAcT,EAAK,YACnBC,EAAaD,EAAK,WAClBG,EAAQH,EAAK,MACbqD,EAAarD,EAAK,WAClBI,EAAWJ,EAAK,SAChB8B,EAAW9B,EAAK,SAChBkC,EAAWlC,EAAK,SAChBsD,EAAWtD,EAAK,SAChBE,EAAWF,EAAK,SAChBN,EAASM,EAAK,OACduD,EAAWvD,EAAK,SAChBwD,EAAaxD,EAAK,WAClBwB,EAAU2B,GAAY,EAC1B,OAAO,gBAAoB,WAAgB,MAAOG,EAAS,UAAU,GAAKnD,IAAU,gBAAoBF,EAAY,CAClH,GAAIC,EAAS,IAAM,SACnB,MAAOC,EACP,SAAUC,CACZ,CAAC,EAAGK,GAAe,gBAAoBD,EAAkB,CACvD,GAAIN,EAAS,IAAM,eACnB,YAAaO,CACf,CAAC,EAAG,gBAAoBG,EAAA,EAAM,CAC5B,UAAW,GACX,QAAS,EACT,UAAWY,EAAQ,IACrB,EAAG6B,EAAW,IAAI,SAAUI,EAASC,EAAO,CAC1C,OAEED,EAAQ,OAASA,EAAQ,QAAU,gBAAoB7C,EAAA,EAAM,CAC3D,KAAM,GACN,GAAI,GACJ,IAAK8C,EACL,MAAO,CACL,aAAc,MAChB,CACF,EAAGD,EAAQ,OAAO,CAEtB,CAAC,EAAGP,GAAUxD,EAAQ4D,EAAUC,CAAQ,GAAK,gBAAoB3C,EAAA,EAAM,CACrE,UAAW,GACX,QAAS,UACX,EAAG,gBAAoBA,EAAA,EAAM,CAC3B,KAAM,EACR,EAAG,gBAAoBjC,GAAW,CAChC,UAAW,yBACX,QAAS6E,EAAW9D,CAAM,EAC1B,SAAUoC,GAAYI,CACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CACP,EAEIyB,GAA0B,QAE1BC,GAAiB,SAAwBhF,EAAO,CAClD,IAAIc,EAASd,EAAM,OACfyB,EAAKzB,EAAM,GACXiF,EAAQjF,EAAM,MACdkD,EAAWlD,EAAM,SACjBsD,EAAWtD,EAAM,SACjBmD,EAAQnD,EAAM,MACdkF,EAAYlF,EAAM,UAClBmF,EAAWnF,EAAM,SACjBoF,EAASpF,EAAM,OACfqF,EAAUrF,EAAM,QAIhBwB,EAAWuD,GAAwBjE,CAAM,EAEzCwE,EAAY,SAAmBlE,EAAMmE,EAAS,CAChD,OAAA7F,GAA0B0B,CAAI,EAEvB+D,EAASI,CAAO,CACzB,EAEIC,EAAU,SAAiB7D,EAAO,CACpC,IAAIsD,EAAQtD,EAAM,OAAO,MACzB,OAAOyD,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBC,EAAO,CACtC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAOL,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEA,OAAO,gBAAoBU,GAAA,EAAkB,CAC3C,QAAS,gBAAoBC,GAAA,EAAU,CACrC,GAAInE,EACJ,QAAS,OAAOwD,GAAU,YAAc,GAAQA,EAChD,SAAUzD,EACV,SAAU0B,GAAYI,EACtB,UAAW4B,EACX,SAAUI,EACV,OAAQE,EACR,QAASC,CACX,CAAC,EACD,MAAOtC,CACT,CAAC,CACH,EAEI0C,GAAc,SAAqBZ,EAAOa,EAAUC,EAAK,CAC3D,IAAIC,EAAKD,EAAI,QAAQd,CAAK,EACtBgB,EAAUH,EAAS,MAAM,EAAGE,CAAE,EAAE,OAAOf,EAAOa,EAAS,MAAME,CAAE,CAAC,EAGpE,OAAOC,EAAQ,KAAK,SAAUC,EAAGC,EAAG,CAClC,OAAOJ,EAAI,QAAQG,CAAC,EAAIH,EAAI,QAAQI,CAAC,CACvC,CAAC,CACH,EAEIC,GAAgB,SAAuBnB,EAAOa,EAAU,CAC1D,OAAOA,EAAS,OAAO,SAAUO,EAAG,CAClC,OAAOA,IAAMpB,CACf,CAAC,CACH,EAEIqB,GAAmB,SAA0BlF,EAAM,CACrD,IAAIN,EAASM,EAAK,OACd+B,EAAQ/B,EAAK,MACbK,EAAKL,EAAK,GACV8B,EAAW9B,EAAK,SAChBmF,EAAUnF,EAAK,QACf6D,EAAQ7D,EAAK,MACb8D,EAAY9D,EAAK,UACjBkC,EAAWlC,EAAK,SAChBI,EAAWJ,EAAK,SAChB+D,EAAW/D,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACfoF,EAAcD,EAAQ,YACtBE,EAAeF,EAAQ,aACvBG,EAASH,EAAQ,OAEjBjB,EAAY,SAAmBqB,EAAQ,CACzC,OAAO,SAAUhF,EAAO,CACtB,IAAI4D,EAAU5D,EAAM,OAAO,QACvBoE,EAAMS,EAAY,IAAI,SAAUd,EAAO,CACzC,IAAIT,EAAQS,EAAM,MAClB,OAAOT,CACT,CAAC,EAGCE,EADEI,EACOM,GAAYc,EAAO,MAAO1B,EAAOc,CAAG,EAEpCK,GAAcO,EAAO,MAAO1B,CAAK,CAFI,CAIlD,CACF,EAEIO,EAAU,SAAiBoB,EAAO,CACpC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOxB,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBoB,EAAO,CACtC,IAAI5B,EAAQ4B,EAAM,OAAO,MACzB,OAAOxB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEA,OAAO,gBAAoB,WAAgB,KAAM,gBAAoB6B,GAAA,EAAW,CAC9E,SAAUtF,EACV,QAASC,CACX,EAAG0B,GAASrC,EAAO,KAAK,EAAG,gBAAoBiG,GAAA,EAAW,CACxD,IAAK,CAAC,CAACL,CACT,EAAGF,EAAY,IAAI,SAAUG,EAAQ7B,EAAO,CAC1C,IAAIS,EAAUN,EAAM,QAAQ0B,EAAO,KAAK,IAAM,GAC1CK,EAAeP,GAAgBA,EAAa,QAAQE,EAAO,KAAK,GAAK,GACrEM,EAAW,gBAAoBrB,GAAA,EAAU,CAC3C,GAAInE,EAAK,IAAMqD,EACf,QAASS,EACT,SAAUrC,GAAY8D,GAAgB1D,EACtC,UAAW4B,GAAaJ,IAAU,EAClC,SAAUQ,EAAUqB,CAAM,EAC1B,OAAQnB,EACR,QAASC,CACX,CAAC,EACD,OAAO,gBAAoBE,GAAA,EAAkB,CAC3C,QAASsB,EACT,IAAKnC,EACL,MAAO6B,EAAO,KAChB,CAAC,CACH,CAAC,CAAC,CAAC,CACL,EAEIO,GAAc,SAAqBlH,EAAO,CAC5C,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAClC,OAAO,gBAAoBmG,EAAY,OAAO,OAAO,CACnD,KAAM,OACR,EAAGnH,CAAK,CAAC,CACX,EAEIoH,GAAa,SAAoBpH,EAAO,CAC1C,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAClC,OAAO,gBAAoBmG,EAAY,OAAO,OAAO,CACnD,KAAM,OACN,gBAAiB,CACf,OAAQ,EACV,CACF,EAAGnH,CAAK,CAAC,CACX,EAEIqH,GAAa,QACbC,GAAa,QAEbC,GAAiB,SAAwBvH,EAAO,CAClD,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAC9BiE,EAAQqC,GAAWtH,EAAM,KAAK,EAE9BmF,EAAW,SAAkBF,EAAO,CACtCjF,EAAM,SAASqH,GAAWpC,CAAK,CAAC,CAClC,EAEA,OAAO,gBAAoBkC,EAAY,OAAO,OAAO,CACnD,KAAM,iBACN,gBAAiB,CACf,OAAQ,EACV,CACF,EAAGnH,EAAO,CACR,MAAOiF,EACP,SAAUE,CACZ,CAAC,CAAC,CACJ,EAEIqC,GAAc,SAAqBxH,EAAO,CAC5C,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAClC,OAAO,gBAAoBmG,EAAY,OAAO,OAAO,CACnD,KAAM,OACR,EAAGnH,CAAK,CAAC,CACX,EAEIyH,GAAiB,SAAwBzH,EAAO,CAClD,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAClC,OAAO,gBAAoBmG,EAAY,OAAO,OAAO,CACnD,KAAM,UACR,EAAGnH,CAAK,CAAC,CACX,EAEI0H,GAAc,SAAqBtG,EAAM,CAC3C,IAAIK,EAAKL,EAAK,GACVN,EAASM,EAAK,OACdmF,EAAUnF,EAAK,QACf6D,EAAQ7D,EAAK,MACbI,EAAWJ,EAAK,SAChB8B,EAAW9B,EAAK,SAChBkC,EAAWlC,EAAK,SAChB+B,EAAQ/B,EAAK,MACb+D,EAAW/D,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACfoF,EAAcD,EAAQ,YACtBE,EAAeF,EAAQ,aAEvBjB,EAAY,SAAmB3D,EAAOsD,EAAO,CAC/C,OAAAvF,GAA0BiC,CAAK,EAExBwD,EAASrE,EAAO,MAAQ,UAAYmE,IAAU,QAAUA,CAAK,CACtE,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEI0C,EAAMpB,EAAUA,EAAQ,OAAS,GACrC,OAAO,gBAAoB,WAAgB,KAAM,gBAAoBO,GAAA,EAAW,CAC9E,SAAUtF,EACV,QAASC,CACX,EAAG0B,GAASrC,EAAO,KAAK,EAAG,gBAAoB8G,GAAA,EAAY,CACzD,MAAO,GAAK3C,EACZ,IAAK0C,EACL,SAAUrC,EACV,OAAQE,EACR,QAASC,CACX,EAAGe,EAAY,IAAI,SAAUG,EAAQpH,EAAG,CACtC,IAAIyH,EAAeP,GAAgBA,EAAa,QAAQE,EAAO,KAAK,GAAK,GACrEkB,EAAQ,gBAAoBlC,GAAA,EAAkB,CAChD,QAAS,gBAAoBmC,GAAA,EAAO,CAClC,MAAO,UACP,IAAKvI,CACP,CAAC,EACD,MAAO,GAAKoH,EAAO,MACnB,MAAO,GAAKA,EAAO,MACnB,IAAKpH,EACL,SAAU2D,GAAY8D,GAAgB1D,CACxC,CAAC,EACD,OAAOuE,CACT,CAAC,CAAC,CAAC,CACL,EAEIE,GAAY,QAEZC,GAAc,SAAqB5G,EAAM,CAC3C,IAAI6D,EAAQ7D,EAAK,MACbkC,EAAWlC,EAAK,SAChB8B,EAAW9B,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACfmF,EAAUnF,EAAK,QACfN,EAASM,EAAK,OACd+D,EAAW/D,EAAK,SAChBI,EAAWJ,EAAK,SAChB+B,EAAQ/B,EAAK,MACbK,EAAKL,EAAK,GAEV6G,EAAc5I,EAAS,CACzB,MAAO4F,EACP,MAAO9B,EACP,GAAI1B,CACN,EAAGsG,GAAUjH,CAAM,CAAC,EAEhBwE,EAAY,SAAmB3D,EAAOsD,EAAO,CAC/C,OAAAvF,GAA0BiC,CAAK,EAExBwD,EAASF,IAAU,GAAKsB,EAAQ,WAAatB,CAAK,CAC3D,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEA,OAAO,gBAAoB,WAAgB,KAAM,gBAAoB6B,GAAA,EAAW,CAC9E,SAAUtF,EACV,GAAIC,CACN,EAAG0B,CAAK,EAAG,gBAAoB+E,GAAA,EAAQ,OAAO,OAAO,CACnD,SAAUhF,GAAYI,EACtB,SAAUgC,EACV,OAAQE,EACR,QAASC,EACT,kBAAmB,MACrB,EAAGwC,CAAW,CAAC,CAAC,CAClB,EAEIE,GAAW,QACXC,GAAY,QACZC,GAEJ,IAAI,IAAI,CAAC,SAAU,SAAS,CAAC,EAMzBC,GAAe,SAAsBxH,EAAQmE,EAAO,CAEtD,IAAIsD,EAAOzH,EAAO,KACd0H,EAAQ1H,EAAO,MAEnB,GAAImE,IAAU,GAEP,KAAIsD,IAAS,SAAWC,GAASH,GAAK,IAAIG,EAAM,IAAI,EACzD,OAAOvD,EAAM,IAAIkD,EAAQ,EACpB,GAAII,IAAS,UAClB,OAAOtD,IAAU,OACZ,GAAIsD,IAAS,SAClB,OAAOJ,GAASlD,CAAK,EAKvB,GAAInE,EAAO,KAAS,CAClB,GAAIA,EAAO,KAAQ,MAAM,SAAU2H,EAAG,CACpC,OAAOL,GAAUK,CAAC,IAAM,QAC1B,CAAC,EACC,OAAON,GAASlD,CAAK,EAChB,GAAInE,EAAO,KAAQ,MAAM,SAAU2H,EAAG,CAC3C,OAAOL,GAAUK,CAAC,IAAM,SAC1B,CAAC,EACC,OAAOxD,IAAU,MAErB,CAEA,OAAOA,EACT,EAEIyD,GAAe,SAAsBtH,EAAM,CAC7C,IAAIN,EAASM,EAAK,OACdK,EAAKL,EAAK,GACVmF,EAAUnF,EAAK,QACf+B,EAAQ/B,EAAK,MACbI,EAAWJ,EAAK,SAChB8B,EAAW9B,EAAK,SAChBkC,EAAWlC,EAAK,SAChB6D,EAAQ7D,EAAK,MACbuH,EAAWvH,EAAK,SAChB8D,EAAY9D,EAAK,UACjB+D,EAAW/D,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACf6C,EAAiB7C,EAAK,UACtB8C,EAAYD,IAAmB,OAAS,CAAC,EAAIA,EAC7CuC,EAAcD,EAAQ,YACtBE,EAAeF,EAAQ,aACvBqC,EAAaD,EAAW,CAAC,EAAI,GAE7BrD,EAAY,SAAmB3D,EAAO,CACxC,IAAIsD,EAAQtD,EAAM,OAAO,MACzB,OAAOwD,EAASmD,GAAaxH,EAAQmE,CAAK,CAAC,CAC7C,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAI6G,GAAaxH,EAAQmE,CAAK,CAAC,CAC/C,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAI6G,GAAaxH,EAAQmE,CAAK,CAAC,CAChD,EAEA,OAAO,gBAAoB4D,GAAA,EAAW,CACpC,GAAIpH,EACJ,MAAO0B,GAASrC,EAAO,MACvB,OAAQ,GACR,MAAO,OAAOmE,GAAU,YAAc2D,EAAa3D,EACnD,SAAUzD,EACV,SAAU0B,GAAYI,EACtB,UAAW4B,EACX,MAAOhB,EAAU,OAAS,EAC1B,SAAUoB,EACV,OAAQE,EACR,QAASC,EACT,gBAAiB,CACf,OAAQ,EACV,EACA,YAAa,CACX,SAAU,OAAOkD,GAAa,YAAc,GAAQA,CACtD,CACF,EAAGnC,EAAY,IAAI,SAAUK,EAAOtH,EAAG,CACrC,IAAI0F,EAAQ4B,EAAM,MACd1D,EAAQ0D,EAAM,MACd3D,EAAWuD,GAAgBA,EAAa,QAAQxB,CAAK,GAAK,GAC9D,OAAO,gBAAoB6D,EAAA,EAAU,CACnC,IAAKvJ,EACL,MAAO0F,EACP,SAAU/B,CACZ,EAAGC,CAAK,CACV,CAAC,CAAC,CACJ,EAEI4F,GAAiB,SAAwB3H,EAAM,CACjD,IAAIK,EAAKL,EAAK,GACV4H,EAAc5H,EAAK,YACnB6D,EAAQ7D,EAAK,MACbI,EAAWJ,EAAK,SAChB8B,EAAW9B,EAAK,SAChB8D,EAAY9D,EAAK,UACjB+B,EAAQ/B,EAAK,MACbkC,EAAWlC,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACf+D,EAAW/D,EAAK,SAChBmF,EAAUnF,EAAK,QACfN,EAASM,EAAK,OACd6C,EAAiB7C,EAAK,UACtB8C,EAAYD,IAAmB,OAAS,CAAC,EAAIA,EAE7CqB,EAAY,SAAmB3D,EAAO,CACxC,IAAIsD,EAAQtD,EAAM,OAAO,MACzB,OAAOwD,EAASF,IAAU,GAAKsB,EAAQ,WAAatB,CAAK,CAC3D,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEA,OAAO,gBAAoB4D,GAAA,EAAW,CACpC,GAAIpH,EACJ,MAAO0B,GAASrC,EAAO,MACvB,YAAakI,EACb,SAAU9F,GAAYI,EACtB,MAAO2B,EACP,SAAUzD,EACV,UAAW0D,EACX,UAAW,GACX,KAAMqB,EAAQ,MAAQ,EACtB,MAAOrC,EAAU,OAAS,EAC1B,SAAUoB,EACV,OAAQE,EACR,QAASC,CACX,CAAC,CACH,EAEIwD,GAAkB,QAElB9B,GAAa,SAAoB/F,EAAM,CACzC,IAAIK,EAAKL,EAAK,GACV4H,EAAc5H,EAAK,YACnBI,EAAWJ,EAAK,SAChBkC,EAAWlC,EAAK,SAChB8B,EAAW9B,EAAK,SAChBmH,EAAOnH,EAAK,KACZ+B,EAAQ/B,EAAK,MACb6D,EAAQ7D,EAAK,MACb+D,EAAW/D,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACf8D,EAAY9D,EAAK,UACjBmF,EAAUnF,EAAK,QACfN,EAASM,EAAK,OACdsD,EAAWtD,EAAK,SAChB6C,EAAiB7C,EAAK,UACtB8C,EAAYD,IAAmB,OAAS,CAAC,EAAIA,EAC7CiF,EAAiBtJ,GAA8BwB,EAAM,CAAC,KAAM,cAAe,WAAY,WAAY,WAAY,OAAQ,QAAS,QAAS,WAAY,SAAU,UAAW,YAAa,UAAW,SAAU,WAAY,YAAa,cAAe,UAAU,CAAC,EAE/PkE,EAAY,SAAmB3D,EAAO,CACxC,IAAIsD,EAAQtD,EAAM,OAAO,MACzB,OAAOwD,EAASF,IAAU,GAAKsB,EAAQ,WAAatB,CAAK,CAC3D,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEIlB,EAAekF,GAAgBnI,EAAQ4D,CAE3C,EACIyE,GAAaZ,GAAQzH,EAAO,QAAU,SAAW,OAAS,IAAMyH,GAAQzH,EAAO,MACnF,OAAO,gBAAoB+H,GAAA,EAAW,OAAO,OAAO,CAClD,GAAIpH,EACJ,YAAauH,EACb,MAAOjF,EAAeZ,GAASrC,EAAO,MAAQ,GAC9C,UAAWoE,EACX,SAAU1D,EACV,SAAU0B,GAAYI,EACtB,KAAM6F,EACN,MAAOlE,GAASA,IAAU,EAAIA,EAAQ,GACtC,MAAOf,EAAU,OAAS,EAC1B,SAAUoB,EACV,OAAQE,EACR,QAASC,CACX,EAAGyD,CAAc,CAAC,CACpB,EAEIE,GAAe,SAAsBhI,EAAM,CAC7C,IAAIK,EAAKL,EAAK,GACVI,EAAWJ,EAAK,SAChBkC,EAAWlC,EAAK,SAChB8B,EAAW9B,EAAK,SAChB+B,EAAQ/B,EAAK,MACb6D,EAAQ7D,EAAK,MACb+D,EAAW/D,EAAK,SAChBgE,EAAShE,EAAK,OACdiE,EAAUjE,EAAK,QACf8D,EAAY9D,EAAK,UAEjBkE,EAAY,SAAmB3D,EAAO,CACxC,IAAIsD,EAAQtD,EAAM,OAAO,MACzB,OAAOwD,EAASF,CAAK,CACvB,EAEIO,EAAU,SAAiBE,EAAO,CACpC,IAAIT,EAAQS,EAAM,OAAO,MACzB,OAAON,EAAO3D,EAAIwD,CAAK,CACzB,EAEIQ,EAAW,SAAkBmB,EAAO,CACtC,IAAI3B,EAAQ2B,EAAM,OAAO,MACzB,OAAOvB,EAAQ5D,EAAIwD,CAAK,CAC1B,EAEA,OAAO,gBAAoBvB,EAAA,EAAa,CACtC,UAAW,GAEX,SAAUlC,CACZ,EAAG,gBAAoBmC,GAAA,EAAY,KAAMR,CAAK,EAAG,gBAAoBS,GAAA,EAAO,CAC1E,GAAInC,EACJ,UAAWyD,EACX,SAAU1D,EACV,KAAM,SACN,SAAU0B,GAAYI,EACtB,MAAO2B,GAASA,IAAU,EAAIA,EAAQ,GACtC,SAAUK,EACV,OAAQE,EACR,QAASC,CACX,CAAC,CAAC,CACJ,EAEI4D,GAAY,SAAmBrJ,EAAO,CACxC,IAAIgB,EAAWhB,EAAM,SACjBmH,EAAanG,EAAS,QAAQ,WAClC,OAAO,gBAAoBmG,EAAY,OAAO,OAAO,CACnD,KAAM,KACR,EAAGnH,CAAK,CAAC,CACX,EAEIsJ,GAAU,CACZ,eAAgBtE,GAChB,iBAAkBsB,GAClB,YAAaY,GACb,WAAYE,GACZ,eAAgBG,GAChB,YAAaC,GACb,eAAgBC,GAChB,YAAaC,GACb,YAAaM,GACb,aAAcU,GACd,eAAgBK,GAChB,WAAY5B,GACZ,aAAciC,GACd,UAAWC,EACb,EAEIE,GAAuB,QAEvBC,GAEJD,GAAqB,EACjBE,GAASD,GAAoB,OAC7BE,GAAUF,GAAoB,QAE9BG,GAAkB,UAA2B,CAC/C,OAAO,gBAAoB1H,EAAA,EAAK,CAC9B,UAAW,CACb,EAAG,gBAAoBhC,EAAA,EAAQ,CAC7B,KAAM,SACN,QAAS,YACT,MAAO,SACT,EAAG,QAAQ,CAAC,CACd,EAEI2J,GAAQ,CACV,SAEA,gBAAoBD,GAAiB,IAAI,EACzC,mBAAoB9I,GACpB,OAEAxB,EAAS,CAAC,EAAGoK,GAAQ3G,EAAM,EAC3B,cAAee,GACf,oBAAqBW,GACrB,QAEAnF,EAAS,CAAC,EAAGqK,GAASJ,EAAO,EAC7B,UAAWlH,EACb,EAEIyH,GAEJ,KAEA,GAAe,K,6OCn/Bf,MAAMC,MAAcC,EAAA,GAAYC,IAAW,CACzC,WAAY,CACV,SAAU,UACZ,EACA,MAAO,CACL,gBAAiB,CAAC,CAAE,gBAAAC,CAAgB,IAAMA,EAC1C,MAAO,CAAC,CAAE,UAAAC,CAAU,IAAMA,CAC5B,EACA,IAAK,CACH,SAAU,SACV,aAAc,WACd,QAAS,cACT,qBAAsB,GACtB,qBAAsB,UACxB,EACA,MAAO,CACL,MAAOF,EAAM,QAAQ,KAAK,UAC1B,cAAe,YACf,SAAU,UACV,WAAY,OACZ,cAAe,GACf,WAAY,EACZ,cAAe,QACjB,EACA,WAAY,CACV,QAAS,QACX,EACA,YAAa,CACX,MAAO,CACL,OAAQ,KACV,CACF,EACA,WAAY,CACV,YAAa,MACf,EACA,WAAY,CACV,SAAU,WACV,IAAKA,EAAM,QAAQ,EAAG,EACtB,MAAOA,EAAM,QAAQ,EAAG,EACxB,QAAS,UACT,MAAO,CAAC,CAAE,UAAAE,CAAU,IAAMA,CAC5B,CACF,EAAE,EACIC,GAAU,CAAC,CAAE,KAAMC,CAAK,IAAsB,gBAAoBA,EAAM,IAAI,EAC5EC,MAAuBN,EAAA,GAAYC,IAAW,CAClD,gBAAiB,CACf,SAAU,WACV,IAAKA,EAAM,QAAQ,EAAG,EACtB,MAAOA,EAAM,QAAQ,GAAG,EACxB,QAAS,SACX,EACA,KAAM,CACJ,MAAOA,EAAM,QAAQ,QAAQ,KAC/B,CACF,EAAE,EACIM,GAAwBC,GAAa,CACzC,IAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACxB,MAAO,CACL,IAAKN,EAAS,SAAS,IACvB,KAAMA,EAAS,SAAS,KACxB,MAAO,IAAIC,EAAKD,EAAS,SAAS,OAASA,EAAS,SAAS,OAAS,KAAOC,EAAK,KAClF,MAAOC,EAAKF,EAAS,KAAK,OAAS,KAAOE,EAAK,GAC/C,aAAcC,EAAKH,EAAS,SAAS,cAAgB,KAAOG,EAAK,IACjE,MAAOE,GAAMD,EAAKJ,EAAS,WAAa,KAAO,OAASI,EAAG,OAAS,KAAOC,EAAK,CAAC,EACjF,OAAQC,EAAKN,EAAS,SAAS,QAAU,KAAOM,EAAK,CAAC,CACxD,CACF,EACMC,GAAqB,IAAM,CAC/B,MAAMC,EAASV,GAAqB,EAC9BW,EAAwB,gBAAoB1I,EAAA,EAAY,CAAE,MAAO,CAAE,QAAS,GAAI,SAAU,GAAI,CAAE,EAAG,sHAAsH,EAC/N,OAAuB,gBAAoB,MAAO,CAAE,UAAWyI,EAAO,eAAgB,EAAmB,gBAAoBE,EAAA,GAAS,CAAE,MAAOD,CAAM,EAAmB,gBACtK,KACA,CACE,GAAI,0FACJ,UAAWD,EAAO,IACpB,EACgB,gBAAoBG,GAAA,EAAa,IAAI,CACvD,CAAC,CAAC,CACJ,EACMC,GAAe,CAAC,CAAE,SAAAZ,EAAU,WAAAa,CAAW,IAAM,CACjD,IAAIZ,EAAIC,EAAIC,EACZ,MAAMW,KAAM,MAAO,EACbC,KAAiBC,GAAA,GAAS,EAC1BC,KAAgB,MAAY,GAAwB,EACpDC,EAAgBnB,GAAqBC,CAAQ,EAC7CmB,KAAmB,MACvBnB,EACA,IACF,EACMoB,EAAUL,EAAe,aAAa,CAAE,QAASG,EAAc,IAAK,CAAC,EAAIA,EAAc,KAAO,QAC9FzB,EAAQsB,EAAe,aAAa,CAAE,QAAAK,CAAQ,CAAC,EAC/C/I,EAAUkH,GAAY,CAC1B,UAAWE,EAAM,UACjB,gBAAiBA,EAAM,eACzB,CAAC,EACK,CAAE,KAAA4B,EAAM,UAAAC,CAAU,KAAI,SAAe,MAAmBtB,CAAQ,CAAC,EACjEuB,EAAON,EAAc,CAAE,aAAcI,EAAM,UAAAC,CAAU,CAAC,EACtDE,KAAc,MAAY,GAAmB,EAE7CC,EAAmB,CAAC,GADMxB,EAAKD,EAAS,SAAS,cAAgB,KAAO,OAASC,EAAG,2BAA2B,IAChE,CAAC,CAACuB,GAAeA,EAAY,CAChF,UAAWxB,EAAS,SAAS,WAAa,KAC1C,KAAMA,EAAS,KACf,KAAMA,EAAS,SAAS,IAC1B,CAAC,EACK0B,EAAgBxM,GAAQ,CAC5B,IAAIyM,EACJ,OAAOzM,IAAOyM,EAAMb,EAAI,cAAc5L,CAAG,IAAM,KAAOyM,EAAqBC,GAAA,CAC7E,EACMC,KAAqB,MAAO,KAAqB,EACjDC,KAAiB,MAAwB9B,EAAU6B,CAAkB,EAC3E,OAAuB,gBAAoBE,GAAA,EAAM,KAAsB,gBAAoBC,GAAA,EAAW,CAAE,UAAW3J,EAAQ,UAAW,EAAmB,gBAAoB,KAAgB,CAAE,UAAWA,EAAQ,WAAY,OAAQ2H,CAAS,CAAC,EAAGa,GAA8B,gBAAoBN,GAAoB,IAAI,EAAmB,gBAC9U,KACA,CACE,MAAOW,EAAc,MACrB,SAAUA,EAAc,KACxB,QAAS,CAAE,KAAM7I,EAAQ,KAAM,CACjC,CACF,CAAC,EAAmB,gBAClB4J,GAAA,EACA,CACE,MAAO,CAAE,QAAS,OAAQ,cAAe,SAAU,IAAK,MAAO,CACjE,EACgB,gBAAoBvK,EAAA,EAAK,CAAE,UAAWW,EAAQ,GAAI,EAAmB,gBAAoBN,EAAA,EAAY,CAAE,QAAS,QAAS,UAAWM,EAAQ,KAAM,EAAG,aAAa,EAAmB,gBACnM,KACA,CACE,UAAWA,EAAQ,YACnB,QAAS6I,EAAc,WACzB,CACF,CAAC,EACe,gBAAoBxJ,EAAA,EAAK,CAAE,UAAWW,EAAQ,GAAI,EAAmB,gBAAoBN,EAAA,EAAY,CAAE,QAAS,QAAS,UAAWM,EAAQ,KAAM,EAAG,OAAO,EAAmB,gBAAoB,KAAgB,CAAE,WAAY8I,EAAkB,YAAa,OAAQ,CAAC,CAAC,EAC1Q,gBAAoBzJ,EAAA,EAAK,KAAsB,gBAC7DK,EAAA,EACA,CACE,MAAO,CAAE,aAAc,KAAM,EAC7B,QAAS,QACT,UAAWM,EAAQ,KACrB,EACA,MACF,GAAI6H,EAAKgB,EAAc,OAAS,KAAO,OAAShB,EAAG,IAAKgC,GAAwB,gBAAoBC,GAAA,EAAM,CAAE,KAAM,QAAS,MAAOD,EAAK,IAAKA,CAAI,CAAC,CAAC,CAAC,CACrJ,EAAmB,gBACjBnK,EAAA,EACA,CACE,QAAS,QACT,UAAW,CAACM,EAAQ,MAAOA,EAAQ,UAAU,EAAE,KAAK,GAAG,CACzD,EACA,OACF,EAAmB,gBAAoB+J,GAAA,EAAa,KAAsB,gBAAoB,MAAO,CAAE,UAAW/J,EAAQ,UAAW,EAAGyJ,GAAkC,gBACxKpB,EAAA,GACA,CACE,MAAOoB,EAAe,iBAAmBA,EAAe,iBAC1D,EACgB,gBACdO,EAAA,EACA,CACE,UAAWhK,EAAQ,WACnB,KAAMyJ,EAAe,iBACvB,EACgB,gBAAoB,MAAoB,CAAE,KAAMA,EAAe,eAAgB,CAAC,CAClG,CACF,EAAGL,GAAoC,gBAAoBf,EAAA,GAAS,CAAE,MAAO,eAAgB,EAAmB,gBAC9G2B,EAAA,EACA,CACE,UAAWhK,EAAQ,WACnB,KAAMoJ,CACR,EACgB,gBAAoB7B,GAAS,CAAE,KAAM8B,EAAa,MAAM,CAAE,CAAC,CAC7E,CAAC,GAAIvB,EAAKe,EAAc,QAAU,KAAO,OAASf,EAAG,IAAI,CAACmC,EAAMtN,IAAsB,gBAAoB0L,EAAA,GAAS,CAAE,IAAK,GAAG4B,EAAK,OAAOtN,IAAK,MAAOsN,EAAK,OAASA,EAAK,GAAI,EAAmB,gBAAoBD,EAAA,EAAY,CAAE,KAAM,SAAU,KAAMC,EAAK,GAAI,EAAmB,gBAAoB1C,GAAS,CAAE,KAAM8B,EAAaY,EAAK,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAmB,gBACtW,KACA,CACE,MAAO,UACP,GAAIf,EACJ,aAAc,UAAUL,EAAc,OACxC,EACA,QACF,CAAC,CAAC,CACJ,EAEMqB,GAAe,CAAC,CACpB,sBAAAC,EACA,MAAAC,EACA,eAAAC,CACF,IAAM,CACJ,KAAM,CAAE,QAAAC,EAAS,MAAA3K,EAAO,SAAA4K,CAAS,KAAI,MAAc,EAC7Cb,EAAOS,GAAyB5B,GAChCiC,EAAmBD,EAAS,OAAO,IAAuB,EAC1DE,GAAyBL,EAAQI,EAAiB,OAAOJ,EAAM,MAAM,EAAII,GAAkB,OAAQE,GAAML,EAAiBA,EAAeK,CAAC,EAAI,EAAI,EAClJC,GAAkB,IAClBP,GAASA,EAAM,MACb,OAAOA,EAAM,OAAU,SACF,gBAAoB,KAAe,CAAE,MAAOA,EAAM,KAAM,CAAC,EAE3EA,EAAM,MAEQ,gBAAoB,KAAe,CAAE,MAAO,iBAAkB,CAAC,GACrF,EACH,OAAIA,GAASK,EAAsB,SAAW,EACrC,KAEc,gBAAoB,WAAgB,KAAMH,GAA2B,gBAAoB,KAAU,IAAI,EAAG3K,GAAyB,gBAAoB,KAAc,CAAE,MAAO,kDAAmD,EAAGA,EAAM,OAAO,EAAG,CAACA,GAAS,CAAC2K,GAAW,CAACC,EAAS,QAA0B,gBAAoB7K,EAAA,EAAY,CAAE,QAAS,OAAQ,EAAG,8DAA+D,IAAqB,gBAAoB,KAAM,CAAE,GAAI,wEAAyE,EAAG,kBAAkB,EAAG,GAAG,EAAmB,gBAAoB,KAAS,KAAMiL,EAAgC,gBAAoB,KAAc,KAAMF,IAA0BA,GAAyB,KAAO,OAASA,EAAsB,QAAU,GAAKA,EAAsB,IAAK9C,GAA6B,gBAC/2B+B,EACA,CACE,OAAK,MAAmB/B,CAAQ,EAChC,SAAAA,EACA,WAAYA,EAAS,aAAe,sBACtC,CACF,CAAC,CAAC,CAAC,CAAC,CACN,EAEMiD,MAAczD,EAAA,GAAcC,IAAW,CAC3C,OAAQ,CACN,MAAOA,EAAM,KAAK,SACpB,CACF,EAAE,EACF,SAASyD,GAA0BzN,EAAO,CACxC,MAAM4C,EAAU4K,GAAY,EACtB,CAACE,EAAUC,CAAW,KAAI,YAAS,EACnCC,KAAW,MAAY,GAAY,EACnCC,KAAc,MAAY,GAAe,EACzCC,KAAY,MAAY,GAA0B,EAClDC,KAAW,MAAY,EACvBC,EAAahO,EAAM,SAAW,GAC9BiO,EAAcjO,EAAM,UAAY,GAChCkO,EAAYlO,EAAM,QAAU,GAClC,GAAI,CAACgO,GAAc,CAACC,EAClB,OAAO,KAET,MAAME,EAAUC,GAAU,CACxBT,EAAYS,EAAM,aAAa,CACjC,EACMC,EAAU,IAAM,CACpBV,EAAY,MAAM,CACpB,EACA,OAAuB,gBAAoB,WAAgB,KAAsB,gBAC/Ef,EAAA,EACA,CACE,GAAI,YACJ,aAAc,OACd,gBAAiB,YACjB,gBAAiB,CAAC,CAACc,EACnB,gBAAiB,OACjB,KAAM,SACN,QAASS,EACT,cAAe,cACf,MAAO,UACP,UAAWvL,EAAQ,MACrB,EACgB,gBAAoB0L,GAAA,EAAU,IAAI,CACpD,EAAmB,gBACjBC,GAAA,GACA,CACE,kBAAmB,YACnB,KAAM,QAAQb,CAAQ,EACtB,QAAAW,EACA,SAAAX,EACA,aAAc,CAAE,SAAU,SAAU,WAAY,OAAQ,EACxD,gBAAiB,CAAE,SAAU,MAAO,WAAY,OAAQ,CAC1D,EACgB,gBAAoBc,GAAA,EAAU,KAAMR,GAA8B,gBAAoBlF,EAAA,EAAU,CAAE,QAAS,IAAMiF,EAASH,EAAS,CAAC,CAAE,EAAmB,gBAAoBnL,GAAA,EAAc,KAAsB,gBAAoBgM,GAAA,EAAM,CAAE,SAAU,OAAQ,CAAC,CAAC,EAAmB,gBAAoB/L,GAAA,EAAc,CAAE,QAAS,iBAAkB,CAAC,CAAC,EAAGuL,GAA+B,gBAAoBnF,EAAA,EAAU,CAAE,QAAS,IAAMiF,EAASF,EAAY,CAAC,CAAE,EAAmB,gBAAoBpL,GAAA,EAAc,KAAsB,gBAAoBiM,GAAA,EAAa,CAAE,SAAU,OAAQ,CAAC,CAAC,EAAmB,gBAAoBhM,GAAA,EAAc,CAAE,QAAS,mBAAoB,CAAC,CAAC,EAAGwL,GAA6B,gBAAoBpF,EAAA,EAAU,CAAE,QAAS,IAAMiF,EAASD,EAAU,CAAC,CAAE,EAAmB,gBAAoBrL,GAAA,EAAc,KAAsB,gBAAoBkM,GAAA,EAAM,CAAE,SAAU,OAAQ,CAAC,CAAC,EAAmB,gBAAoBjM,GAAA,EAAc,CAAE,QAAS,WAAY,CAAC,CAAC,CAAC,CACv9B,CAAC,CACH,CAEA,MAAMkM,GAAyB,CAAC,CAC9B,sBAAA7B,EACA,OAAA8B,EACA,eAAA5B,EACA,YAAA6B,EACA,cAAAC,CACF,IAAM,CACJ,MAAMC,KAAwB,MAAY,GAAyB,EAC7DC,EAAsB,CAC1B,MAAOJ,EAAS,kBAAoB,YACpC,OAASK,GAEA,EADWL,GAAU,KAAOA,EAAS,CAAC,GAAG,IAAK7B,GAAUA,EAAM,OAAOkC,CAAM,CAAC,EAClE,KAAMC,GAAWA,IAAW,EAAI,CAErD,EACM,CAAE,QAAAC,CAAQ,KAAI,OAAc,CAChC,WAAY,KACd,CAAC,EACD,OAAuB,gBAAoB,KAAM,CAAE,QAAS,MAAO,EAAmB,gBACpF,KACA,CACE,kBAAmB,yBACnB,MAAO,yBACP,SAAU,0DACV,GAAGL,CACL,EACgB,gBAAoBtB,GAA2B,CAAE,GAAGqB,CAAY,CAAC,CACnF,EAAmB,gBAAoB,KAAS,KAAsB,gBAAoB,KAAe,CAAE,MAAO,qBAAsB,EAAGM,GAA2B,gBACpK,KACA,CACE,MAAO,8BACP,GAAIJ,GAAyBA,EAAsB,CACrD,CACF,EAAmB,gBAAoB,KAAe,KAAM,6JAA6J,CAAC,EAAmB,gBAAoB,KAAqB,KAAsB,gBAAoB,aAA6B,KAAsB,gBAAoB,KAAiB,IAAI,EAAmB,gBAAoB,KAAkB,CAAE,cAAe,WAAY,OAAQ,EAAK,CAAC,EAAmB,gBACjhB,KACA,CACE,cAAe,MACf,iBAAkB,CAAC,MAAO,SAAS,CACrC,CACF,EAAmB,gBAAoB,KAAoB,IAAI,EAAmB,gBAAoB,KAAiB,IAAI,CAAC,EAAmB,gBAAoB,aAA6B,KAAMH,GAAUA,EAAO,IAAI,CAAC7B,EAAOlI,IAA0B,gBAC3PgI,GACA,CACE,IAAKhI,EACL,sBAAAiI,EACA,MAAAC,EACA,eAAAC,CACF,CACF,CAAC,EAAmB,gBAClBH,GACA,CACE,IAAK,QACL,sBAAAC,EACA,eAAAE,EACA,MAAOgC,CACT,CACF,CAAC,CAAC,CAAC,CAAC,CACN,EACMI,GAAiB,CAAC,CACtB,sBAAAtC,EACA,OAAA8B,EACA,eAAA5B,EACA,YAAA6B,EACA,cAAAC,CACF,IAAsB,gBAAoB,KAAoB,KAAsB,gBAClFH,GACA,CACE,sBAAA7B,EACA,OAAA8B,EACA,eAAA5B,EACA,YAAA6B,EACA,cAAAC,CACF,CACF,CAAC,EAED,SAASO,EAAWrK,EAAO,CACzB,OAAO,OAAOA,GAAU,UAAYA,IAAU,MAAQ,CAAC,MAAM,QAAQA,CAAK,CAC5E,CACA,SAASsK,EAAgBzO,EAAQ4D,EAAU,CACzC,GAAI,CAAC4K,EAAWxO,CAAM,EACpB,OAEF,KAAM,CAAE,WAAA2D,EAAY,MAAA+D,EAAO,MAAAgH,EAAO,MAAAC,EAAO,MAAAC,EAAO,aAAAC,CAAa,EAAI7O,EACjE,UAAW8O,KAAY9O,EAChBA,EAAO,eAAe8O,CAAQ,GAG/BA,EAAS,WAAW,KAAK,IAC3BlL,EAASkL,CAAQ,EAAI9O,EAAO8O,CAAQ,EACpC,OAAO9O,EAAO8O,CAAQ,GAG1B,GAAIN,EAAW7K,CAAU,EACvB,UAAWmL,KAAYnL,EAAY,CACjC,GAAI,CAACA,EAAW,eAAemL,CAAQ,EACrC,SAEF,MAAMC,EAAapL,EAAWmL,CAAQ,EACtC,GAAI,CAACN,EAAWO,CAAU,EACxB,SAEF,MAAMC,EAAgB,CAAC,EACvBpL,EAASkL,CAAQ,EAAIlL,EAASkL,CAAQ,GAAKE,EAC3CP,EAAgBM,EAAYC,CAAa,CAC3C,CAEF,GAAIR,EAAW9G,CAAK,EAAG,CACrB,MAAMsH,EAAgB,CAAC,EACvBpL,EAAS,MAAQoL,EACjBP,EAAgB/G,EAAOsH,CAAa,CACtC,CACA,GAAI,MAAM,QAAQN,CAAK,EACrB,UAAWK,KAAcL,EAClBF,EAAWO,CAAU,GAG1BN,EAAgBM,EAAYnL,CAAQ,EAGxC,GAAI,MAAM,QAAQ+K,CAAK,EACrB,UAAWI,KAAcJ,EAClBH,EAAWO,CAAU,GAG1BN,EAAgBM,EAAYnL,CAAQ,EAGxC,GAAI,MAAM,QAAQgL,CAAK,EACrB,UAAWG,KAAcH,EAClBJ,EAAWO,CAAU,GAG1BN,EAAgBM,EAAYnL,CAAQ,EAGxC,GAAI4K,EAAWK,CAAY,EACzB,UAAWI,KAAW,OAAO,KAAKJ,CAAY,EAAG,CAC/C,MAAME,EAAaF,EAAaI,CAAO,EAClCT,EAAWO,CAAU,GAG1BN,EAAgBM,EAAYnL,CAAQ,CACtC,CAEJ,CACA,SAASsL,GAAuBC,EAAaC,EAAU,CAAC,EAAG,CACzD,IAAI1F,EACJ,MAAM2F,EAAmBF,EAAY,wBAAwB,EAC7DA,EAAY,KAAOA,EAAY,MAAQ,SACvC,MAAMnP,EAAS,KAAK,MAAM,KAAK,UAAUmP,CAAW,CAAC,EACrD,OAAOnP,EAAO,MACd,MAAM4D,EAAW,CAAC,EAElB,GADA6K,EAAgBzO,EAAQ4D,CAAQ,EAC5ByL,EAAkB,CACpB,MAAMC,GAAU5F,EAAK0F,EAAQ,KAC1BG,GAAWA,EAAO,OAASF,CAC9B,IAAM,KAAO,OAAS3F,EAAG,UACrB4F,IACF1L,EAAS,wBAAwB,EAAI0L,EAEzC,CACA,MAAO,CAAE,OAAAtP,EAAQ,SAAA4D,CAAS,CAC5B,CAIA,IAAI4L,GAA8B,OAAO,OAAO,CAC9C,UAAW,KACX,iBAJuB,CAAC,CAAE,YAAAzO,CAAY,IAAMA,GAA+B,gBAAoB,KAAiB,CAAE,QAASA,EAAa,WAAY,QAAS,CAAC,CAKhK,CAAC,EAED,SAAS0O,GAAc5L,EAAU6L,EAAW,CAC1C,MAAMC,EAAa,CAAC,EACdC,EAA0B,IAAI,IAClCF,EAAU,IAAKG,GAAOA,EAAG,IAAI,EAAE,OAAO,OAAO,oBAAoBhM,CAAQ,CAAC,CAC5E,EACA,UAAWlF,KAAOiR,EAAyB,CACzC,MAAMhM,EAAW8L,EAAU,KAAMG,GAAOA,EAAG,OAASlR,CAAG,EACvD,GAAI,CAACiF,EAAU,CACb+L,EAAWhR,CAAG,EAAIkF,EAASlF,CAAG,EAC9B,QACF,CACA,GAAIiF,EAAS,WAAW,IAAM,WAAY,CACxC+L,EAAWhR,CAAG,EAAI,SAClB,QACF,CACA,GAAI,CAACiF,EAAS,cAAc,GAAK,CAACA,EAAS,cAAc,EAAE,OAAQ,CACjE+L,EAAWhR,CAAG,EAAIkF,EAASlF,CAAG,EAC9B,QACF,CACA,MAAMmR,EAASlM,EAAS,cAAc,EAAE,OACxC,GAAIkM,EAAO,KAAM,CACfH,EAAWhR,CAAG,EAAImR,EAAO,KACzB,QACF,CACKA,EAAO,OAGZH,EAAWhR,CAAG,EAAIkF,EAASlF,CAAG,EAChC,CACA,OAAOgR,CACT,CACA,SAASI,GAAsBC,EAAO,CACpC,MAAMN,EAAY,CAAC,EACnB,OAAAM,EAAM,QAASC,GAAS,CACtB,MAAMC,EAAcD,EAAK,OAAO,WAChC,UAAWtR,KAAOuR,EAChB,GAAIA,EAAY,eAAevR,CAAG,EAAG,CACnC,MAAMiF,EAAWsM,EAAYvR,CAAG,EAChCiF,EAAS,KAAOjF,EAChB+Q,EAAU,KAAK9L,CAAQ,CACzB,CAEJ,CAAC,EACM8L,CACT,CACA,MAAMS,GAAcjR,GAAU,CAC5B,KAAM,CACJ,eAAAkR,EACA,SAAAvM,EACA,WAAAwM,EACA,aAAAC,EACA,YAAAC,EACA,MAAAP,CACF,EAAI9Q,EACJ,OAAuB,gBAAoB,KAAS,KAAsB,gBAAoBkC,GAAA,EAAO,CAAE,OAAQ,GAAM,UAAW,CAAE,EAAmB,gBAAoBI,EAAA,EAAY,CAAE,QAAS,IAAK,EAAG,mBAAmB,EAAmB,gBAC5O,KACA,CACE,MAAO,GACP,SAAUiO,GACR5L,EACAkM,GACEC,EAAM,IAAI,CAAC,CAAE,aAAAQ,CAAa,KAAO,CAAE,OAAQA,CAAa,EAAE,CAC5D,CACF,CACF,CACF,EAAmB,gBAAoBrP,EAAA,EAAK,CAAE,GAAI,CAAE,CAAC,EAAmB,gBAAoBhC,EAAA,EAAQ,CAAE,QAASkR,EAAY,SAAUD,CAAe,EAAG,MAAM,EAAmB,gBAAoBjR,EAAA,EAAQ,CAAE,QAASoR,EAAa,SAAUH,CAAe,EAAG,OAAO,EAAmB,gBACxRjR,EAAA,EACA,CACE,QAAS,YACT,MAAO,UACP,QAASmR,EACT,SAAUF,CACZ,EACA,QACF,CAAC,CAAC,CACJ,EAEMK,MAAS,MAAU3H,EAAK,EAC9B,SAAS4H,GAAoBV,EAAO,CAClC,OAAOA,EAAM,IAAI,CAAC,CAAE,OAAAhQ,CAAO,KAAO,CAChC,aAAcA,EACd,MAAG,OAAsBA,CAAM,CACjC,EAAE,CACJ,CACA,MAAM2Q,GAAqBzR,GAAU,CACnC,KAAM,CACJ,SAAA2E,EACA,SAAAQ,EACA,QAAAuM,EACA,SAAAC,EACA,OAAAlI,EACA,QAAAC,EACA,QAAAwG,EACA,oBAAA0B,CACF,EAAI5R,EACE,CAAE,aAAA6R,CAAa,KAAI,MAAkB,GAAwB,EAC7DC,KAAY,MAAa,EACzB,CAACC,EAAYC,CAAa,KAAI,YAAS,CAAC,EACxC,CAACd,EAAgBe,CAAiB,KAAI,YAAS,EAAK,EACpDC,KAAW,MAAO,IAAW,EAC7BC,KAAiB,MAAO,IAAkB,EAC1CC,EAAiB,wBACjBC,EAAuBtB,GAAS,CACpC,IAAIvG,EACJ,MAAM8H,EAAe,KAAUvB,CAAI,EAC7BwB,GAAsB,CAAC,EAC7B,OAAID,EAAa,OAAO,aACtBA,EAAa,OAAO,WAAa,OAAO,YACtC,OAAO,QAAQA,EAAa,OAAO,UAAU,EAAE,OAC7C,CAAC,CAAC7S,EAAKwF,EAAK,IACNA,GAAMmN,CAAc,EAClBD,EAAe,SAASlN,GAAMmN,CAAc,CAAC,EACxC,IAETG,GAAoB,KAAK9S,CAAG,EACrB,IAEF,EAEX,CACF,EACA6S,EAAa,OAAO,SAAW,MAAM,QAAQA,EAAa,OAAO,QAAQ,GAAK9H,EAAK8H,EAAa,OAAO,WAAa,KAAO,OAAS9H,EAAG,OACpIgI,GAAM,CAACD,GAAoB,SAASC,CAAC,CACxC,EAAIF,EAAa,OAAO,UAEnBA,CACT,EACMxB,EAAQ9Q,EAAM,MAAM,OAAQ+Q,GAAS,CACzC,MAAM0B,EAAc1B,EAAK,OAAOqB,CAAc,EAC9C,OAAO,OAAOK,GAAgB,UAAYN,EAAe,SAASM,CAAW,CAC/E,CAAC,EAAE,IAAIJ,CAAmB,EACpBhB,EAAc,IAAM,CACxBW,EAAc,CAAC,EACfN,EAAQ,CACV,EACMgB,EAAa,IAAM,CACvB,MAAMC,EAAU,KAAK,IAAIZ,EAAa,EAAGjB,EAAM,MAAM,EACrDkB,EAAcW,CAAO,EACrBb,EAAU,aAAa,QAAS,cAAca,IAAU,CAC1D,EACMxB,EAAa,IAAMa,EAAc,KAAK,IAAID,EAAa,EAAG,CAAC,CAAC,EAC5DX,EAAe,SAAY,CAC/B,GAAKO,EAGL,CAAAM,EAAkB,EAAI,EACtB,GAAI,CACF,MAAMN,EAAS,EACfG,EAAU,aAAa,SAAUnN,EAAS,MAAQ,OAAOkN,GAAc,CACzE,OAASe,EAAP,CACAV,EAAS,KAAKU,CAAG,CACnB,QAAE,CACAX,EAAkB,EAAK,CACzB,EACF,EACMY,EAAoBjB,GAAuB,KAAOA,EAAsBX,GAC9E,OAAuB,gBAAoB,WAAgB,KAAsB,gBAAoB6B,GAAA,EAAS,CAAE,WAAAf,EAAY,YAAa,UAAW,EAAGjB,EAAM,IAAI,CAAC,CAAE,MAAAvP,EAAO,OAAAT,EAAQ,GAAGiS,CAAU,EAAGjO,KAC1K,gBAAoBkO,GAAA,EAAM,CAAE,IAAKzR,CAAM,EAAmB,gBAC/E0R,GAAA,EACA,CACE,aAAc,QAAQnO,GAAQ,KAAKvD,IACnC,gBAAiB,QACjB,SAAU,CACZ,EACgB,gBAAoBe,EAAA,EAAY,CAAE,QAAS,KAAM,UAAW,IAAK,EAAGf,CAAK,CAC3F,EAAmB,gBAAoB2R,GAAA,EAAa,CAAE,IAAK3R,CAAM,EAAmB,gBAClFgQ,GACA,CACE,cAAe,GACf,OAAQ,CAAE,GAAGjB,GAAgB,GAAG7G,CAAO,EACvC,QAAAC,EACA,gBAAiB,GACjB,SAAA/E,EACA,YAAa,CAAE,SAAAA,CAAS,EACxB,SAAAQ,EACA,SAAWmI,GAAM,CACXA,EAAE,OAAO,SAAW,GACtBoF,EAAW,CACf,EACA,GAAGK,EACH,GAAG/C,GAAuBlP,EAAQoP,CAAO,CAC3C,EACgB,gBAAoBjQ,EAAA,EAAQ,CAAE,SAAU8R,IAAe,EAAG,QAASZ,CAAW,EAAG,MAAM,EACvF,gBAAoBlR,EAAA,EAAQ,CAAE,QAAS,YAAa,MAAO,UAAW,KAAM,QAAS,EAAG,WAAW,CACrH,CAAC,CAAC,CACH,CAAC,EAAG8R,IAAejB,EAAM,QAA0B,gBAClD+B,EACA,CACE,eAAA3B,EACA,WAAAC,EACA,aAAAC,EACA,YAAAC,EACA,SAAA1M,EACA,MAAO6M,GAAoBV,CAAK,CAClC,CACF,CAAC,CACH,EAEA,SAASqC,EAASxT,EAAK,CACrB,OAAO,OAAOA,GAAQ,UAAYA,IAAQ,MAAQ,CAAC,MAAM,QAAQA,CAAG,CACtE,CACA,SAASyT,GAAQzT,EAAK,CACpB,OAAO,OAAOA,GAAQ,UAAYA,IAAQ,MAAQ,MAAM,QAAQA,CAAG,CACrE,CACA,MAAM0T,GAAkB,CAACC,EAAYC,EAAYC,IAAY,CAC3D,SAASC,EAAS3S,EAAQ6D,EAAUtC,EAAQ,CAC1C,IAAImI,EACJ,MAAMwG,EAAclQ,EAAO,WACrB4S,EAAe5S,EAAO,OAAS,UAAYkQ,IAAgB,OACjE,GAAI,GAACmC,EAASnC,CAAW,GAAK,CAAC0C,IAG/B,GAAI1C,EACF,SAAW,CAACvR,EAAKkU,CAAQ,IAAK,OAAO,QAAQhP,CAAQ,EAAG,CACtD,MAAMiP,EAAiBvR,EAAO5C,CAAG,EAC3BoU,EAAcC,GAAS,CAC3B,GAAIA,GAAQX,EAASW,CAAI,EAAG,CAC1B,MAAMC,EAAYD,EAAK,UAAU,EAC7BC,GAAa,OAAOR,EAAWQ,CAAS,GAAM,YAChDR,EAAWQ,CAAS,EAClBJ,EACAC,EACAJ,CACF,CAEJ,CACF,EACMQ,EAAkBhD,EAAYvR,CAAG,EACvC,GAAI0T,EAASQ,CAAQ,GAAKR,EAASa,CAAe,EAChDP,EACEO,EACAL,EACAC,CACF,UACSR,GAAQO,CAAQ,GACzB,GAAIR,EAASa,CAAe,EAAG,CAC7B,KAAM,CAAE,MAAAxL,CAAM,EAAIwL,EAClB,GAAIb,EAAS3K,CAAK,EAChB,GAAIA,EAAM,OAAS,SAAU,CAC3B,MAAM/D,GAAc+F,EAAKhC,GAAS,KAAO,OAASA,EAAM,aAAe,KAAOgC,EAAK,CAAC,EACpF,SAAW,CAAC,CAAEvF,CAAK,IAAK,OAAO,QAAQR,CAAU,EAC/CoP,EAAW5O,CAAK,CAEpB,MACE4O,EAAWrL,CAAK,CAGtB,OAEAqL,EAAWG,CAAe,CAE9B,SACSN,EAAc,CACvB,MAAMK,EAAYjT,EAAO,UAAU,EAC/BiT,GAAa,OAAOR,EAAWQ,CAAS,GAAM,YAChDR,EAAWQ,CAAS,EAAEpP,EAAUtC,EAAQmR,CAAO,CAEnD,EACF,CACA,MAAO,CAAC7O,EAAUtC,KAChBoR,EAASH,EAAY3O,EAAUtC,CAAM,EAC9BA,EAEX,EAEM4R,GAA8BC,GAAgB,CAClD,MAAMC,KAAgB,MAAO,IAAgB,EACvC,CAAE,MAAAlP,EAAO,QAAAiI,EAAS,MAAA3K,CAAM,KAAI6R,GAAA,SAChC,IAAMD,EAAc,2BAA2BD,CAAW,EAC1D,CAACC,EAAeD,CAAW,CAC7B,EACA,MAAO,CAAE,OAAQjP,EAAO,QAAAiI,EAAS,MAAA3K,CAAM,CACzC,EACM8R,GAAe,CAAC,CACpB,oBAAAzC,EACA,sBAAA0C,EAAwB,CAAC,EACzB,QAAApE,EAAU,CAAC,EACX,cAAAnB,CACF,IAAM,CACJ,MAAMwF,KAAY,MAAa,EACzBC,KAAiB,MAAmB,EACpCtC,KAAW,MAAO,IAAW,EAC7BiC,KAAgB,MAAO,IAAgB,EACvC,CAAE,aAAAtC,EAAc,UAAAhG,CAAU,KAAI,MAClC,GACF,EACMqI,KAAc,MAAmB,CACrC,KAAMrC,EACN,KAAM,WACN,UAAAhG,CACF,CAAC,EACKkC,KAAW,MAAY,EACvB0G,KAAsB,MAAY,GAAsB,EACxDC,KAAY,MAAY,GAAY,EACpC,CAAE,OAAA5T,EAAQ,QAAAoM,EAAS,MAAA3K,CAAM,EAAI0R,GAA2BC,CAAW,EACnE,CAACS,EAAWC,CAAY,KAAI,YAAS,IAAM,CAC/C,IAAIpK,EACJ,MAAMqK,EAAQ,WAAS,OAAO,SAAS,OAAQ,CAC7C,kBAAmB,EACrB,CAAC,EACD,GAAI,CACF,OAAO,KAAK,MAAMA,EAAM,QAAQ,CAClC,MAAE,CACA,OAAQrK,EAAKqK,EAAM,WAAa,KAAOrK,EAAK,CAAC,CAC/C,CACF,CAAC,EACKsK,EAAkB,IAAMF,EAAa,CAAC,CAAC,EACvCG,KAAe,eAClBzH,GAAMsH,EAAatH,EAAE,QAAQ,EAC9B,CAACsH,CAAY,CACf,EACMxD,EAAe,SAAY,CAC/B,IAAI5G,EACJ,KAAM,CAAE,OAAAwK,CAAO,EAAI,MAAMb,EAAc,SAAS,CAC9C,YAAAD,EACA,OAAQS,EACR,QAASH,GAAkB,KAAO,OAASA,EAAe,OAC5D,CAAC,EACKS,EAAa,eACjB,CAAE,SAAUN,CAAU,EACtB,CAAE,eAAgB,EAAK,CACzB,EACMO,EAAS,GAAG,OAAO,SAAS,WAAWD,KAC5CzK,EAAK,OAAO,UAAY,MAAgBA,EAAG,aAAa,KAAM,SAAS,MAAO0K,CAAM,EACrFnH,EAAS0G,EAAoB,CAAE,OAAAO,CAAO,CAAC,CAAC,CAC1C,EACA,GAAIzS,EACF,OAAA2P,EAAS,KAAK,IAAI,MAAM,4BAA4B3P,GAAO,CAAC,EACrC,gBAAoB,KAAU,CAAE,GAAImS,EAAU,CAAE,CAAC,EAE1E,GAAI,CAACxH,GAAW,CAACpM,EACf,OAAAoR,EAAS,KAAK,IAAI,MAAM,yBAAyB,CAAC,EAC3B,gBAAoB,KAAU,CAAE,GAAIwC,EAAU,CAAE,CAAC,EAE1E,MAAMS,EAAwB,OAAO,YACnCb,EAAsB,IAAI,CAAC,CAAE,KAAA1I,EAAM,UAAAwJ,CAAU,IAAM,CAACxJ,EAAMwJ,CAAS,CAAC,CACtE,EACMC,EAAwB,OAAO,YACnCf,EAAsB,IAAI,CAAC,CAAE,KAAA1I,EAAM,WAAA0J,CAAW,IAAM,CAAC1J,EAAM0J,CAAU,CAAC,CACxE,EACA,OAAuB,gBAAoB,KAAkB,CAAE,WAAY,CAAE,UAAWpB,CAAY,CAAE,EAAmB,gBAAoB,KAAM,CAAE,QAAS,MAAO,EAAmB,gBACtL,KACA,CACE,kBAAmB,yBACnB,MAAO,yBACP,SAAU,0DACV,GAAGnF,CACL,CACF,EAAmB,gBAAoB,KAAS,KAAM7B,GAA2B,gBAAoBqI,GAAA,EAAgB,CAAE,cAAe,kBAAmB,CAAC,EAAGzU,GAA0B,gBACrL,KACA,CACE,MAAOA,EAAO,MACd,UAAW,GACX,qBAAsB,CAAE,UAAW,IAAK,CAC1C,EACgB,gBACd2Q,GACA,CACE,oBAAAG,EACA,SAAU+C,EACV,OAAQQ,EACR,SAAUJ,EACV,QAASD,EACT,SAAU1D,EACV,QAAAlB,EACA,MAAOpP,EAAO,MAAM,IAAKiQ,IAChB,CACL,GAAGA,EACH,SAAUsC,GACRtC,EAAK,OACLsE,EACA,CAAE,UAAAd,CAAU,CACd,CACF,EACD,CACH,CACF,CACF,CAAC,CAAC,CAAC,CACL,EAEA,IAAIiB,GAAY,OAAO,eACnBC,GAAkB,CAAC9V,EAAKF,EAAKwF,IAAUxF,KAAOE,EAAM6V,GAAU7V,EAAKF,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,MAAAwF,CAAM,CAAC,EAAItF,EAAIF,CAAG,EAAIwF,EACtJyQ,GAAgB,CAAC/V,EAAKF,EAAKwF,KAC7BwQ,GAAgB9V,EAAK,OAAOF,GAAQ,SAAWA,EAAM,GAAKA,EAAKwF,CAAK,EAC7DA,GAET,MAAM0Q,MAAc5L,EAAA,GAAa,CAC/B,iBAAkB,CAChB,SAAU,WACV,MAAO,OACP,OAAQ,MACV,EACA,UAAW,CACT,SAAU,WACV,IAAK,EACL,OAAQ,EACR,KAAM,EACN,MAAO,EACP,SAAU,MACZ,CACF,CAAC,EACD,MAAM6L,WAAsB,WAAU,CACpC,aAAc,CACZ,MAAM,GAAG,SAAS,EAClBF,GAAc,KAAM,QAAS,CAC3B,aAAc,EAChB,CAAC,CACH,CACA,mBAAmBG,EAAW,CACxBA,EAAU,cAAgB,KAAK,MAAM,aACvC,KAAK,SAAS,CAAE,aAAc,EAAK,CAAC,CAExC,CACA,kBAAkBtT,EAAO,CACvB,KAAK,MAAM,aAAaA,EAAM,OAAO,EACrC,KAAK,SAAS,CAAE,aAAc,EAAM,CAAC,CACvC,CACA,QAAS,CACP,OAAO,KAAK,MAAM,aAAe,KAAK,MAAM,SAAW,IACzD,CACF,CACA,SAASuT,GAAa7Q,EAAO,CAC3B,OAAO,OAAOA,GAAU,UAAYA,IAAU,MAAQ,CAAC,MAAM,QAAQA,CAAK,CAC5E,CACA,SAAS8Q,EAAmB/V,EAAO,CACjC,KAAM,CACJ,QAAAgW,EACA,cAAAC,EACA,KAAAC,EACA,SAAAC,EACA,SAAAC,EACA,aAAAC,EACA,gBAAAC,EAAkB,CAAC,EACnB,QAAApG,EAAU,CAAC,CACb,EAAIlQ,EACE4C,EAAU+S,GAAY,EACtBpB,KAAY,MAAa,EACzB,CAACzD,EAAOyF,CAAQ,KAAI,YAAS,EAC7B9M,KAAS,WAAQ,IACd,OAAO,YACZ6M,EAAgB,IAAI,CAAC,CAAE,KAAA1K,EAAM,UAAAwJ,CAAU,IAAM,CAACxJ,EAAMwJ,CAAS,CAAC,CAChE,EACC,CAACkB,CAAe,CAAC,EAoDpB,SAnDAE,GAAA,GACE,IAAM,CACJ,GAAI,CACF,GAAI,CAACR,EAAS,CACZO,EAAS,MAAM,EACf,MACF,CACA,MAAME,EAAS,YAAWT,CAAO,EACjC,GAAI,CAACF,GAAaW,CAAM,EAAG,CACzBF,EAAS,MAAM,EACf,MACF,CACA,IAAIG,EAAUD,EACd,GAAI,CAACR,EAAe,CAElB,GAAI,EADe,OAAOQ,EAAO,IAAI,EAAE,kBAAkB,OAAO,IAAM,YACrD,CACfF,EAAS,MAAM,EACf,MACF,CACAG,EAAUZ,GAAaW,EAAO,IAAI,EAAIA,EAAO,KAAO,CAAC,CACvD,CACA,KAAM,CAAE,WAAAE,CAAW,EAAID,EACvB,GAAI,CAAC,MAAM,QAAQC,CAAU,EAAG,CAC9BN,EAAa,sCAAsC,EACnDE,EAAS,MAAM,EACf,MACF,CACA,MAAMK,EAAkB,OAAO,YAC7BN,EAAgB,IAAI,CAAC,CAAE,KAAA1K,EAAM,WAAA0J,CAAW,IAAM,CAAC1J,EAAM0J,CAAU,CAAC,CAClE,EACAe,EAAa,EACbE,EACEI,EAAW,QACRE,GAAUf,GAAae,CAAK,EAAI,CAC/B,CACE,MAAO,OAAOA,EAAM,KAAK,EACzB,OAAQA,EACR,SAAUxD,GAAgBwD,EAAOD,EAAiB,CAChD,UAAArC,CACF,CAAC,CACH,CACF,EAAI,CAAC,CACP,CACF,CACF,OAASjH,EAAP,CACA+I,EAAa/I,EAAE,OAAO,CACxB,CACF,EACA,IACA,CAAC2I,EAAeD,EAASzB,CAAS,CACpC,EACKzD,EAGkB,gBAAoB,MAAO,CAAE,UAAWlO,EAAQ,gBAAiB,EAAmB,gBAAoB,MAAO,CAAE,UAAWA,EAAQ,SAAU,EAAmB,gBAAoBgT,GAAe,CAAE,YAAa9E,EAAO,aAAAuF,CAAa,EAAmB,gBAC/Q5E,GACA,CACE,MAAAX,EACA,OAAArH,EACA,SAAUyM,EACV,SAAW5I,GAAM6I,EAAS7I,EAAE,QAAQ,EACpC,QAAS,IAAM6I,EAAS,CAAC,CAAC,EAC1B,kBAAmBC,GAAY,SAC/B,SAAUA,IAAa,IAAMA,EAASF,CAAI,GAC1C,QAAAhG,CACF,CACF,CAAC,CAAC,CAAC,EAdM,IAeX,CACA,SAAS4G,GAAwC9W,EAAO,CACtD,KAAM,CAAE,aAAAqW,EAAc,gBAAAC,EAAkB,CAAC,EAAG,QAAApG,CAAQ,EAAIlQ,EAClD+W,KAAS,KAAU,EACnBC,KAAkB,KAAmB,EACrC,CAAE,aAAAC,CAAa,EAAID,EACnB,CAACd,EAAMgB,CAAO,KAAI,YAAS,CAAC,CAAC,EAC7BC,EAAe,SAAY,CAC/B,GAAKF,EAGL,GAAI,CACF,MAAMF,EAAO,QAAQ,CACnB,gBAAiBE,EAAa,QAC9B,OAAQf,EACR,MAAOc,EAAgB,KACzB,CAAC,EACDX,EAAa,CACf,OAAS/I,EAAP,CACA,MAAA+I,EAAa,OAAO/I,EAAE,OAASA,CAAC,CAAC,EAC3BA,CACR,CACF,EACM0I,EAAUiB,GAAgBA,EAAa,KAAK,MAAM,UAAU,EAAIA,EAAa,QAAU,OAC7F,OAAuB,gBACrBlB,EACA,CACE,SAAUoB,EACV,gBAAAb,EACA,aAAAD,EACA,QAAAL,EACA,KAAAE,EACA,SAAUgB,EACV,QAAAhH,CACF,CACF,CACF,CACA6F,EAAmB,sBAAwBe,GAE3C,MAAMM,MAAO,MAAUxN,EAAK,EACtByN,MAActN,EAAA,GAAYC,IAAW,CACzC,KAAM,CACJ,SAAU,cACV,QAAS,OACT,kBAAmB;AAAA;AAAA;AAAA,MAInB,iBAAkB,WAClB,oBAAqB,SACvB,EACA,SAAU,CACR,SAAU,WACV,QAAS,OACT,SAAU,aACV,WAAY,SACZ,OAAQA,EAAM,QAAQ,CAAC,CACzB,EACA,UAAW,CACT,SAAU,WACZ,EACA,QAAS,CACP,SAAU,SACZ,CACF,EAAE,EACIsN,GAAsB,CAAC,CAC3B,sBAAAhD,EAAwB,CAAC,EACzB,QAAAjG,CACF,IAAM,CACJ,IAAI7D,EAAIC,EACR,MAAM7H,EAAUyU,GAAY,EACtBE,EAAejD,EAAsB,OAAQkD,GAAU,CAAC,CAACA,EAAM,MAAM,EACrE,CAACC,EAAeC,CAAgB,KAAI,YAASH,EAAa,CAAC,CAAC,EAC5D,CAACI,EAAgBC,CAAiB,KAAI,YAAS,CAAC,CAAC,EACjD,CAACjD,EAAWC,CAAY,KAAI,YAAS,CAAC,CAAC,EACvC,CAACiD,EAAYC,CAAa,KAAI,YAAS,KAAK,IAAI,CAAC,EACjDC,KAAsB,WAC1B,IAAM,CACJ,IAAI7L,EAAK8L,EACT,OAAO,gBAAe,CACpB,WAAY,CACV,CACE,MAAO,GAAGP,EAAc,eACxB,WAAY,CACV,CAACA,EAAc,IAAI,EAAG,CACpB,MAAOO,GAAO9L,EAAMuL,EAAc,SAAW,KAAO,OAASvL,EAAI,cAAgB,KAAO,OAAS8L,EAAI,KACrG,WAAYP,EAAc,KAC1B,aAAcE,CAChB,CACF,CACF,CACF,CACF,CAAC,CACH,EACA,CAACA,EAAgBF,CAAa,CAChC,EACMQ,KAAkB,WAAQ,IACvB,OAAO,YACZ3D,EAAsB,IAAI,CAAC,CAAE,KAAA1I,EAAM,UAAAwJ,CAAU,IAAM,CAACxJ,EAAMwJ,CAAS,CAAC,CACtE,EACC,CAACd,CAAqB,CAAC,EACpB4D,KAAwB,eAC3BC,GAAc,CACbT,EAAiBS,CAAS,EAC1BP,EAAkB,CAAC,CAAC,EACpBhD,EAAa,CAAC,CAAC,CACjB,EACA,CAACgD,EAAmBhD,EAAc8C,CAAgB,CACpD,EACMU,KAA0B,eAC7BC,GAAU,CACTT,EAAkBS,CAAK,EACvBzD,EAAa,CAAC,CAAC,EACfkD,EAAc,KAAK,IAAI,CAAC,CAC1B,EACA,CAACF,EAAmBE,CAAa,CACnC,EACA,OAAuB,gBAAoB,OAAQ,CAAE,UAAWlV,EAAQ,IAAK,EAAmB,gBAAoB,MAAO,CAAE,UAAWA,EAAQ,QAAS,EAAmB,gBAAoBc,EAAA,EAAa,CAAE,QAAS,WAAY,KAAM,QAAS,UAAW,EAAK,EAAmB,gBAAoBC,GAAA,EAAY,CAAE,GAAI,oBAAqB,EAAG,+BAA+B,EAAmB,gBACpY2U,GAAA,EACA,CACE,MAAOb,EACP,MAAO,gCACP,QAAS,qBACT,SAAWnK,GAAM4K,EAAsB5K,EAAE,OAAO,KAAK,CACvD,EACAiK,EAAa,IAAI,CAAC5Q,EAAQ4R,IAAwB,gBAAoBzP,EAAA,EAAY,CAAE,IAAKyP,EAAK,MAAO5R,CAAO,EAAGA,EAAO,IAAI,CAAC,CAC7H,CAAC,EAAmB,gBAAoBiG,EAAA,EAAY,CAAE,KAAM,SAAU,QAASyB,EAAS,aAAc,OAAQ,EAAmB,gBAAoBmK,GAAA,EAAW,IAAI,CAAC,CAAC,EAAmB,gBAAoB,MAAO,CAAE,UAAW5V,EAAQ,SAAU,EAAmB,gBAAoB0J,GAAA,EAAM,KAAsB,gBAAoBmM,GAAA,EAAY,CAAE,MAAO,eAAgB,CAAC,EAAmB,gBAAoBjM,GAAA,EAAa,KAAsB,gBACxb4K,GACA,CACE,cAAe,GACf,OAAQ,CAAE,GAAG9G,GAAgB,GAAG2H,CAAgB,EAChD,gBAAiB,GACjB,SAAUN,EACV,YAAa,CAAE,eAAAA,CAAe,EAC9B,SAAWrK,GAAM8K,EAAwB9K,EAAE,QAAQ,EACnD,SAAU9C,EAAKiN,EAAc,SAAW,KAAO,OAASjN,EAAG,YAAc,CAAC,CAC5E,EACgB,gBACdvK,EAAA,EACA,CACE,QAAS,YACT,MAAO,UACP,KAAM,SACN,SAAU,GAAGwK,EAAKgN,EAAc,SAAW,MAAgBhN,EAAG,UAChE,EACA,OACF,CACF,CAAC,CAAC,CAAC,EAAmB,gBAAoB,MAAO,CAAE,UAAW7H,EAAQ,OAAQ,EAAmB,gBAAoB0J,GAAA,EAAM,KAAsB,gBAAoBmM,GAAA,EAAY,CAAE,MAAO,uBAAwB,CAAC,EAAmB,gBAAoBjM,GAAA,EAAa,KAAsB,gBAC3R,MACA,CACE,SAAU,GACV,MAAO,OACP,OAAQ,OACR,WAAY,CAAC,aAAsBkM,GAAA,CAAM,CAAC,EAC1C,MAAOX,CACT,CACF,CAAC,CAAC,EAAmB,gBACnBhC,EACA,CACE,IAAK8B,EACL,QAASE,EACT,cAAe,GACf,gBAAiBzD,EACjB,KAAMK,EACN,SAAUC,EACV,aAAc,IAAM,IACtB,CACF,CAAC,CAAC,CACJ,EAEM,MAAc7K,EAAA,GAAW,CAE7B,KAAM,CACJ,SAAU,cACV,QAAS,OACT,kBAAmB;AAAA;AAAA;AAAA,MAInB,oBAAqB,cACrB,iBAAkB,UACpB,EACA,QAAS,CACP,SAAU,UACV,SAAU,MACZ,EACA,OAAQ,CACN,SAAU,SACV,SAAU,MACZ,EACA,QAAS,CACP,SAAU,UACV,SAAU,MACZ,EACA,QAAS,CACP,SAAU,SACZ,CACF,CAAC,EACK4O,GAAkB3Y,GAAU,CAChC,MAAM4C,EAAU,GAAY,EACtB,CAACgW,EAAWvC,CAAY,KAAI,YAAS,EAC3C,OAAuB,gBAAoB,IAAyB,CAAE,UAAWrW,EAAM,SAAU,EAAmB,gBAAoB,IAAgB,KAAsB,gBAAoB,OAAQ,CAAE,UAAW4C,EAAQ,IAAK,EAAmB,gBAAoB,UAAW,CAAE,UAAWA,EAAQ,OAAQ,EAAmB,gBAAoB,IAAuB,CAAE,QAAS5C,EAAM,OAAQ,CAAC,CAAC,EAAmB,gBAAoB,UAAW,CAAE,UAAW4C,EAAQ,MAAO,EAAmB,gBAAoB,oBAAwC,CAAE,UAAAgW,CAAU,CAAC,CAAC,EAAmB,gBAAoB,UAAW,CAAE,UAAWhW,EAAQ,OAAQ,EAAmB,gBACvpBmT,EAAmB,sBACnB,CACE,aAAAM,EACA,gBAAiBrW,EAAM,gBACvB,QAASA,EAAM,OACjB,CACF,CAAC,EAAmB,gBAAoB,UAAW,CAAE,UAAW4C,EAAQ,OAAQ,EAAmB,gBAAoB,IAAe,IAAI,CAAC,CAAC,CAAC,CAAC,CAChJ,EAEMiW,GAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsC/B,MAAY9O,EAAA,GAAYC,IAAW,CACvC,KAAM,CACJ,SAAU,cACV,QAAS,OACT,kBAAmB;AAAA;AAAA;AAAA,MAInB,iBAAkB,WAClB,oBAAqB,SACvB,EACA,SAAU,CACR,SAAU,WACV,QAAS,OACT,SAAU,aACV,WAAY,SACZ,OAAQA,EAAM,QAAQ,CAAC,CACzB,EACA,SAAU,CACR,SAAU,UACZ,EACA,QAAS,CACP,SAAU,SACZ,CACF,EAAE,EACI8O,GAAwB,CAAC,CAC7B,uBAAAC,EAAyBF,GACzB,sBAAAvE,EAAwB,CAAC,EACzB,QAAAjG,EACA,QAAA6B,EAAU,CAAC,CACb,IAAM,CACJ,MAAMtN,EAAU,GAAU,EACpBoW,KAAW,MAAO,IAAW,EAC7BC,KAAa,MAAO,IAAa,EACjC,CAACC,EAAkBC,CAAmB,KAAI,YAAS,EAAE,EACrD,CAACP,EAAWvC,CAAY,KAAI,YAAS,EACrC,CAAC+C,EAAiBC,CAAkB,KAAI,YAAS,CAAC,CAAC,EACnD,CAACC,EAAcC,CAAe,KAAI,YAASR,CAAsB,EACjE,CAACpE,EAAWC,CAAY,KAAI,YAAS,CAAC,CAAC,EACvC,CAAE,QAAA1H,CAAQ,KAAIkH,GAAA,SAClB,IAAM6E,EAAW,YAAY,CAC3B,OAAQ,CAAE,KAAM,UAAW,EAC3B,OAAQ,CACN,OACA,qBACA,gBACA,iBACA,kBACA,aACA,aACF,CACF,CAAC,EAAE,KACD,CAAC,CAAE,MAAAzQ,CAAM,IAAM6Q,EACb7Q,EAAM,IAAK+B,GAAa,CACtB,IAAIC,EACJ,MAAO,CACL,OAAQA,EAAKD,EAAS,SAAS,QAAU,KAAOC,KAAK,MAAkBD,EAAU,CAAE,YAAa,UAAW,CAAC,EAC5G,MAAOA,CACT,CACF,CAAC,CACH,CACF,EAAE,MACC+C,GAAM0L,EAAS,KAAK,CACnB,QAAS,sCAAsC1L,EAAE,UACjD,SAAU,OACZ,CAAC,CACH,EACA,CAAC2L,CAAU,CACb,EACMO,KAAqB,eACxB1T,GAAa,CACZqT,EAAoBrT,CAAQ,EAC5ByT,EAAgB,gBAAezT,EAAS,IAAI,CAAC,CAC/C,EACA,CAACyT,CAAe,CAClB,EACA,OAAuB,gBAAoB,WAAgB,KAAMrM,GAA2B,gBAAoBqI,GAAA,EAAgB,IAAI,EAAmB,gBAAoB,OAAQ,CAAE,UAAW3S,EAAQ,IAAK,EAAmB,gBAAoB,MAAO,CAAE,UAAWA,EAAQ,QAAS,EAAmB,gBAAoBc,EAAA,EAAa,CAAE,QAAS,WAAY,KAAM,QAAS,UAAW,EAAK,EAAmB,gBAAoBC,GAAA,EAAY,CAAE,GAAI,uBAAwB,EAAG,wBAAwB,EAAmB,gBAChgB2U,GAAA,EACA,CACE,MAAOY,EACP,MAAO,yBACP,QAAS,wBACT,SAAW5L,GAAMkM,EAAmBlM,EAAE,OAAO,KAAK,CACpD,EACA8L,EAAgB,IAAI,CAACzS,EAAQ4R,IAAwB,gBAAoBzP,EAAA,EAAY,CAAE,IAAKyP,EAAK,MAAO5R,EAAO,KAAM,EAAGA,EAAO,KAAK,CAAC,CACvI,CAAC,EAAmB,gBAAoBiG,EAAA,EAAY,CAAE,KAAM,SAAU,QAASyB,EAAS,aAAc,OAAQ,EAAmB,gBAAoBmK,GAAA,EAAW,IAAI,CAAC,CAAC,EAAmB,gBAAoB,MAAO,CAAE,UAAW5V,EAAQ,QAAS,EAAmB,gBACnQ,IACA,CACE,QAAS0W,EACT,SAAUC,EACV,UAAAX,CACF,CACF,CAAC,EAAmB,gBAAoB,MAAO,CAAE,UAAWhW,EAAQ,OAAQ,EAAmB,gBAC7FmT,EACA,CACE,QAASuD,EACT,cAAe,GACf,gBAAiBhF,EACjB,KAAMK,EACN,SAAUC,EACV,aAAAyB,EACA,QAAAnG,CACF,CACF,CAAC,CAAC,CAAC,CACL,EAEA,SAASuJ,GAAmBzZ,EAAO,CACjC,KAAM,CAACmY,EAAWuB,CAAY,KAAI,YAAS,EAC3C,IAAI1D,EAAU,KACd,OAAKmC,GAAa,KAAO,OAASA,EAAU,QAAU,QACpDnC,EAA0B,gBACxB2C,GACA,CACE,UAAWR,EAAU,UACrB,gBAAiBnY,EAAM,sBACvB,QAAS,IAAM0Z,EAAa,MAAM,EAClC,QAAS1Z,EAAM,OACjB,CACF,GACUmY,GAAa,KAAO,OAASA,EAAU,QAAU,OAC3DnC,EAA0B,gBACxB8C,GACA,CACE,uBAAwB9Y,EAAM,uBAC9B,sBAAuBA,EAAM,sBAC7B,QAAS,IAAM0Z,EAAa,MAAM,EAClC,QAAS1Z,EAAM,OACjB,CACF,GACUmY,GAAa,KAAO,OAASA,EAAU,QAAU,iBAC3DnC,EAA0B,gBACxBsB,GACA,CACE,sBAAuBtX,EAAM,sBAC7B,QAAS,IAAM0Z,EAAa,MAAM,CACpC,CACF,EAEA1D,EAA0B,gBAAoB,KAAS,KAAsB,gBAC3E,IACA,CACE,SAAWrP,GAAW,CAChBA,IAAW,QACb,2BAA2C,EAAE,KAAMgT,GAAcD,EAAa,CAAE,KAAM,QAAS,UAAAC,CAAU,CAAC,CAAC,EAAE,MAAM,IAAM,CACzH,CAAC,EACQhT,IAAW,OACpB+S,EAAa,CAAE,KAAM,MAAO,CAAC,EACpB/S,IAAW,kBACpB+S,EAAa,CAAE,KAAM,gBAAiB,CAAC,CAE3C,CACF,CACF,CAAC,EAEoB,gBAAoB,KAAM,CAAE,QAAS,MAAO,EAAmB,gBACpF,KACA,CACE,MAAO,kBACP,SAAU,yDACZ,CACF,EAAG1D,CAAO,CACZ,CAEA,MAAM4D,GAAU5Z,GAAU,CACxB,KAAM,CACJ,OAAA6O,EACA,eAAA5B,EACA,WAAA4M,EAAa,CAAC,EACd,uBAAAd,CACF,EAAI/Y,EACE,CAAE,oBAAA4R,EAAqB,sBAAA7E,EAAuB,kBAAA+M,CAAkB,EAAID,EACpEE,KAAS,MAAU,EACnBC,EAAkBF,GAAqB,KAAOA,EAAoB,KAClExF,KAAwB,MAAyByF,CAAM,EACvDzD,EAAkB,CACtB,GAAGhC,EACH,GAAG,WACD,CAAC,CAAE,KAAA1I,CAAK,IAAM,CAAC0I,EAAsB,KAClC2F,GAAyBA,EAAqB,OAASrO,CAC1D,CACF,CACF,EACMsO,KAAgB,MAAiBH,CAAM,EACvCI,EAAuB,IAAM,CACjC,KAAM,CAAE,aAAAtI,CAAa,KAAI,MAAkB,GAA8B,EACnEuI,KAAU,MAAY,GAAwB,EACpD,sBACE,IAEE,QAAQ,KACN,sHACF,EAEF,CAAC,CACH,EACuB,gBAAoB,KAAU,CAAE,GAAIA,EAAQ,CAAE,UAAW,UAAW,aAAAvI,CAAa,CAAC,CAAE,CAAC,CAC9G,EACA,OAAuB,gBAAoB,KAAQ,KAAsB,gBACvE,KACA,CACE,KAAM,IACN,QAAyB,gBACvBxC,GACA,CACE,OAAAR,EACA,eAAA5B,EACA,sBAAAF,EACA,YAAa/M,EAAM,YACnB,cAAeA,EAAM,aACvB,CACF,CACF,CACF,EAAmB,gBACjB,KACA,CACE,KAAM,SACN,QAAyB,gBAAoBma,EAAsB,IAAI,CACzE,CACF,EAAmB,gBACjB,KACA,CACE,KAAM,SACN,QAAyB,gBAAoB,KAAwB,KAAsB,gBACzF9F,GACA,CACE,oBAAAzC,EACA,sBAAuB0E,EACvB,QAAS4D,EACT,cAAela,EAAM,aACvB,CACF,CAAC,CACH,CACF,EAAmB,gBACjB,KACA,CACE,KAAM,SACN,QAAyB,gBAAoB,IAAe,IAAI,CAClE,CACF,EAAmB,gBAAoB,KAAO,CAAE,KAAM,SAA6B,QAAyB,gBAAoBga,EAAiB,IAAI,CAAE,CAAC,EAAmB,gBAAoB,KAAO,CAAE,KAAM,SAAsB,QAAyB,gBAAoB,IAAa,IAAI,CAAE,CAAC,EAAmB,gBACtT,KACA,CACE,KAAM,SACN,QAAyB,gBAAoB,KAAwB,KAAsB,gBACzFP,GACA,CACE,uBAAAV,EACA,sBAAuBzC,EACvB,QAAS4D,CACX,CACF,CAAC,CACH,CACF,EAAmB,gBAAoB,KAAO,CAAE,KAAM,UAAW,QAAyB,gBAAoB,KAAU,CAAE,GAAI,SAAU,CAAC,CAAE,CAAC,CAAC,CAC/I,C","sources":["webpack://app/../../node_modules/@rjsf/material-ui/dist/material-ui.esm.js","webpack://app/../../node_modules/@backstage/plugin-scaffolder/dist/esm/Router-8c688e9d.esm.js"],"sourcesContent":["import { utils, withTheme } from '@rjsf/core';\nimport React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport AddIcon from '@material-ui/icons/Add';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Remove from '@material-ui/icons/Remove';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/styles';\nimport Divider from '@material-ui/core/Divider';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Slider from '@material-ui/core/Slider';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar AddButton = function AddButton(props) {\n  return React.createElement(Button, Object.assign({}, props, {\n    color: \"secondary\"\n  }), React.createElement(AddIcon, null), \" Add Item\");\n};\n\nvar mappings = {\n  remove: Remove,\n  plus: AddIcon,\n  \"arrow-up\": ArrowUpward,\n  \"arrow-down\": ArrowDownward\n};\n\nvar IconButton = function IconButton(props) {\n  var icon = props.icon,\n      iconProps = props.iconProps,\n      otherProps = _objectWithoutPropertiesLoose(props, [\"icon\", \"className\", \"iconProps\"]);\n\n  var IconComp = mappings[icon];\n  return React.createElement(Button, Object.assign({}, otherProps, {\n    size: \"small\"\n  }), React.createElement(IconComp, Object.assign({}, iconProps)));\n};\n\nvar isMultiSelect = utils.isMultiSelect,\n    getDefaultRegistry = utils.getDefaultRegistry;\n\nvar ArrayFieldTemplate = function ArrayFieldTemplate(props) {\n  var schema = props.schema,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry;\n\n  if (isMultiSelect(schema, registry.rootSchema)) {\n    return React.createElement(DefaultFixedArrayFieldTemplate, Object.assign({}, props));\n  } else {\n    return React.createElement(DefaultNormalArrayFieldTemplate, Object.assign({}, props));\n  }\n};\n\nvar ArrayFieldTitle = function ArrayFieldTitle(_ref) {\n  var TitleField = _ref.TitleField,\n      idSchema = _ref.idSchema,\n      title = _ref.title,\n      required = _ref.required;\n\n  if (!title) {\n    return null;\n  }\n\n  var id = idSchema.$id + \"__title\";\n  return React.createElement(TitleField, {\n    id: id,\n    title: title,\n    required: required\n  });\n};\n\nvar ArrayFieldDescription = function ArrayFieldDescription(_ref2) {\n  var DescriptionField = _ref2.DescriptionField,\n      idSchema = _ref2.idSchema,\n      description = _ref2.description;\n\n  if (!description) {\n    return null;\n  }\n\n  var id = idSchema.$id + \"__description\";\n  return React.createElement(DescriptionField, {\n    id: id,\n    description: description\n  });\n}; // Used in the two templates\n\n\nvar DefaultArrayItem = function DefaultArrayItem(props) {\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: 'bold',\n    minWidth: 0\n  };\n  return React.createElement(Grid, {\n    container: true,\n    key: props.key,\n    alignItems: \"center\"\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true,\n    style: {\n      overflow: \"auto\"\n    }\n  }, React.createElement(Box, {\n    mb: 2\n  }, React.createElement(Paper, {\n    elevation: 2\n  }, React.createElement(Box, {\n    p: 2\n  }, props.children)))), props.hasToolbar && React.createElement(Grid, {\n    item: true\n  }, (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-up\",\n    className: \"array-item-move-up\",\n    tabIndex: -1,\n    style: btnStyle,\n    iconProps: {\n      fontSize: 'small'\n    },\n    disabled: props.disabled || props.readonly || !props.hasMoveUp,\n    onClick: props.onReorderClick(props.index, props.index - 1)\n  }), (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-down\",\n    tabIndex: -1,\n    style: btnStyle,\n    iconProps: {\n      fontSize: 'small'\n    },\n    disabled: props.disabled || props.readonly || !props.hasMoveDown,\n    onClick: props.onReorderClick(props.index, props.index + 1)\n  }), props.hasRemove && React.createElement(IconButton, {\n    icon: \"remove\",\n    tabIndex: -1,\n    style: btnStyle,\n    iconProps: {\n      fontSize: 'small'\n    },\n    disabled: props.disabled || props.readonly,\n    onClick: props.onDropIndexClick(props.index)\n  })));\n};\n\nvar DefaultFixedArrayFieldTemplate = function DefaultFixedArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\" + props.idSchema.$id,\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema['ui:title'] || props.title,\n    required: props.required\n  }), (props.uiSchema['ui:description'] || props.schema.description) && React.createElement(\"div\", {\n    className: \"field-description\",\n    key: \"field-description-\" + props.idSchema.$id\n  }, props.uiSchema['ui:description'] || props.schema.description), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, props.items && props.items.map(DefaultArrayItem)), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n};\n\nvar DefaultNormalArrayFieldTemplate = function DefaultNormalArrayFieldTemplate(props) {\n  return React.createElement(Paper, {\n    elevation: 2\n  }, React.createElement(Box, {\n    p: 2\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\" + props.idSchema.$id,\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema['ui:title'] || props.title,\n    required: props.required\n  }), (props.uiSchema['ui:description'] || props.schema.description) && React.createElement(ArrayFieldDescription, {\n    key: \"array-field-description-\" + props.idSchema.$id,\n    DescriptionField: props.DescriptionField,\n    idSchema: props.idSchema,\n    description: props.uiSchema['ui:description'] || props.schema.description\n  }), React.createElement(Grid, {\n    container: true,\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, props.items && props.items.map(function (p) {\n    return DefaultArrayItem(p);\n  }), props.canAdd && React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\"\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Box, {\n    mt: 2\n  }, React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  })))))));\n};\n\nvar ErrorList = function ErrorList(_ref) {\n  var errors = _ref.errors;\n  return React.createElement(Paper, {\n    elevation: 2\n  }, React.createElement(Box, {\n    mb: 2,\n    p: 2\n  }, React.createElement(Typography, {\n    variant: \"h6\"\n  }, \"Errors\"), React.createElement(List, {\n    dense: true\n  }, errors.map(function (error, i) {\n    return React.createElement(ListItem, {\n      key: i\n    }, React.createElement(ListItemIcon, null, React.createElement(ErrorIcon, {\n      color: \"error\"\n    })), React.createElement(ListItemText, {\n      primary: error.stack\n    }));\n  }))));\n};\n\nvar useStyles =\n/*#__PURE__*/\nmakeStyles({\n  root: {\n    marginTop: 5\n  }\n});\n\nvar DescriptionField = function DescriptionField(_ref) {\n  var description = _ref.description;\n\n  if (description) {\n    var classes = useStyles();\n    return React.createElement(Typography, {\n      variant: \"subtitle2\",\n      className: classes.root\n    }, description);\n  }\n\n  return null;\n};\n\nvar TitleField = function TitleField(_ref) {\n  var title = _ref.title;\n  return React.createElement(React.Fragment, null, React.createElement(Box, {\n    mb: 1,\n    mt: 1\n  }, React.createElement(Typography, {\n    variant: \"h5\"\n  }, title), React.createElement(Divider, null)));\n};\n\nvar Fields = {\n  DescriptionField: DescriptionField,\n  TitleField: TitleField\n};\n\nvar ADDITIONAL_PROPERTY_FLAG = utils.ADDITIONAL_PROPERTY_FLAG;\n\nvar WrapIfAdditional = function WrapIfAdditional(_ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      id = _ref.id,\n      label = _ref.label,\n      onDropPropertyClick = _ref.onDropPropertyClick,\n      onKeyChange = _ref.onKeyChange,\n      readonly = _ref.readonly,\n      required = _ref.required,\n      schema = _ref.schema;\n  var keyLabel = label + \" Key\"; // i18n ?\n\n  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\"\n  };\n\n  if (!additional) {\n    return React.createElement(React.Fragment, null, children);\n  }\n\n  var handleBlur = function handleBlur(_ref2) {\n    var target = _ref2.target;\n    return onKeyChange(target.value);\n  };\n\n  return React.createElement(Grid, {\n    container: true,\n    key: id + \"-key\",\n    alignItems: \"center\",\n    spacing: 2\n  }, React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    required: required\n  }, React.createElement(InputLabel, null, keyLabel), React.createElement(Input, {\n    defaultValue: label,\n    disabled: disabled || readonly,\n    id: id + \"-key\",\n    name: id + \"-key\",\n    onBlur: !readonly ? handleBlur : undefined,\n    type: \"text\"\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: true\n  }, children), React.createElement(Grid, {\n    item: true\n  }, React.createElement(IconButton, {\n    icon: \"remove\",\n    tabIndex: -1,\n    style: btnStyle,\n    disabled: disabled || readonly,\n    onClick: onDropPropertyClick(label)\n  })));\n};\n\nvar FieldTemplate = function FieldTemplate(_ref) {\n  var id = _ref.id,\n      children = _ref.children,\n      classNames = _ref.classNames,\n      disabled = _ref.disabled,\n      displayLabel = _ref.displayLabel,\n      hidden = _ref.hidden,\n      label = _ref.label,\n      onDropPropertyClick = _ref.onDropPropertyClick,\n      onKeyChange = _ref.onKeyChange,\n      readonly = _ref.readonly,\n      required = _ref.required,\n      _ref$rawErrors = _ref.rawErrors,\n      rawErrors = _ref$rawErrors === void 0 ? [] : _ref$rawErrors,\n      rawHelp = _ref.rawHelp,\n      rawDescription = _ref.rawDescription,\n      schema = _ref.schema;\n\n  if (hidden) {\n    return children;\n  }\n\n  return React.createElement(WrapIfAdditional, {\n    classNames: classNames,\n    disabled: disabled,\n    id: id,\n    label: label,\n    onDropPropertyClick: onDropPropertyClick,\n    onKeyChange: onKeyChange,\n    readonly: readonly,\n    required: required,\n    schema: schema\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    error: rawErrors.length ? true : false,\n    required: required\n  }, children, displayLabel && rawDescription ? React.createElement(Typography, {\n    variant: \"caption\",\n    color: \"textSecondary\"\n  }, rawDescription) : null, rawErrors.length > 0 && React.createElement(List, {\n    dense: true,\n    disablePadding: true\n  }, rawErrors.map(function (error, i) {\n    return React.createElement(ListItem, {\n      key: i,\n      disableGutters: true\n    }, React.createElement(FormHelperText, {\n      id: id\n    }, error));\n  })), rawHelp && React.createElement(FormHelperText, {\n    id: id\n  }, rawHelp)));\n};\n\nvar canExpand = utils.canExpand;\nvar useStyles$1 =\n/*#__PURE__*/\nmakeStyles({\n  root: {\n    marginTop: 10\n  }\n});\n\nvar ObjectFieldTemplate = function ObjectFieldTemplate(_ref) {\n  var DescriptionField = _ref.DescriptionField,\n      description = _ref.description,\n      TitleField = _ref.TitleField,\n      title = _ref.title,\n      properties = _ref.properties,\n      required = _ref.required,\n      disabled = _ref.disabled,\n      readonly = _ref.readonly,\n      uiSchema = _ref.uiSchema,\n      idSchema = _ref.idSchema,\n      schema = _ref.schema,\n      formData = _ref.formData,\n      onAddClick = _ref.onAddClick;\n  var classes = useStyles$1();\n  return React.createElement(React.Fragment, null, (uiSchema['ui:title'] || title) && React.createElement(TitleField, {\n    id: idSchema.$id + \"-title\",\n    title: title,\n    required: required\n  }), description && React.createElement(DescriptionField, {\n    id: idSchema.$id + \"-description\",\n    description: description\n  }), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    className: classes.root\n  }, properties.map(function (element, index) {\n    return (// Remove the <Grid> if the inner element is hidden as the <Grid>\n      // itself would otherwise still take up space.\n      element.hidden ? element.content : React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        key: index,\n        style: {\n          marginBottom: \"10px\"\n        }\n      }, element.content)\n    );\n  }), canExpand(schema, uiSchema, formData) && React.createElement(Grid, {\n    container: true,\n    justify: 'flex-end'\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(AddButton, {\n    className: 'object-property-expand',\n    onClick: onAddClick(schema),\n    disabled: disabled || readonly\n  })))));\n};\n\nvar schemaRequiresTrueValue = utils.schemaRequiresTrueValue;\n\nvar CheckboxWidget = function CheckboxWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      value = props.value,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      label = props.label,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus; // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n\n  var required = schemaRequiresTrueValue(schema);\n\n  var _onChange = function _onChange(_ref, checked) {\n    _objectDestructuringEmpty(_ref);\n\n    return onChange(checked);\n  };\n\n  var _onBlur = function _onBlur(_ref2) {\n    var value = _ref2.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref3) {\n    var value = _ref3.target.value;\n    return onFocus(id, value);\n  };\n\n  return React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      id: id,\n      checked: typeof value === \"undefined\" ? false : value,\n      required: required,\n      disabled: disabled || readonly,\n      autoFocus: autofocus,\n      onChange: _onChange,\n      onBlur: _onBlur,\n      onFocus: _onFocus\n    }),\n    label: label\n  });\n};\n\nvar selectValue = function selectValue(value, selected, all) {\n  var at = all.indexOf(value);\n  var updated = selected.slice(0, at).concat(value, selected.slice(at)); // As inserting values at predefined index positions doesn't work with empty\n  // arrays, we need to reorder the updated selection to match the initial order\n\n  return updated.sort(function (a, b) {\n    return all.indexOf(a) > all.indexOf(b);\n  });\n};\n\nvar deselectValue = function deselectValue(value, selected) {\n  return selected.filter(function (v) {\n    return v !== value;\n  });\n};\n\nvar CheckboxesWidget = function CheckboxesWidget(_ref) {\n  var schema = _ref.schema,\n      label = _ref.label,\n      id = _ref.id,\n      disabled = _ref.disabled,\n      options = _ref.options,\n      value = _ref.value,\n      autofocus = _ref.autofocus,\n      readonly = _ref.readonly,\n      required = _ref.required,\n      onChange = _ref.onChange,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled,\n      inline = options.inline;\n\n  var _onChange = function _onChange(option) {\n    return function (_ref2) {\n      var checked = _ref2.target.checked;\n      var all = enumOptions.map(function (_ref3) {\n        var value = _ref3.value;\n        return value;\n      });\n\n      if (checked) {\n        onChange(selectValue(option.value, value, all));\n      } else {\n        onChange(deselectValue(option.value, value));\n      }\n    };\n  };\n\n  var _onBlur = function _onBlur(_ref4) {\n    var value = _ref4.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref5) {\n    var value = _ref5.target.value;\n    return onFocus(id, value);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(FormLabel, {\n    required: required,\n    htmlFor: id\n  }, label || schema.title), React.createElement(FormGroup, {\n    row: !!inline\n  }, enumOptions.map(function (option, index) {\n    var checked = value.indexOf(option.value) !== -1;\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var checkbox = React.createElement(Checkbox, {\n      id: id + \"_\" + index,\n      checked: checked,\n      disabled: disabled || itemDisabled || readonly,\n      autoFocus: autofocus && index === 0,\n      onChange: _onChange(option),\n      onBlur: _onBlur,\n      onFocus: _onFocus\n    });\n    return React.createElement(FormControlLabel, {\n      control: checkbox,\n      key: index,\n      label: option.label\n    });\n  })));\n};\n\nvar ColorWidget = function ColorWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  return React.createElement(TextWidget, Object.assign({\n    type: \"color\"\n  }, props));\n};\n\nvar DateWidget = function DateWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  return React.createElement(TextWidget, Object.assign({\n    type: \"date\",\n    InputLabelProps: {\n      shrink: true\n    }\n  }, props));\n};\n\nvar localToUTC = utils.localToUTC,\n    utcToLocal = utils.utcToLocal;\n\nvar DateTimeWidget = function DateTimeWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  var value = utcToLocal(props.value);\n\n  var onChange = function onChange(value) {\n    props.onChange(localToUTC(value));\n  };\n\n  return React.createElement(TextWidget, Object.assign({\n    type: \"datetime-local\",\n    InputLabelProps: {\n      shrink: true\n    }\n  }, props, {\n    value: value,\n    onChange: onChange\n  }));\n};\n\nvar EmailWidget = function EmailWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  return React.createElement(TextWidget, Object.assign({\n    type: \"email\"\n  }, props));\n};\n\nvar PasswordWidget = function PasswordWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  return React.createElement(TextWidget, Object.assign({\n    type: \"password\"\n  }, props));\n};\n\nvar RadioWidget = function RadioWidget(_ref) {\n  var id = _ref.id,\n      schema = _ref.schema,\n      options = _ref.options,\n      value = _ref.value,\n      required = _ref.required,\n      disabled = _ref.disabled,\n      readonly = _ref.readonly,\n      label = _ref.label,\n      onChange = _ref.onChange,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n\n  var _onChange = function _onChange(_ref2, value) {\n    _objectDestructuringEmpty(_ref2);\n\n    return onChange(schema.type == \"boolean\" ? value !== \"false\" : value);\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  };\n\n  var row = options ? options.inline : false;\n  return React.createElement(React.Fragment, null, React.createElement(FormLabel, {\n    required: required,\n    htmlFor: id\n  }, label || schema.title), React.createElement(RadioGroup, {\n    value: \"\" + value,\n    row: row,\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus\n  }, enumOptions.map(function (option, i) {\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var radio = React.createElement(FormControlLabel, {\n      control: React.createElement(Radio, {\n        color: \"primary\",\n        key: i\n      }),\n      label: \"\" + option.label,\n      value: \"\" + option.value,\n      key: i,\n      disabled: disabled || itemDisabled || readonly\n    });\n    return radio;\n  })));\n};\n\nvar rangeSpec = utils.rangeSpec;\n\nvar RangeWidget = function RangeWidget(_ref) {\n  var value = _ref.value,\n      readonly = _ref.readonly,\n      disabled = _ref.disabled,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      options = _ref.options,\n      schema = _ref.schema,\n      onChange = _ref.onChange,\n      required = _ref.required,\n      label = _ref.label,\n      id = _ref.id;\n\n  var sliderProps = _extends({\n    value: value,\n    label: label,\n    id: id\n  }, rangeSpec(schema));\n\n  var _onChange = function _onChange(_ref2, value) {\n    _objectDestructuringEmpty(_ref2);\n\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(FormLabel, {\n    required: required,\n    id: id\n  }, label), React.createElement(Slider, Object.assign({\n    disabled: disabled || readonly,\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus,\n    valueLabelDisplay: \"auto\"\n  }, sliderProps)));\n};\n\nvar asNumber = utils.asNumber,\n    guessType = utils.guessType;\nvar nums =\n/*#__PURE__*/\nnew Set([\"number\", \"integer\"]);\n/**\r\n * This is a silly limitation in the DOM where option change event values are\r\n * always retrieved as strings.\r\n */\n\nvar processValue = function processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  var type = schema.type,\n      items = schema.items;\n\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  } // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n\n\n  if (schema[\"enum\"]) {\n    if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"number\";\n    })) {\n      return asNumber(value);\n    } else if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"boolean\";\n    })) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n};\n\nvar SelectWidget = function SelectWidget(_ref) {\n  var schema = _ref.schema,\n      id = _ref.id,\n      options = _ref.options,\n      label = _ref.label,\n      required = _ref.required,\n      disabled = _ref.disabled,\n      readonly = _ref.readonly,\n      value = _ref.value,\n      multiple = _ref.multiple,\n      autofocus = _ref.autofocus,\n      onChange = _ref.onChange,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      _ref$rawErrors = _ref.rawErrors,\n      rawErrors = _ref$rawErrors === void 0 ? [] : _ref$rawErrors;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n  var emptyValue = multiple ? [] : \"\";\n\n  var _onChange = function _onChange(_ref2) {\n    var value = _ref2.target.value;\n    return onChange(processValue(schema, value));\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, processValue(schema, value));\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, processValue(schema, value));\n  };\n\n  return React.createElement(TextField, {\n    id: id,\n    label: label || schema.title,\n    select: true,\n    value: typeof value === \"undefined\" ? emptyValue : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    error: rawErrors.length > 0,\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus,\n    InputLabelProps: {\n      shrink: true\n    },\n    SelectProps: {\n      multiple: typeof multiple === \"undefined\" ? false : multiple\n    }\n  }, enumOptions.map(function (_ref5, i) {\n    var value = _ref5.value,\n        label = _ref5.label;\n    var disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n    return React.createElement(MenuItem, {\n      key: i,\n      value: value,\n      disabled: disabled\n    }, label);\n  }));\n};\n\nvar TextareaWidget = function TextareaWidget(_ref) {\n  var id = _ref.id,\n      placeholder = _ref.placeholder,\n      value = _ref.value,\n      required = _ref.required,\n      disabled = _ref.disabled,\n      autofocus = _ref.autofocus,\n      label = _ref.label,\n      readonly = _ref.readonly,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      onChange = _ref.onChange,\n      options = _ref.options,\n      schema = _ref.schema,\n      _ref$rawErrors = _ref.rawErrors,\n      rawErrors = _ref$rawErrors === void 0 ? [] : _ref$rawErrors;\n\n  var _onChange = function _onChange(_ref2) {\n    var value = _ref2.target.value;\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  };\n\n  return React.createElement(TextField, {\n    id: id,\n    label: label || schema.title,\n    placeholder: placeholder,\n    disabled: disabled || readonly,\n    value: value,\n    required: required,\n    autoFocus: autofocus,\n    multiline: true,\n    rows: options.rows || 5,\n    error: rawErrors.length > 0,\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus\n  });\n};\n\nvar getDisplayLabel = utils.getDisplayLabel;\n\nvar TextWidget = function TextWidget(_ref) {\n  var id = _ref.id,\n      placeholder = _ref.placeholder,\n      required = _ref.required,\n      readonly = _ref.readonly,\n      disabled = _ref.disabled,\n      type = _ref.type,\n      label = _ref.label,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      autofocus = _ref.autofocus,\n      options = _ref.options,\n      schema = _ref.schema,\n      uiSchema = _ref.uiSchema,\n      _ref$rawErrors = _ref.rawErrors,\n      rawErrors = _ref$rawErrors === void 0 ? [] : _ref$rawErrors,\n      textFieldProps = _objectWithoutPropertiesLoose(_ref, [\"id\", \"placeholder\", \"required\", \"readonly\", \"disabled\", \"type\", \"label\", \"value\", \"onChange\", \"onBlur\", \"onFocus\", \"autofocus\", \"options\", \"schema\", \"uiSchema\", \"rawErrors\", \"formContext\", \"registry\"]);\n\n  var _onChange = function _onChange(_ref2) {\n    var value = _ref2.target.value;\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  };\n\n  var displayLabel = getDisplayLabel(schema, uiSchema\n  /* TODO: , rootSchema */\n  );\n  var inputType = (type || schema.type) === 'string' ? 'text' : \"\" + (type || schema.type);\n  return React.createElement(TextField, Object.assign({\n    id: id,\n    placeholder: placeholder,\n    label: displayLabel ? label || schema.title : false,\n    autoFocus: autofocus,\n    required: required,\n    disabled: disabled || readonly,\n    type: inputType,\n    value: value || value === 0 ? value : \"\",\n    error: rawErrors.length > 0,\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus\n  }, textFieldProps));\n};\n\nvar UpDownWidget = function UpDownWidget(_ref) {\n  var id = _ref.id,\n      required = _ref.required,\n      readonly = _ref.readonly,\n      disabled = _ref.disabled,\n      label = _ref.label,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      onBlur = _ref.onBlur,\n      onFocus = _ref.onFocus,\n      autofocus = _ref.autofocus;\n\n  var _onChange = function _onChange(_ref2) {\n    var value = _ref2.target.value;\n    return onChange(value);\n  };\n\n  var _onBlur = function _onBlur(_ref3) {\n    var value = _ref3.target.value;\n    return onBlur(id, value);\n  };\n\n  var _onFocus = function _onFocus(_ref4) {\n    var value = _ref4.target.value;\n    return onFocus(id, value);\n  };\n\n  return React.createElement(FormControl, {\n    fullWidth: true,\n    //error={!!rawErrors}\n    required: required\n  }, React.createElement(InputLabel, null, label), React.createElement(Input, {\n    id: id,\n    autoFocus: autofocus,\n    required: required,\n    type: \"number\",\n    disabled: disabled || readonly,\n    value: value || value === 0 ? value : '',\n    onChange: _onChange,\n    onBlur: _onBlur,\n    onFocus: _onFocus\n  }));\n};\n\nvar URLWidget = function URLWidget(props) {\n  var registry = props.registry;\n  var TextWidget = registry.widgets.TextWidget;\n  return React.createElement(TextWidget, Object.assign({\n    type: \"url\"\n  }, props));\n};\n\nvar Widgets = {\n  CheckboxWidget: CheckboxWidget,\n  CheckboxesWidget: CheckboxesWidget,\n  ColorWidget: ColorWidget,\n  DateWidget: DateWidget,\n  DateTimeWidget: DateTimeWidget,\n  EmailWidget: EmailWidget,\n  PasswordWidget: PasswordWidget,\n  RadioWidget: RadioWidget,\n  RangeWidget: RangeWidget,\n  SelectWidget: SelectWidget,\n  TextareaWidget: TextareaWidget,\n  TextWidget: TextWidget,\n  UpDownWidget: UpDownWidget,\n  URLWidget: URLWidget\n};\n\nvar getDefaultRegistry$1 = utils.getDefaultRegistry;\n\nvar _getDefaultRegistry =\n/*#__PURE__*/\ngetDefaultRegistry$1(),\n    fields = _getDefaultRegistry.fields,\n    widgets = _getDefaultRegistry.widgets;\n\nvar DefaultChildren = function DefaultChildren() {\n  return React.createElement(Box, {\n    marginTop: 3\n  }, React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\"\n  }, \"Submit\"));\n};\n\nvar Theme = {\n  children:\n  /*#__PURE__*/\n  React.createElement(DefaultChildren, null),\n  ArrayFieldTemplate: ArrayFieldTemplate,\n  fields:\n  /*#__PURE__*/\n  _extends({}, fields, Fields),\n  FieldTemplate: FieldTemplate,\n  ObjectFieldTemplate: ObjectFieldTemplate,\n  widgets:\n  /*#__PURE__*/\n  _extends({}, widgets, Widgets),\n  ErrorList: ErrorList\n};\n\nvar MuiForm =\n/*#__PURE__*/\nwithTheme(Theme);\n\nexport default MuiForm;\nexport { ArrayFieldTemplate, FieldTemplate, Fields, MuiForm, ObjectFieldTemplate, Theme, Widgets };\n//# sourceMappingURL=material-ui.esm.js.map\n","import React, { useState, useCallback, useMemo, Component, useEffect } from 'react';\nimport { useNavigate, Navigate, useOutlet, Routes, Route } from 'react-router-dom';\nimport { ItemCardHeader, MarkdownContent, LinkButton, Link, ContentHeader, Progress, WarningPanel, Content, ItemCardGrid, Page, Header, CreateButton, SupportButton, StructuredMetadataTable, InfoCard } from '@backstage/core-components';\nimport { useApp, useRouteRef, useApi, useRouteRefParams, useAnalytics, errorApiRef, featureFlagsApiRef, useApiHolder, AnalyticsContext, alertApiRef } from '@backstage/core-plugin-api';\nimport { getEntityRelations, getEntitySourceLocation, FavoriteEntity, EntityRefLinks, useEntityList, EntityListProvider, CatalogFilterLayout, EntitySearchBar, EntityKindPicker, UserListPicker, EntityTagPicker, catalogApiRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport { RELATION_OWNED_BY, parseEntityRef, stringifyEntityRef, DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { isTemplateEntityV1beta3 } from '@backstage/plugin-scaffolder-common';\nimport { makeStyles, useTheme, Card, CardMedia, CardContent, Box, Typography, Chip, CardActions, Tooltip, IconButton, Paper, Button, Stepper, Step, StepLabel, StepContent, LinearProgress, FormControl, InputLabel, Select, MenuItem as MenuItem$1, CardHeader } from '@material-ui/core';\nimport { scmIntegrationsApiRef, ScmIntegrationIcon } from '@backstage/integration-react';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { n as selectedTemplateRouteRef, v as viewTechDocRouteRef, p as editRouteRef, q as actionsRouteRef, t as scaffolderListTaskRouteRef, u as registerComponentRouteRef, o as scaffolderTaskRouteRef, r as rootRouteRef, w as legacySelectedTemplateRouteRef } from './plugin-34a96253.esm.js';\nimport { T as TemplateTypePicker } from './TemplateTypePicker-efec8c34.esm.js';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport IconButton$1 from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport { makeStyles as makeStyles$1 } from '@material-ui/core/styles';\nimport Description from '@material-ui/icons/Description';\nimport Edit from '@material-ui/icons/Edit';\nimport List from '@material-ui/icons/List';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport qs from 'qs';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useTemplateSecrets, scaffolderApiRef, useCustomFieldExtensions, useCustomLayouts, SecretsContextProvider } from '@backstage/plugin-scaffolder-react';\nimport { withTheme } from '@rjsf/core';\nimport { Theme } from '@rjsf/material-ui';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { extractSchemaFromStep } from '@backstage/plugin-scaffolder-react/alpha';\nimport { T as TaskPage } from './TaskPage-1a149db7.esm.js';\nimport { u as useDryRun, a as useDirectoryEditor, D as DirectoryEditorProvider, b as DryRunProvider, T as TemplateEditorBrowser, c as TemplateEditorTextArea, d as DryRunResults, e as TemplateEditorIntro, W as WebFileSystemAccess, f as DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS, L as ListTasksPage, A as ActionsPage } from './ListTasksPage-da18913c.esm.js';\nimport { StreamLanguage } from '@codemirror/language';\nimport { yaml as yaml$1 } from '@codemirror/legacy-modes/mode/yaml';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CodeMirror from '@uiw/react-codemirror';\nimport yaml from 'yaml';\nimport useDebounce from 'react-use/lib/useDebounce';\nimport '@backstage/errors';\nimport 'zen-observable';\nimport 'event-source-polyfill';\nimport '@backstage/catalog-client';\nimport '@material-ui/core/FormControl';\nimport '@material-ui/lab/Autocomplete';\nimport 'zod';\nimport 'zod-to-json-schema';\nimport '@material-ui/core/FormHelperText';\nimport '@material-ui/core/Input';\nimport '@material-ui/core/InputLabel';\nimport 'react-use/lib/useEffectOnce';\nimport '@material-ui/lab';\nimport 'lodash/capitalize';\nimport '@material-ui/icons/CheckBox';\nimport '@material-ui/icons/CheckBoxOutlineBlank';\nimport '@material-ui/icons/ExpandMore';\nimport '@material-ui/core/Grid';\nimport '@material-ui/core/Step';\nimport '@material-ui/core/StepLabel';\nimport '@material-ui/core/Stepper';\nimport '@material-ui/core/Typography';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/Check';\nimport '@material-ui/icons/FiberManualRecord';\nimport 'classnames';\nimport 'luxon';\nimport 'react-use/lib/useInterval';\nimport '@material-ui/icons/ExpandLess';\nimport '@material-ui/core/Chip';\nimport '@material-ui/core/Card';\nimport '@material-ui/core/CardActionArea';\nimport '@material-ui/core/CardContent';\nimport '@material-ui/core/Tooltip';\nimport '@material-ui/icons/InfoOutlined';\nimport '@material-ui/core/Accordion';\nimport '@material-ui/core/AccordionDetails';\nimport '@material-ui/core/AccordionSummary';\nimport '@material-ui/core/Divider';\nimport '@react-hookz/web';\nimport '@material-ui/core/List';\nimport '@material-ui/core/ListItem';\nimport '@material-ui/core/ListItemSecondaryAction';\nimport '@material-ui/icons/Delete';\nimport '@material-ui/core/Box';\nimport '@material-ui/core/Tab';\nimport '@material-ui/core/Tabs';\nimport '@material-ui/icons/Refresh';\nimport '@material-ui/icons/Save';\nimport '@material-ui/lab/TreeView';\nimport '@material-ui/icons/ChevronRight';\nimport '@material-ui/lab/TreeItem';\nimport '@codemirror/view';\nimport '@material-ui/icons/Settings';\nimport '@material-ui/icons/FontDownload';\nimport 'humanize-duration';\n\nconst useStyles$5 = makeStyles((theme) => ({\n  cardHeader: {\n    position: \"relative\"\n  },\n  title: {\n    backgroundImage: ({ backgroundImage }) => backgroundImage,\n    color: ({ fontColor }) => fontColor\n  },\n  box: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": 10,\n    \"-webkit-box-orient\": \"vertical\"\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontSize: \"0.65rem\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    lineHeight: 1,\n    paddingBottom: \"0.2rem\"\n  },\n  linksLabel: {\n    padding: \"0 16px\"\n  },\n  description: {\n    \"& p\": {\n      margin: \"0px\"\n    }\n  },\n  leftButton: {\n    marginRight: \"auto\"\n  },\n  starButton: {\n    position: \"absolute\",\n    top: theme.spacing(0.5),\n    right: theme.spacing(0.5),\n    padding: \"0.25rem\",\n    color: ({ fontColor }) => fontColor\n  }\n}));\nconst MuiIcon = ({ icon: Icon }) => /* @__PURE__ */ React.createElement(Icon, null);\nconst useDeprecationStyles = makeStyles((theme) => ({\n  deprecationIcon: {\n    position: \"absolute\",\n    top: theme.spacing(0.5),\n    right: theme.spacing(3.5),\n    padding: \"0.25rem\"\n  },\n  link: {\n    color: theme.palette.warning.light\n  }\n}));\nconst getTemplateCardProps = (template) => {\n  var _a, _b, _c, _d, _e, _f;\n  return {\n    key: template.metadata.uid,\n    name: template.metadata.name,\n    title: `${(_a = template.metadata.title || template.metadata.name) != null ? _a : \"\"}`,\n    type: (_b = template.spec.type) != null ? _b : \"\",\n    description: (_c = template.metadata.description) != null ? _c : \"-\",\n    tags: (_e = (_d = template.metadata) == null ? void 0 : _d.tags) != null ? _e : [],\n    links: (_f = template.metadata.links) != null ? _f : []\n  };\n};\nconst DeprecationWarning = () => {\n  const styles = useDeprecationStyles();\n  const Title = /* @__PURE__ */ React.createElement(Typography, { style: { padding: 10, maxWidth: 300 } }, \"This template uses a syntax that has been deprecated, and should be migrated to a newer syntax. Click for more info.\");\n  return /* @__PURE__ */ React.createElement(\"div\", { className: styles.deprecationIcon }, /* @__PURE__ */ React.createElement(Tooltip, { title: Title }, /* @__PURE__ */ React.createElement(\n    Link,\n    {\n      to: \"https://backstage.io/docs/features/software-templates/migrating-from-v1beta2-to-v1beta3\",\n      className: styles.link\n    },\n    /* @__PURE__ */ React.createElement(WarningIcon, null)\n  )));\n};\nconst TemplateCard = ({ template, deprecated }) => {\n  var _a, _b, _c;\n  const app = useApp();\n  const backstageTheme = useTheme();\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const templateProps = getTemplateCardProps(template);\n  const ownedByRelations = getEntityRelations(\n    template,\n    RELATION_OWNED_BY\n  );\n  const themeId = backstageTheme.getPageTheme({ themeId: templateProps.type }) ? templateProps.type : \"other\";\n  const theme = backstageTheme.getPageTheme({ themeId });\n  const classes = useStyles$5({\n    fontColor: theme.fontColor,\n    backgroundImage: theme.backgroundImage\n  });\n  const { name, namespace } = parseEntityRef(stringifyEntityRef(template));\n  const href = templateRoute({ templateName: name, namespace });\n  const viewTechDoc = useRouteRef(viewTechDocRouteRef);\n  const viewTechDocsAnnotation = (_a = template.metadata.annotations) == null ? void 0 : _a[\"backstage.io/techdocs-ref\"];\n  const viewTechDocsLink = !!viewTechDocsAnnotation && !!viewTechDoc && viewTechDoc({\n    namespace: template.metadata.namespace || DEFAULT_NAMESPACE,\n    kind: template.kind,\n    name: template.metadata.name\n  });\n  const iconResolver = (key) => {\n    var _a2;\n    return key ? (_a2 = app.getSystemIcon(key)) != null ? _a2 : LanguageIcon : LanguageIcon;\n  };\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const sourceLocation = getEntitySourceLocation(template, scmIntegrationsApi);\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardMedia, { className: classes.cardHeader }, /* @__PURE__ */ React.createElement(FavoriteEntity, { className: classes.starButton, entity: template }), deprecated && /* @__PURE__ */ React.createElement(DeprecationWarning, null), /* @__PURE__ */ React.createElement(\n    ItemCardHeader,\n    {\n      title: templateProps.title,\n      subtitle: templateProps.type,\n      classes: { root: classes.title }\n    }\n  )), /* @__PURE__ */ React.createElement(\n    CardContent,\n    {\n      style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }\n    },\n    /* @__PURE__ */ React.createElement(Box, { className: classes.box }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", className: classes.label }, \"Description\"), /* @__PURE__ */ React.createElement(\n      MarkdownContent,\n      {\n        className: classes.description,\n        content: templateProps.description\n      }\n    )),\n    /* @__PURE__ */ React.createElement(Box, { className: classes.box }, /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\", className: classes.label }, \"Owner\"), /* @__PURE__ */ React.createElement(EntityRefLinks, { entityRefs: ownedByRelations, defaultKind: \"Group\" })),\n    /* @__PURE__ */ React.createElement(Box, null, /* @__PURE__ */ React.createElement(\n      Typography,\n      {\n        style: { marginBottom: \"4px\" },\n        variant: \"body2\",\n        className: classes.label\n      },\n      \"Tags\"\n    ), (_b = templateProps.tags) == null ? void 0 : _b.map((tag) => /* @__PURE__ */ React.createElement(Chip, { size: \"small\", label: tag, key: tag })))\n  ), /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      variant: \"body2\",\n      className: [classes.label, classes.linksLabel].join(\" \")\n    },\n    \"Links\"\n  ), /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(\"div\", { className: classes.leftButton }, sourceLocation && /* @__PURE__ */ React.createElement(\n    Tooltip,\n    {\n      title: sourceLocation.integrationType || sourceLocation.locationTargetUrl\n    },\n    /* @__PURE__ */ React.createElement(\n      IconButton,\n      {\n        className: classes.leftButton,\n        href: sourceLocation.locationTargetUrl\n      },\n      /* @__PURE__ */ React.createElement(ScmIntegrationIcon, { type: sourceLocation.integrationType })\n    )\n  ), viewTechDocsLink && /* @__PURE__ */ React.createElement(Tooltip, { title: \"View TechDocs\" }, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      className: classes.leftButton,\n      href: viewTechDocsLink\n    },\n    /* @__PURE__ */ React.createElement(MuiIcon, { icon: iconResolver(\"docs\") })\n  )), (_c = templateProps.links) == null ? void 0 : _c.map((link, i) => /* @__PURE__ */ React.createElement(Tooltip, { key: `${link.url}_${i}`, title: link.title || link.url }, /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", href: link.url }, /* @__PURE__ */ React.createElement(MuiIcon, { icon: iconResolver(link.icon) }))))), /* @__PURE__ */ React.createElement(\n    LinkButton,\n    {\n      color: \"primary\",\n      to: href,\n      \"aria-label\": `Choose ${templateProps.title}`\n    },\n    \"Choose\"\n  )));\n};\n\nconst TemplateList = ({\n  TemplateCardComponent,\n  group,\n  templateFilter\n}) => {\n  const { loading, error, entities } = useEntityList();\n  const Card = TemplateCardComponent || TemplateCard;\n  const templateEntities = entities.filter(isTemplateEntityV1beta3);\n  const maybeFilteredEntities = (group ? templateEntities.filter(group.filter) : templateEntities).filter((e) => templateFilter ? templateFilter(e) : true);\n  const titleComponent = (() => {\n    if (group && group.title) {\n      if (typeof group.title === \"string\") {\n        return /* @__PURE__ */ React.createElement(ContentHeader, { title: group.title });\n      }\n      return group.title;\n    }\n    return /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Other Templates\" });\n  })();\n  if (group && maybeFilteredEntities.length === 0) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(Progress, null), error && /* @__PURE__ */ React.createElement(WarningPanel, { title: \"Oops! Something went wrong loading the templates\" }, error.message), !error && !loading && !entities.length && /* @__PURE__ */ React.createElement(Typography, { variant: \"body2\" }, \"No templates found that match your filter. Learn more about\", \" \", /* @__PURE__ */ React.createElement(Link, { to: \"https://backstage.io/docs/features/software-templates/adding-templates\" }, \"adding templates\"), \".\"), /* @__PURE__ */ React.createElement(Content, null, titleComponent, /* @__PURE__ */ React.createElement(ItemCardGrid, null, maybeFilteredEntities && (maybeFilteredEntities == null ? void 0 : maybeFilteredEntities.length) > 0 && maybeFilteredEntities.map((template) => /* @__PURE__ */ React.createElement(\n    Card,\n    {\n      key: stringifyEntityRef(template),\n      template,\n      deprecated: template.apiVersion === \"backstage.io/v1beta2\"\n    }\n  )))));\n};\n\nconst useStyles$4 = makeStyles$1((theme) => ({\n  button: {\n    color: theme.page.fontColor\n  }\n}));\nfunction ScaffolderPageContextMenu(props) {\n  const classes = useStyles$4();\n  const [anchorEl, setAnchorEl] = useState();\n  const editLink = useRouteRef(editRouteRef);\n  const actionsLink = useRouteRef(actionsRouteRef);\n  const tasksLink = useRouteRef(scaffolderListTaskRouteRef);\n  const navigate = useNavigate();\n  const showEditor = props.editor !== false;\n  const showActions = props.actions !== false;\n  const showTasks = props.tasks !== false;\n  if (!showEditor && !showActions) {\n    return null;\n  }\n  const onOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const onClose = () => {\n    setAnchorEl(void 0);\n  };\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    IconButton$1,\n    {\n      id: \"long-menu\",\n      \"aria-label\": \"more\",\n      \"aria-controls\": \"long-menu\",\n      \"aria-expanded\": !!anchorEl,\n      \"aria-haspopup\": \"true\",\n      role: \"button\",\n      onClick: onOpen,\n      \"data-testid\": \"menu-button\",\n      color: \"inherit\",\n      className: classes.button\n    },\n    /* @__PURE__ */ React.createElement(MoreVert, null)\n  ), /* @__PURE__ */ React.createElement(\n    Popover,\n    {\n      \"aria-labelledby\": \"long-menu\",\n      open: Boolean(anchorEl),\n      onClose,\n      anchorEl,\n      anchorOrigin: { vertical: \"bottom\", horizontal: \"right\" },\n      transformOrigin: { vertical: \"top\", horizontal: \"right\" }\n    },\n    /* @__PURE__ */ React.createElement(MenuList, null, showEditor && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(editLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Edit, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Template Editor\" })), showActions && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(actionsLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Description, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Installed Actions\" })), showTasks && /* @__PURE__ */ React.createElement(MenuItem, { onClick: () => navigate(tasksLink()) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(List, { fontSize: \"small\" })), /* @__PURE__ */ React.createElement(ListItemText, { primary: \"Task List\" })))\n  ));\n}\n\nconst ScaffolderPageContents = ({\n  TemplateCardComponent,\n  groups,\n  templateFilter,\n  contextMenu,\n  headerOptions\n}) => {\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const otherTemplatesGroup = {\n    title: groups ? \"Other Templates\" : \"Templates\",\n    filter: (entity) => {\n      const filtered = (groups != null ? groups : []).map((group) => group.filter(entity));\n      return !filtered.some((result) => result === true);\n    }\n  };\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a New Component\",\n      title: \"Create a New Component\",\n      subtitle: \"Create new software components using standard templates\",\n      ...headerOptions\n    },\n    /* @__PURE__ */ React.createElement(ScaffolderPageContextMenu, { ...contextMenu })\n  ), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, { title: \"Available Templates\" }, allowed && /* @__PURE__ */ React.createElement(\n    CreateButton,\n    {\n      title: \"Register Existing Component\",\n      to: registerComponentLink && registerComponentLink()\n    }\n  ), /* @__PURE__ */ React.createElement(SupportButton, null, \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\")), /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntitySearchBar, null), /* @__PURE__ */ React.createElement(EntityKindPicker, { initialFilter: \"template\", hidden: true }), /* @__PURE__ */ React.createElement(\n    UserListPicker,\n    {\n      initialFilter: \"all\",\n      availableFilters: [\"all\", \"starred\"]\n    }\n  ), /* @__PURE__ */ React.createElement(TemplateTypePicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, groups && groups.map((group, index) => /* @__PURE__ */ React.createElement(\n    TemplateList,\n    {\n      key: index,\n      TemplateCardComponent,\n      group,\n      templateFilter\n    }\n  )), /* @__PURE__ */ React.createElement(\n    TemplateList,\n    {\n      key: \"other\",\n      TemplateCardComponent,\n      templateFilter,\n      group: otherTemplatesGroup\n    }\n  )))));\n};\nconst ScaffolderPage = ({\n  TemplateCardComponent,\n  groups,\n  templateFilter,\n  contextMenu,\n  headerOptions\n}) => /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(\n  ScaffolderPageContents,\n  {\n    TemplateCardComponent,\n    groups,\n    templateFilter,\n    contextMenu,\n    headerOptions\n  }\n));\n\nfunction isObject$1(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction extractUiSchema(schema, uiSchema) {\n  if (!isObject$1(schema)) {\n    return;\n  }\n  const { properties, items, anyOf, oneOf, allOf, dependencies } = schema;\n  for (const propName in schema) {\n    if (!schema.hasOwnProperty(propName)) {\n      continue;\n    }\n    if (propName.startsWith(\"ui:\")) {\n      uiSchema[propName] = schema[propName];\n      delete schema[propName];\n    }\n  }\n  if (isObject$1(properties)) {\n    for (const propName in properties) {\n      if (!properties.hasOwnProperty(propName)) {\n        continue;\n      }\n      const schemaNode = properties[propName];\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      const innerUiSchema = {};\n      uiSchema[propName] = uiSchema[propName] || innerUiSchema;\n      extractUiSchema(schemaNode, innerUiSchema);\n    }\n  }\n  if (isObject$1(items)) {\n    const innerUiSchema = {};\n    uiSchema.items = innerUiSchema;\n    extractUiSchema(items, innerUiSchema);\n  }\n  if (Array.isArray(anyOf)) {\n    for (const schemaNode of anyOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (Array.isArray(oneOf)) {\n    for (const schemaNode of oneOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (Array.isArray(allOf)) {\n    for (const schemaNode of allOf) {\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n  if (isObject$1(dependencies)) {\n    for (const depName of Object.keys(dependencies)) {\n      const schemaNode = dependencies[depName];\n      if (!isObject$1(schemaNode)) {\n        continue;\n      }\n      extractUiSchema(schemaNode, uiSchema);\n    }\n  }\n}\nfunction transformSchemaToProps(inputSchema, layouts = []) {\n  var _a;\n  const customLayoutName = inputSchema[\"ui:ObjectFieldTemplate\"];\n  inputSchema.type = inputSchema.type || \"object\";\n  const schema = JSON.parse(JSON.stringify(inputSchema));\n  delete schema.title;\n  const uiSchema = {};\n  extractUiSchema(schema, uiSchema);\n  if (customLayoutName) {\n    const Layout = (_a = layouts.find(\n      (layout) => layout.name === customLayoutName\n    )) == null ? void 0 : _a.component;\n    if (Layout) {\n      uiSchema[\"ui:ObjectFieldTemplate\"] = Layout;\n    }\n  }\n  return { schema, uiSchema };\n}\n\nconst DescriptionField = ({ description }) => description && /* @__PURE__ */ React.createElement(MarkdownContent, { content: description, linkTarget: \"_blank\" });\n\nvar fieldOverrides = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  DescriptionField: DescriptionField\n});\n\nfunction getReviewData(formData, uiSchemas) {\n  const reviewData = {};\n  const orderedReviewProperties = new Set(\n    uiSchemas.map((us) => us.name).concat(Object.getOwnPropertyNames(formData))\n  );\n  for (const key of orderedReviewProperties) {\n    const uiSchema = uiSchemas.find((us) => us.name === key);\n    if (!uiSchema) {\n      reviewData[key] = formData[key];\n      continue;\n    }\n    if (uiSchema[\"ui:widget\"] === \"password\") {\n      reviewData[key] = \"******\";\n      continue;\n    }\n    if (!uiSchema[\"ui:backstage\"] || !uiSchema[\"ui:backstage\"].review) {\n      reviewData[key] = formData[key];\n      continue;\n    }\n    const review = uiSchema[\"ui:backstage\"].review;\n    if (review.mask) {\n      reviewData[key] = review.mask;\n      continue;\n    }\n    if (!review.show) {\n      continue;\n    }\n    reviewData[key] = formData[key];\n  }\n  return reviewData;\n}\nfunction getUiSchemasFromSteps(steps) {\n  const uiSchemas = [];\n  steps.forEach((step) => {\n    const schemaProps = step.schema.properties;\n    for (const key in schemaProps) {\n      if (schemaProps.hasOwnProperty(key)) {\n        const uiSchema = schemaProps[key];\n        uiSchema.name = key;\n        uiSchemas.push(uiSchema);\n      }\n    }\n  });\n  return uiSchemas;\n}\nconst ReviewStep = (props) => {\n  const {\n    disableButtons,\n    formData,\n    handleBack,\n    handleCreate,\n    handleReset,\n    steps\n  } = props;\n  return /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(Paper, { square: true, elevation: 0 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\" }, \"Review and create\"), /* @__PURE__ */ React.createElement(\n    StructuredMetadataTable,\n    {\n      dense: true,\n      metadata: getReviewData(\n        formData,\n        getUiSchemasFromSteps(\n          steps.map(({ mergedSchema }) => ({ schema: mergedSchema }))\n        )\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(Box, { mb: 4 }), /* @__PURE__ */ React.createElement(Button, { onClick: handleBack, disabled: disableButtons }, \"Back\"), /* @__PURE__ */ React.createElement(Button, { onClick: handleReset, disabled: disableButtons }, \"Reset\"), /* @__PURE__ */ React.createElement(\n    Button,\n    {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleCreate,\n      disabled: disableButtons\n    },\n    \"Create\"\n  )));\n};\n\nconst Form$1 = withTheme(Theme);\nfunction getSchemasFromSteps(steps) {\n  return steps.map(({ schema }) => ({\n    mergedSchema: schema,\n    ...extractSchemaFromStep(schema)\n  }));\n}\nconst MultistepJsonForm = (props) => {\n  const {\n    formData,\n    onChange,\n    onReset,\n    onFinish,\n    fields,\n    widgets,\n    layouts,\n    ReviewStepComponent\n  } = props;\n  const { templateName } = useRouteRefParams(selectedTemplateRouteRef);\n  const analytics = useAnalytics();\n  const [activeStep, setActiveStep] = useState(0);\n  const [disableButtons, setDisableButtons] = useState(false);\n  const errorApi = useApi(errorApiRef);\n  const featureFlagApi = useApi(featureFlagsApiRef);\n  const featureFlagKey = \"backstage:featureFlag\";\n  const filterOutProperties = (step) => {\n    var _a;\n    const filteredStep = cloneDeep(step);\n    const removedPropertyKeys = [];\n    if (filteredStep.schema.properties) {\n      filteredStep.schema.properties = Object.fromEntries(\n        Object.entries(filteredStep.schema.properties).filter(\n          ([key, value]) => {\n            if (value[featureFlagKey]) {\n              if (featureFlagApi.isActive(value[featureFlagKey])) {\n                return true;\n              }\n              removedPropertyKeys.push(key);\n              return false;\n            }\n            return true;\n          }\n        )\n      );\n      filteredStep.schema.required = Array.isArray(filteredStep.schema.required) ? (_a = filteredStep.schema.required) == null ? void 0 : _a.filter(\n        (r) => !removedPropertyKeys.includes(r)\n      ) : filteredStep.schema.required;\n    }\n    return filteredStep;\n  };\n  const steps = props.steps.filter((step) => {\n    const featureFlag = step.schema[featureFlagKey];\n    return typeof featureFlag !== \"string\" || featureFlagApi.isActive(featureFlag);\n  }).map(filterOutProperties);\n  const handleReset = () => {\n    setActiveStep(0);\n    onReset();\n  };\n  const handleNext = () => {\n    const stepNum = Math.min(activeStep + 1, steps.length);\n    setActiveStep(stepNum);\n    analytics.captureEvent(\"click\", `Next Step (${stepNum})`);\n  };\n  const handleBack = () => setActiveStep(Math.max(activeStep - 1, 0));\n  const handleCreate = async () => {\n    if (!onFinish) {\n      return;\n    }\n    setDisableButtons(true);\n    try {\n      await onFinish();\n      analytics.captureEvent(\"create\", formData.name || `new ${templateName}`);\n    } catch (err) {\n      errorApi.post(err);\n    } finally {\n      setDisableButtons(false);\n    }\n  };\n  const ReviewStepElement = ReviewStepComponent != null ? ReviewStepComponent : ReviewStep;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Stepper, { activeStep, orientation: \"vertical\" }, steps.map(({ title, schema, ...formProps }, index) => {\n    return /* @__PURE__ */ React.createElement(Step, { key: title }, /* @__PURE__ */ React.createElement(\n      StepLabel,\n      {\n        \"aria-label\": `Step ${index + 1} ${title}`,\n        \"aria-disabled\": \"false\",\n        tabIndex: 0\n      },\n      /* @__PURE__ */ React.createElement(Typography, { variant: \"h6\", component: \"h2\" }, title)\n    ), /* @__PURE__ */ React.createElement(StepContent, { key: title }, /* @__PURE__ */ React.createElement(\n      Form$1,\n      {\n        showErrorList: false,\n        fields: { ...fieldOverrides, ...fields },\n        widgets,\n        noHtml5Validate: true,\n        formData,\n        formContext: { formData },\n        onChange,\n        onSubmit: (e) => {\n          if (e.errors.length === 0)\n            handleNext();\n        },\n        ...formProps,\n        ...transformSchemaToProps(schema, layouts)\n      },\n      /* @__PURE__ */ React.createElement(Button, { disabled: activeStep === 0, onClick: handleBack }, \"Back\"),\n      /* @__PURE__ */ React.createElement(Button, { variant: \"contained\", color: \"primary\", type: \"submit\" }, \"Next step\")\n    )));\n  })), activeStep === steps.length && /* @__PURE__ */ React.createElement(\n    ReviewStepElement,\n    {\n      disableButtons,\n      handleBack,\n      handleCreate,\n      handleReset,\n      formData,\n      steps: getSchemasFromSteps(steps)\n    }\n  ));\n};\n\nfunction isObject(obj) {\n  return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction isArray(obj) {\n  return typeof obj === \"object\" && obj !== null && Array.isArray(obj);\n}\nconst createValidator = (rootSchema, validators, context) => {\n  function validate(schema, formData, errors) {\n    var _a;\n    const schemaProps = schema.properties;\n    const customObject = schema.type === \"object\" && schemaProps === void 0;\n    if (!isObject(schemaProps) && !customObject) {\n      return;\n    }\n    if (schemaProps) {\n      for (const [key, propData] of Object.entries(formData)) {\n        const propValidation = errors[key];\n        const doValidate = (item) => {\n          if (item && isObject(item)) {\n            const fieldName = item[\"ui:field\"];\n            if (fieldName && typeof validators[fieldName] === \"function\") {\n              validators[fieldName](\n                propData,\n                propValidation,\n                context\n              );\n            }\n          }\n        };\n        const propSchemaProps = schemaProps[key];\n        if (isObject(propData) && isObject(propSchemaProps)) {\n          validate(\n            propSchemaProps,\n            propData,\n            propValidation\n          );\n        } else if (isArray(propData)) {\n          if (isObject(propSchemaProps)) {\n            const { items } = propSchemaProps;\n            if (isObject(items)) {\n              if (items.type === \"object\") {\n                const properties = (_a = items == null ? void 0 : items.properties) != null ? _a : [];\n                for (const [, value] of Object.entries(properties)) {\n                  doValidate(value);\n                }\n              } else {\n                doValidate(items);\n              }\n            }\n          }\n        } else {\n          doValidate(propSchemaProps);\n        }\n      }\n    } else if (customObject) {\n      const fieldName = schema[\"ui:field\"];\n      if (fieldName && typeof validators[fieldName] === \"function\") {\n        validators[fieldName](formData, errors, context);\n      }\n    }\n  }\n  return (formData, errors) => {\n    validate(rootSchema, formData, errors);\n    return errors;\n  };\n};\n\nconst useTemplateParameterSchema = (templateRef) => {\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { value, loading, error } = useAsync(\n    () => scaffolderApi.getTemplateParameterSchema(templateRef),\n    [scaffolderApi, templateRef]\n  );\n  return { schema: value, loading, error };\n};\nconst TemplatePage = ({\n  ReviewStepComponent,\n  customFieldExtensions = [],\n  layouts = [],\n  headerOptions\n}) => {\n  const apiHolder = useApiHolder();\n  const secretsContext = useTemplateSecrets();\n  const errorApi = useApi(errorApiRef);\n  const scaffolderApi = useApi(scaffolderApiRef);\n  const { templateName, namespace } = useRouteRefParams(\n    selectedTemplateRouteRef\n  );\n  const templateRef = stringifyEntityRef({\n    name: templateName,\n    kind: \"template\",\n    namespace\n  });\n  const navigate = useNavigate();\n  const scaffolderTaskRoute = useRouteRef(scaffolderTaskRouteRef);\n  const rootRoute = useRouteRef(rootRouteRef);\n  const { schema, loading, error } = useTemplateParameterSchema(templateRef);\n  const [formState, setFormState] = useState(() => {\n    var _a;\n    const query = qs.parse(window.location.search, {\n      ignoreQueryPrefix: true\n    });\n    try {\n      return JSON.parse(query.formData);\n    } catch (e) {\n      return (_a = query.formData) != null ? _a : {};\n    }\n  });\n  const handleFormReset = () => setFormState({});\n  const handleChange = useCallback(\n    (e) => setFormState(e.formData),\n    [setFormState]\n  );\n  const handleCreate = async () => {\n    var _a;\n    const { taskId } = await scaffolderApi.scaffold({\n      templateRef,\n      values: formState,\n      secrets: secretsContext == null ? void 0 : secretsContext.secrets\n    });\n    const formParams = qs.stringify(\n      { formData: formState },\n      { addQueryPrefix: true }\n    );\n    const newUrl = `${window.location.pathname}${formParams}`;\n    (_a = window.history) == null ? void 0 : _a.replaceState(null, document.title, newUrl);\n    navigate(scaffolderTaskRoute({ taskId }));\n  };\n  if (error) {\n    errorApi.post(new Error(`Failed to load template, ${error}`));\n    return /* @__PURE__ */ React.createElement(Navigate, { to: rootRoute() });\n  }\n  if (!loading && !schema) {\n    errorApi.post(new Error(\"Template was not found.\"));\n    return /* @__PURE__ */ React.createElement(Navigate, { to: rootRoute() });\n  }\n  const customFieldComponents = Object.fromEntries(\n    customFieldExtensions.map(({ name, component }) => [name, component])\n  );\n  const customFieldValidators = Object.fromEntries(\n    customFieldExtensions.map(({ name, validation }) => [name, validation])\n  );\n  return /* @__PURE__ */ React.createElement(AnalyticsContext, { attributes: { entityRef: templateRef } }, /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      pageTitleOverride: \"Create a New Component\",\n      title: \"Create a New Component\",\n      subtitle: \"Create new software components using standard templates\",\n      ...headerOptions\n    }\n  ), /* @__PURE__ */ React.createElement(Content, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, { \"data-testid\": \"loading-progress\" }), schema && /* @__PURE__ */ React.createElement(\n    InfoCard,\n    {\n      title: schema.title,\n      noPadding: true,\n      titleTypographyProps: { component: \"h2\" }\n    },\n    /* @__PURE__ */ React.createElement(\n      MultistepJsonForm,\n      {\n        ReviewStepComponent,\n        formData: formState,\n        fields: customFieldComponents,\n        onChange: handleChange,\n        onReset: handleFormReset,\n        onFinish: handleCreate,\n        layouts,\n        steps: schema.steps.map((step) => {\n          return {\n            ...step,\n            validate: createValidator(\n              step.schema,\n              customFieldValidators,\n              { apiHolder }\n            )\n          };\n        })\n      }\n    )\n  ))));\n};\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst useStyles$3 = makeStyles$1({\n  containerWrapper: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  container: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    overflow: \"auto\"\n  }\n});\nclass ErrorBoundary extends Component {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"state\", {\n      shouldRender: true\n    });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.invalidator !== this.props.invalidator) {\n      this.setState({ shouldRender: true });\n    }\n  }\n  componentDidCatch(error) {\n    this.props.setErrorText(error.message);\n    this.setState({ shouldRender: false });\n  }\n  render() {\n    return this.state.shouldRender ? this.props.children : null;\n  }\n}\nfunction isJsonObject(value) {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\nfunction TemplateEditorForm(props) {\n  const {\n    content,\n    contentIsSpec,\n    data,\n    onUpdate,\n    onDryRun,\n    setErrorText,\n    fieldExtensions = [],\n    layouts = []\n  } = props;\n  const classes = useStyles$3();\n  const apiHolder = useApiHolder();\n  const [steps, setSteps] = useState();\n  const fields = useMemo(() => {\n    return Object.fromEntries(\n      fieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [fieldExtensions]);\n  useDebounce(\n    () => {\n      try {\n        if (!content) {\n          setSteps(void 0);\n          return;\n        }\n        const parsed = yaml.parse(content);\n        if (!isJsonObject(parsed)) {\n          setSteps(void 0);\n          return;\n        }\n        let rootObj = parsed;\n        if (!contentIsSpec) {\n          const isTemplate = String(parsed.kind).toLocaleLowerCase(\"en-US\") === \"template\";\n          if (!isTemplate) {\n            setSteps(void 0);\n            return;\n          }\n          rootObj = isJsonObject(parsed.spec) ? parsed.spec : {};\n        }\n        const { parameters } = rootObj;\n        if (!Array.isArray(parameters)) {\n          setErrorText(\"Template parameters must be an array\");\n          setSteps(void 0);\n          return;\n        }\n        const fieldValidators = Object.fromEntries(\n          fieldExtensions.map(({ name, validation }) => [name, validation])\n        );\n        setErrorText();\n        setSteps(\n          parameters.flatMap(\n            (param) => isJsonObject(param) ? [\n              {\n                title: String(param.title),\n                schema: param,\n                validate: createValidator(param, fieldValidators, {\n                  apiHolder\n                })\n              }\n            ] : []\n          )\n        );\n      } catch (e) {\n        setErrorText(e.message);\n      }\n    },\n    250,\n    [contentIsSpec, content, apiHolder]\n  );\n  if (!steps) {\n    return null;\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", { className: classes.containerWrapper }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.container }, /* @__PURE__ */ React.createElement(ErrorBoundary, { invalidator: steps, setErrorText }, /* @__PURE__ */ React.createElement(\n    MultistepJsonForm,\n    {\n      steps,\n      fields,\n      formData: data,\n      onChange: (e) => onUpdate(e.formData),\n      onReset: () => onUpdate({}),\n      finishButtonLabel: onDryRun && \"Try It\",\n      onFinish: onDryRun && (() => onDryRun(data)),\n      layouts\n    }\n  ))));\n}\nfunction TemplateEditorFormDirectoryEditorDryRun(props) {\n  const { setErrorText, fieldExtensions = [], layouts } = props;\n  const dryRun = useDryRun();\n  const directoryEditor = useDirectoryEditor();\n  const { selectedFile } = directoryEditor;\n  const [data, setData] = useState({});\n  const handleDryRun = async () => {\n    if (!selectedFile) {\n      return;\n    }\n    try {\n      await dryRun.execute({\n        templateContent: selectedFile.content,\n        values: data,\n        files: directoryEditor.files\n      });\n      setErrorText();\n    } catch (e) {\n      setErrorText(String(e.cause || e));\n      throw e;\n    }\n  };\n  const content = selectedFile && selectedFile.path.match(/\\.ya?ml$/) ? selectedFile.content : void 0;\n  return /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      onDryRun: handleDryRun,\n      fieldExtensions,\n      setErrorText,\n      content,\n      data,\n      onUpdate: setData,\n      layouts\n    }\n  );\n}\nTemplateEditorForm.DirectoryEditorDryRun = TemplateEditorFormDirectoryEditorDryRun;\n\nconst Form = withTheme(Theme);\nconst useStyles$2 = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"fieldForm preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  fieldForm: {\n    gridArea: \"fieldForm\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst CustomFieldExplorer = ({\n  customFieldExtensions = [],\n  onClose\n}) => {\n  var _a, _b;\n  const classes = useStyles$2();\n  const fieldOptions = customFieldExtensions.filter((field) => !!field.schema);\n  const [selectedField, setSelectedField] = useState(fieldOptions[0]);\n  const [fieldFormState, setFieldFormState] = useState({});\n  const [formState, setFormState] = useState({});\n  const [refreshKey, setRefreshKey] = useState(Date.now());\n  const sampleFieldTemplate = useMemo(\n    () => {\n      var _a2, _b2;\n      return yaml.stringify({\n        parameters: [\n          {\n            title: `${selectedField.name} Example`,\n            properties: {\n              [selectedField.name]: {\n                type: (_b2 = (_a2 = selectedField.schema) == null ? void 0 : _a2.returnValue) == null ? void 0 : _b2.type,\n                \"ui:field\": selectedField.name,\n                \"ui:options\": fieldFormState\n              }\n            }\n          }\n        ]\n      });\n    },\n    [fieldFormState, selectedField]\n  );\n  const fieldComponents = useMemo(() => {\n    return Object.fromEntries(\n      customFieldExtensions.map(({ name, component }) => [name, component])\n    );\n  }, [customFieldExtensions]);\n  const handleSelectionChange = useCallback(\n    (selection) => {\n      setSelectedField(selection);\n      setFieldFormState({});\n      setFormState({});\n    },\n    [setFieldFormState, setFormState, setSelectedField]\n  );\n  const handleFieldConfigChange = useCallback(\n    (state) => {\n      setFieldFormState(state);\n      setFormState({});\n      setRefreshKey(Date.now());\n    },\n    [setFieldFormState, setRefreshKey]\n  );\n  return /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-field-label\" }, \"Choose Custom Field Extension\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedField,\n      label: \"Choose Custom Field Extension\",\n      labelId: \"select-field-label\",\n      onChange: (e) => handleSelectionChange(e.target.value)\n    },\n    fieldOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem$1, { key: idx, value: option }, option.name))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose, \"aria-label\": \"Close\" }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.fieldForm }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Field Options\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    Form,\n    {\n      showErrorList: false,\n      fields: { ...fieldOverrides, ...fieldComponents },\n      noHtml5Validate: true,\n      formData: fieldFormState,\n      formContext: { fieldFormState },\n      onSubmit: (e) => handleFieldConfigChange(e.formData),\n      schema: ((_a = selectedField.schema) == null ? void 0 : _a.uiOptions) || {}\n    },\n    /* @__PURE__ */ React.createElement(\n      Button,\n      {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        disabled: !((_b = selectedField.schema) == null ? void 0 : _b.uiOptions)\n      },\n      \"Apply\"\n    )\n  )))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, { title: \"Example Template Spec\" }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(\n    CodeMirror,\n    {\n      readOnly: true,\n      theme: \"dark\",\n      height: \"100%\",\n      extensions: [StreamLanguage.define(yaml$1)],\n      value: sampleFieldTemplate\n    }\n  ))), /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      key: refreshKey,\n      content: sampleFieldTemplate,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      data: formState,\n      onUpdate: setFormState,\n      setErrorText: () => null\n    }\n  )));\n};\n\nconst useStyles$1 = makeStyles({\n  // Reset and fix sizing to make sure scrolling behaves correctly\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"browser editor preview\"\n      \"results results results\"\n    `,\n    gridTemplateColumns: \"1fr 3fr 2fr\",\n    gridTemplateRows: \"1fr auto\"\n  },\n  browser: {\n    gridArea: \"browser\",\n    overflow: \"auto\"\n  },\n  editor: {\n    gridArea: \"editor\",\n    overflow: \"auto\"\n  },\n  preview: {\n    gridArea: \"preview\",\n    overflow: \"auto\"\n  },\n  results: {\n    gridArea: \"results\"\n  }\n});\nconst TemplateEditor = (props) => {\n  const classes = useStyles$1();\n  const [errorText, setErrorText] = useState();\n  return /* @__PURE__ */ React.createElement(DirectoryEditorProvider, { directory: props.directory }, /* @__PURE__ */ React.createElement(DryRunProvider, null, /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"section\", { className: classes.browser }, /* @__PURE__ */ React.createElement(TemplateEditorBrowser, { onClose: props.onClose })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.editor }, /* @__PURE__ */ React.createElement(TemplateEditorTextArea.DirectoryEditor, { errorText })), /* @__PURE__ */ React.createElement(\"section\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm.DirectoryEditorDryRun,\n    {\n      setErrorText,\n      fieldExtensions: props.fieldExtensions,\n      layouts: props.layouts\n    }\n  )), /* @__PURE__ */ React.createElement(\"section\", { className: classes.results }, /* @__PURE__ */ React.createElement(DryRunResults, null)))));\n};\n\nconst EXAMPLE_TEMPLATE_PARAMS_YAML = `# Edit the template parameters below to see how they will render in the scaffolder form UI\nparameters:\n  - title: Fill in some steps\n    required:\n      - name\n    properties:\n      name:\n        title: Name\n        type: string\n        description: Unique name of the component\n      owner:\n        title: Owner\n        type: string\n        description: Owner of the component\n        ui:field: OwnerPicker\n        ui:options:\n          catalogFilter:\n            kind: Group\n  - title: Choose a location\n    required:\n      - repoUrl\n    properties:\n      repoUrl:\n        title: Repository Location\n        type: string\n        ui:field: RepoUrlPicker\n        ui:options:\n          allowedHosts:\n            - github.com\nsteps:\n  - id: fetch-base\n    name: Fetch Base\n    action: fetch:template\n    input:\n      url: ./template\n      values:\n        name: \\${{parameters.name}}\n`;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    gridArea: \"pageContent\",\n    display: \"grid\",\n    gridTemplateAreas: `\n      \"controls controls\"\n      \"textArea preview\"\n    `,\n    gridTemplateRows: \"auto 1fr\",\n    gridTemplateColumns: \"1fr 1fr\"\n  },\n  controls: {\n    gridArea: \"controls\",\n    display: \"flex\",\n    flexFlow: \"row nowrap\",\n    alignItems: \"center\",\n    margin: theme.spacing(1)\n  },\n  textArea: {\n    gridArea: \"textArea\"\n  },\n  preview: {\n    gridArea: \"preview\"\n  }\n}));\nconst TemplateFormPreviewer = ({\n  defaultPreviewTemplate = EXAMPLE_TEMPLATE_PARAMS_YAML,\n  customFieldExtensions = [],\n  onClose,\n  layouts = []\n}) => {\n  const classes = useStyles();\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const [selectedTemplate, setSelectedTemplate] = useState(\"\");\n  const [errorText, setErrorText] = useState();\n  const [templateOptions, setTemplateOptions] = useState([]);\n  const [templateYaml, setTemplateYaml] = useState(defaultPreviewTemplate);\n  const [formState, setFormState] = useState({});\n  const { loading } = useAsync(\n    () => catalogApi.getEntities({\n      filter: { kind: \"template\" },\n      fields: [\n        \"kind\",\n        \"metadata.namespace\",\n        \"metadata.name\",\n        \"metadata.title\",\n        \"spec.parameters\",\n        \"spec.steps\",\n        \"spec.output\"\n      ]\n    }).then(\n      ({ items }) => setTemplateOptions(\n        items.map((template) => {\n          var _a;\n          return {\n            label: (_a = template.metadata.title) != null ? _a : humanizeEntityRef(template, { defaultKind: \"template\" }),\n            value: template\n          };\n        })\n      )\n    ).catch(\n      (e) => alertApi.post({\n        message: `Error loading exisiting templates: ${e.message}`,\n        severity: \"error\"\n      })\n    ),\n    [catalogApi]\n  );\n  const handleSelectChange = useCallback(\n    (selected) => {\n      setSelectedTemplate(selected);\n      setTemplateYaml(yaml.stringify(selected.spec));\n    },\n    [setTemplateYaml]\n  );\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, loading && /* @__PURE__ */ React.createElement(LinearProgress, null), /* @__PURE__ */ React.createElement(\"main\", { className: classes.root }, /* @__PURE__ */ React.createElement(\"div\", { className: classes.controls }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", size: \"small\", fullWidth: true }, /* @__PURE__ */ React.createElement(InputLabel, { id: \"select-template-label\" }, \"Load Existing Template\"), /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      value: selectedTemplate,\n      label: \"Load Existing Template\",\n      labelId: \"select-template-label\",\n      onChange: (e) => handleSelectChange(e.target.value)\n    },\n    templateOptions.map((option, idx) => /* @__PURE__ */ React.createElement(MenuItem$1, { key: idx, value: option.value }, option.label))\n  )), /* @__PURE__ */ React.createElement(IconButton, { size: \"medium\", onClick: onClose, \"aria-label\": \"Close\" }, /* @__PURE__ */ React.createElement(CloseIcon, null))), /* @__PURE__ */ React.createElement(\"div\", { className: classes.textArea }, /* @__PURE__ */ React.createElement(\n    TemplateEditorTextArea,\n    {\n      content: templateYaml,\n      onUpdate: setTemplateYaml,\n      errorText\n    }\n  )), /* @__PURE__ */ React.createElement(\"div\", { className: classes.preview }, /* @__PURE__ */ React.createElement(\n    TemplateEditorForm,\n    {\n      content: templateYaml,\n      contentIsSpec: true,\n      fieldExtensions: customFieldExtensions,\n      data: formState,\n      onUpdate: setFormState,\n      setErrorText,\n      layouts\n    }\n  ))));\n};\n\nfunction TemplateEditorPage(props) {\n  const [selection, setSelection] = useState();\n  let content = null;\n  if ((selection == null ? void 0 : selection.type) === \"local\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateEditor,\n      {\n        directory: selection.directory,\n        fieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"form\") {\n    content = /* @__PURE__ */ React.createElement(\n      TemplateFormPreviewer,\n      {\n        defaultPreviewTemplate: props.defaultPreviewTemplate,\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0),\n        layouts: props.layouts\n      }\n    );\n  } else if ((selection == null ? void 0 : selection.type) === \"field-explorer\") {\n    content = /* @__PURE__ */ React.createElement(\n      CustomFieldExplorer,\n      {\n        customFieldExtensions: props.customFieldExtensions,\n        onClose: () => setSelection(void 0)\n      }\n    );\n  } else {\n    content = /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(\n      TemplateEditorIntro,\n      {\n        onSelect: (option) => {\n          if (option === \"local\") {\n            WebFileSystemAccess.requestDirectoryAccess().then((directory) => setSelection({ type: \"local\", directory })).catch(() => {\n            });\n          } else if (option === \"form\") {\n            setSelection({ type: \"form\" });\n          } else if (option === \"field-explorer\") {\n            setSelection({ type: \"field-explorer\" });\n          }\n        }\n      }\n    ));\n  }\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: \"Template Editor\",\n      subtitle: \"Edit, preview, and try out templates and template forms\"\n    }\n  ), content);\n}\n\nconst Router = (props) => {\n  const {\n    groups,\n    templateFilter,\n    components = {},\n    defaultPreviewTemplate\n  } = props;\n  const { ReviewStepComponent, TemplateCardComponent, TaskPageComponent } = components;\n  const outlet = useOutlet();\n  const TaskPageElement = TaskPageComponent != null ? TaskPageComponent : TaskPage;\n  const customFieldExtensions = useCustomFieldExtensions(outlet);\n  const fieldExtensions = [\n    ...customFieldExtensions,\n    ...DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS.filter(\n      ({ name }) => !customFieldExtensions.some(\n        (customFieldExtension) => customFieldExtension.name === name\n      )\n    )\n  ];\n  const customLayouts = useCustomLayouts(outlet);\n  const RedirectingComponent = () => {\n    const { templateName } = useRouteRefParams(legacySelectedTemplateRouteRef);\n    const newLink = useRouteRef(selectedTemplateRouteRef);\n    useEffect(\n      () => (\n        // eslint-disable-next-line no-console\n        console.warn(\n          \"The route /template/:templateName is deprecated, please use the new /template/:namespace/:templateName route instead\"\n        )\n      ),\n      []\n    );\n    return /* @__PURE__ */ React.createElement(Navigate, { to: newLink({ namespace: \"default\", templateName }) });\n  };\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: \"/\",\n      element: /* @__PURE__ */ React.createElement(\n        ScaffolderPage,\n        {\n          groups,\n          templateFilter,\n          TemplateCardComponent,\n          contextMenu: props.contextMenu,\n          headerOptions: props.headerOptions\n        }\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: legacySelectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(RedirectingComponent, null)\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: selectedTemplateRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplatePage,\n        {\n          ReviewStepComponent,\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts,\n          headerOptions: props.headerOptions\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: scaffolderListTaskRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(ListTasksPage, null)\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: scaffolderTaskRouteRef.path, element: /* @__PURE__ */ React.createElement(TaskPageElement, null) }), /* @__PURE__ */ React.createElement(Route, { path: actionsRouteRef.path, element: /* @__PURE__ */ React.createElement(ActionsPage, null) }), /* @__PURE__ */ React.createElement(\n    Route,\n    {\n      path: editRouteRef.path,\n      element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(\n        TemplateEditorPage,\n        {\n          defaultPreviewTemplate,\n          customFieldExtensions: fieldExtensions,\n          layouts: customLayouts\n        }\n      ))\n    }\n  ), /* @__PURE__ */ React.createElement(Route, { path: \"preview\", element: /* @__PURE__ */ React.createElement(Navigate, { to: \"../edit\" }) }));\n};\n\nexport { Router };\n//# sourceMappingURL=Router-8c688e9d.esm.js.map\n"],"names":["_extends","target","i","source","key","_objectDestructuringEmpty","obj","_objectWithoutPropertiesLoose","excluded","sourceKeys","AddButton","props","Button","Add","mappings","Remove","ArrowUpward","ArrowDownward","icon","iconProps","otherProps","IconComp","isMultiSelect","getDefaultRegistry","ArrayFieldTemplate","schema","_props$registry","registry","DefaultFixedArrayFieldTemplate","DefaultNormalArrayFieldTemplate","ArrayFieldTitle","_ref","TitleField","idSchema","title","required","id","ArrayFieldDescription","_ref2","DescriptionField","description","DefaultArrayItem","btnStyle","Grid","Box","Paper","p","ErrorList","errors","Typography","error","ListItem","ListItemIcon","ListItemText","useStyles","classes","Divider","Fields","ADDITIONAL_PROPERTY_FLAG","WrapIfAdditional","children","disabled","label","onDropPropertyClick","onKeyChange","readonly","keyLabel","additional","handleBlur","FormControl","InputLabel","Input","FieldTemplate","classNames","displayLabel","hidden","_ref$rawErrors","rawErrors","rawHelp","rawDescription","FormHelperText","canExpand","useStyles$1","ObjectFieldTemplate","properties","uiSchema","formData","onAddClick","element","index","schemaRequiresTrueValue","CheckboxWidget","value","autofocus","onChange","onBlur","onFocus","_onChange","checked","_onBlur","_onFocus","_ref3","FormControlLabel","Checkbox","selectValue","selected","all","at","updated","a","b","deselectValue","v","CheckboxesWidget","options","enumOptions","enumDisabled","inline","option","_ref4","_ref5","FormLabel","FormGroup","itemDisabled","checkbox","ColorWidget","TextWidget","DateWidget","localToUTC","utcToLocal","DateTimeWidget","EmailWidget","PasswordWidget","RadioWidget","row","RadioGroup","radio","Radio","rangeSpec","RangeWidget","sliderProps","Slider","asNumber","guessType","nums","processValue","type","items","x","SelectWidget","multiple","emptyValue","TextField","MenuItem","TextareaWidget","placeholder","getDisplayLabel","textFieldProps","inputType","UpDownWidget","URLWidget","Widgets","getDefaultRegistry$1","_getDefaultRegistry","fields","widgets","DefaultChildren","Theme","MuiForm","useStyles$5","makeStyles","theme","backgroundImage","fontColor","MuiIcon","Icon","useDeprecationStyles","getTemplateCardProps","template","_a","_b","_c","_d","_e","_f","DeprecationWarning","styles","Title","Tooltip","Warning","TemplateCard","deprecated","app","backstageTheme","useTheme","templateRoute","templateProps","ownedByRelations","themeId","name","namespace","href","viewTechDoc","viewTechDocsLink","iconResolver","_a2","Language","scmIntegrationsApi","sourceLocation","Card","CardMedia","CardContent","tag","Chip","CardActions","IconButton","link","TemplateList","TemplateCardComponent","group","templateFilter","loading","entities","templateEntities","maybeFilteredEntities","e","titleComponent","useStyles$4","ScaffolderPageContextMenu","anchorEl","setAnchorEl","editLink","actionsLink","tasksLink","navigate","showEditor","showActions","showTasks","onOpen","event","onClose","MoreVert","Popover","MenuList","Edit","Description","List","ScaffolderPageContents","groups","contextMenu","headerOptions","registerComponentLink","otherTemplatesGroup","entity","result","allowed","ScaffolderPage","isObject$1","extractUiSchema","anyOf","oneOf","allOf","dependencies","propName","schemaNode","innerUiSchema","depName","transformSchemaToProps","inputSchema","layouts","customLayoutName","Layout","layout","fieldOverrides","getReviewData","uiSchemas","reviewData","orderedReviewProperties","us","review","getUiSchemasFromSteps","steps","step","schemaProps","ReviewStep","disableButtons","handleBack","handleCreate","handleReset","mergedSchema","Form$1","getSchemasFromSteps","MultistepJsonForm","onReset","onFinish","ReviewStepComponent","templateName","analytics","activeStep","setActiveStep","setDisableButtons","errorApi","featureFlagApi","featureFlagKey","filterOutProperties","filteredStep","removedPropertyKeys","r","featureFlag","handleNext","stepNum","err","ReviewStepElement","Stepper","formProps","Step","StepLabel","StepContent","isObject","isArray","createValidator","rootSchema","validators","context","validate","customObject","propData","propValidation","doValidate","item","fieldName","propSchemaProps","useTemplateParameterSchema","templateRef","scaffolderApi","useAsync","TemplatePage","customFieldExtensions","apiHolder","secretsContext","scaffolderTaskRoute","rootRoute","formState","setFormState","query","handleFormReset","handleChange","taskId","formParams","newUrl","customFieldComponents","component","customFieldValidators","validation","LinearProgress","__defProp","__defNormalProp","__publicField","useStyles$3","ErrorBoundary","prevProps","isJsonObject","TemplateEditorForm","content","contentIsSpec","data","onUpdate","onDryRun","setErrorText","fieldExtensions","setSteps","useDebounce","parsed","rootObj","parameters","fieldValidators","param","TemplateEditorFormDirectoryEditorDryRun","dryRun","directoryEditor","selectedFile","setData","handleDryRun","Form","useStyles$2","CustomFieldExplorer","fieldOptions","field","selectedField","setSelectedField","fieldFormState","setFieldFormState","refreshKey","setRefreshKey","sampleFieldTemplate","_b2","fieldComponents","handleSelectionChange","selection","handleFieldConfigChange","state","Select","idx","Close","CardHeader","yaml","TemplateEditor","errorText","EXAMPLE_TEMPLATE_PARAMS_YAML","TemplateFormPreviewer","defaultPreviewTemplate","alertApi","catalogApi","selectedTemplate","setSelectedTemplate","templateOptions","setTemplateOptions","templateYaml","setTemplateYaml","handleSelectChange","TemplateEditorPage","setSelection","directory","Router","components","TaskPageComponent","outlet","TaskPageElement","customFieldExtension","customLayouts","RedirectingComponent","newLink"],"sourceRoot":""}