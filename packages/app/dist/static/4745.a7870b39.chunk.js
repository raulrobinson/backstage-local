(()=>{var Qu=(_e,w)=>()=>(w||_e((w={exports:{}}).exports,w),w.exports);var qu=Qu((exports,module)=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4745],{41718:function(_e,w,a){"use strict";a.d(w,{Iy:function(){return Ru},l0:function(){return Rl},zP:function(){return Ju},vF:function(){return Fl},v9:function(){return Uu},Lp:function(){return Wu},_G:function(){return zu},Gc:function(){return jl},ow:function(){return Du},h4:function(){return Ll},mg:function(){return El}});var n=a(30705),p=a(79692),I=a(42494),O=a(90436),D=a(67358),k=a(31625),L=a(31377),M=a(34546),$=a(77277),z=a(60364),J=a(94339),ne=a(24579),te=a(60905),oe=a(95544),we=a(85256),U=a(7089),q=a(14503),Oe=a(27556),ae=a(4614),ve=a(97136),Te=a(5806),re=a(21324),ce=a(86619),F=a(2784),We={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJSONPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Expected unique items in {{pointer}}: duplicate value `{{value}}` found at {{itemPointer}} and {{duplicatePointer}}",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"};function xe(r,u={}){return r.replace(/\{\{\w+\}\}/g,d=>u[d.replace(/[{}]/g,"")])}function Be(r,u,d=r){const E=We[r]||d;return xe(E,u)}function Ye(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kt(r,u){return{type:"error",name:r,code:Ye(r),message:Be(r,u),data:u}}function Le(r){return kt.bind(null,r)}const ut=Object.prototype.toString;function gt(r){const u=ut.call(r).match(/\s([^\]]+)\]/).pop().toLowerCase();return u==="file"?"object":u}function Ut(r){return(r==null?void 0:r.type)==="error"}function wt(r){return r instanceof Promise}function Ot(r){return Ut(r)||wt(r)}function pt(r){return isJSONError(r)}function Ne(r,u=[]){for(let d=0;d<r.length;d+=1){const E=r[d];Array.isArray(E)?Ne(E,u):u.push(E)}return u}var bt={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"]};const{DECLARATOR_ONEOF:ot}=bt;function fe(r,u,d=r.rootSchema,E="#"){if(u!=null&&d[ot]){const H=[],ie=d[ot],me=u[d[ot]];if(me===void 0)return r.errors.missingOneOfPropertyError({property:ie,pointer:E});for(let le=0;le<d.oneOf.length;le+=1){const Fe=r.resolveRef(d.oneOf[le]),Ve=r.step(ie,Fe,u,E);if(Ut(Ve))return Ve;let qe=Ne(r.validate(me,Ve,E));if(qe=qe.filter(Ot),qe.length>0)H.push(...qe);else return Fe}return r.errors.oneOfPropertyError({property:ie,value:me,pointer:E,errors:H})}const S=[],_=[];for(let H=0;H<d.oneOf.length;H+=1){const ie=r.resolveRef(d.oneOf[H]);let me=Ne(r.validate(u,ie,E));me=me.filter(Ot),me.length>0?_.push(...me):S.push(ie)}return S.length===1?S[0]:S.length>1?r.errors.multipleOneOfError({value:u,pointer:E,matches:S}):r.errors.oneOfError({value:JSON.stringify(u),pointer:E,oneOf:d.oneOf,errors:_})}var Re=r=>JSON.parse(JSON.stringify(r)),ct=a(39714),$t=a.n(ct);const er=(r,u)=>u;var Cr=(r,u)=>$t()(r,u,{arrayMerge:er});const ze=(r,u)=>{const d=r.concat(u);return d.filter((E,S)=>d.indexOf(E)===S)},K=(r,u)=>$t()(r,u,{arrayMerge:ze});function Z(r,u,d){var E;const S={...(E=r.resolveRef(u))!==null&&E!==void 0?E:{}};if(S.if&&(S.then||S.else)){const _=r.isValid(d,S.if);if(_&&S.then)return Z(r,S.then,d);if(!_&&S.else)return Z(r,S.else,d);delete S.if,delete S.then,delete S.else}return S}function Q(r,u,d=r.rootSchema,E="#"){let S=Re(d);for(let _=0;_<d.allOf.length;_+=1){const H=Z(r,d.allOf[_],u);S=K(S,H),u=r.getTemplate(u,S)}return delete S.allOf,S}const{DECLARATOR_ONEOF:pe}=bt;function ke(r,u,d,E){if(d==null||u.properties==null)return-1;let S=0;const _=Object.keys(u.properties);for(let H=0;H<_.length;H+=1){const ie=_[H];d[ie]!=null&&r.isValid(d[ie],u.properties[ie],E)&&(S+=1)}return S}function tt(r,u,d=r.rootSchema,E="#"){if(u!=null&&d[pe]){const _=[],H=d[pe],ie=u[d[pe]];if(ie===void 0)return r.errors.missingOneOfPropertyError({property:H,pointer:E});for(let me=0;me<d.oneOf.length;me+=1){const le=r.resolveRef(d.oneOf[me]),Fe=r.step(H,le,u,E);if(Ut(Fe))return Fe;let Ve=Ne(r.validate(ie,Fe,E));if(Ve=Ve.filter(Ot),Ve.length>0)_.push(...Ve);else return le}return r.errors.oneOfPropertyError({property:H,value:ie,pointer:E,errors:_})}const S=[];for(let _=0;_<d.oneOf.length;_+=1){const H=r.resolveRef(d.oneOf[_]);r.isValid(u,H,E)&&S.push(H)}if(S.length===1)return S[0];if(gt(u)==="object"){let _,H=0;for(let ie=0;ie<d.oneOf.length;ie+=1){const me=r.resolveRef(d.oneOf[ie]),le=ke(r,me,u);H<le&&(H=le,_=d.oneOf[ie])}return _===void 0?r.errors.oneOfError({value:JSON.stringify(u),pointer:E,oneOf:d.oneOf}):_}return S.length>1?r.errors.multipleOneOfError({matches:S,data:u,pointer:E}):r.errors.oneOfError({value:JSON.stringify(u),pointer:E,oneOf:d.oneOf})}var Ke=a(67142),jt=a.n(Ke);const lr={};function Jt(r,u,d,E=r.rootSchema){const S=jt().split(u);return E=r.resolveRef(E),Yt(r,E,S,u,d)}function Yt(r,u,d,E,S=lr){if(d.length===0)return r.resolveRef(u);const _=d.shift();return u=r.step(_,u,S,E),Ut(u)?u:(S=S[_],Yt(r,u,d,`${E}/${_}`,S))}function Qt(r,u){if(r==null||r.$ref==null)return r;const d=u.getRef(r),E=Object.assign({},d,r);return delete E.$ref,Object.defineProperty(E,"__ref",{enumerable:!1,value:r.__ref}),Object.defineProperty(E,"getRoot",{enumerable:!1,value:r.getRoot}),E}function nt(r,u,d){d.id=d.id||u,r.remotes[u]=r.compileSchema(d)}var Tt=a(44091);const Vt="[^?/{}*,()#]+",yr=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${Vt}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,_r=/(children|text|type|start|end|rest|errors|fullText|\d+)/,wr=/(children|text|type|\d+)/,vr=r=>JSON.stringify(r,(u,d)=>u===""||_r.test(u)?d:void 0,2),Ft=r=>JSON.stringify(r,(u,d)=>u===""||u==="rest"&&d!==""||wr.test(u)?d:void 0,2),Kr=new Tt.Z.Parser(yr),Or=r=>Kr.getAST(r),Nr=r=>JSON.parse(Ft(r)),Dr=0,Gr=1,Yr=2,hr=3,Ie=(r,u)=>`${r}/${u}`,Gt=Object.prototype.toString,ur=/Object|Array/,dr=r=>ur.test(Gt.call(r)),Wr=r=>Gt.call(r).match(/\s([^\]]+)\]/).pop().toLowerCase();function jr(r){return new RegExp(r.text.replace(/(^{|}$)/g,""))}function Pr(r,u){Array.isArray(r)?r.forEach(u):Object.prototype.toString.call(r)==="[object Object]"&&Object.keys(r).forEach(function(d){u(r[d],d,r)})}function Zr(r){return Array.isArray(r)?r.map(function(u,d){return`${d}`}):Object.prototype.toString.call(r)==="[object Object]"?Object.keys(r):[]}const Ar={mem:[],get(r,u){const d=r[Dr][u];if(!Ar.mem.includes(d))return dr(d)&&Ar.mem.push(d),[d,u,r[Dr],Ie(r[hr],u)]},reset(){Ar.mem.length=0}},Lr={any(r,u){const d=u[Dr];return Zr(d).map(E=>[d[E],E,d,Ie(u[hr],E)])},all(r,u){const d=[u];return Pr(u[Dr],(E,S)=>{const _=Ar.get(u,S);_&&d.push(...Lr.all(r,_))}),d},regex(r,u){const d=jr(r),E=u[Dr];return Zr(E).filter(S=>d.test(S)).map(S=>[E[S],S,E,Ie(u[hr],S)])}},qr={escaped:(r,u)=>qr.property(r,u),property:(r,u)=>{const d=r.text;if(u[Dr]&&u[Dr][d]!==void 0)return[u[Dr][d],d,u[Dr],Ie(u[hr],d)]},typecheck:(r,u)=>{const d=r.text.replace(/^\?:/,"");if(d==="value")return dr(u[Dr])?void 0:u;if(Wr(u[Dr])===d)return u},lookahead:(r,u)=>{let d=!0,E=!1;return r.children.forEach(S=>{if(S.type==="expression"){const _=qr.expression(S,u)!==void 0;d=E===!0?d||_:d&&_}else E=S.type==="orExpr"}),d?u:void 0},expression:(r,u)=>{const d=r.children[0].text,E=r.children[1],S=r.children[2],_=u[Dr];if(dr(_)!==!1)return mn(_[d],E,S)?u:void 0}};function mn(r,u,d){if(u===void 0)return r!==void 0;let E;const S=`${r}`;return d.type==="regex"?E=jr(d).test(S):E=S===d.text,u.type==="isnot"&&(E=E===!1&&r!==void 0),E}function Ur(r,u,d,E){const S=[];for(let _=0,H=u.length;_<H;_+=1)S.push(...r(d,u[_],d,E));return S}function pn(r,u,d,E){const S=[];for(let _=0,H=u.length;_<H;_+=1){const ie=r(d,u[_],E);ie&&S.push(ie)}return S}function bn(r,u,d){let E=r;return u.children.forEach(S=>{if(Lr[S.type])E=Ur(Lr[S.type],E,S,d);else if(qr[S.type])E=pn(qr[S.type],E,S,d);else throw new Error(`Unknown filter ${S.type}`)}),E}function wn(r,u,d){const E=[];let S=r;return u.children.forEach(_=>{if(_.type==="orPattern"){E.push(...S),S=r;return}S=nn(S,_,d)}),E.push(...S),E}function Xr(r){if(r==null)return 1;if(r==="*"||r==="+")return 1/0;const u=parseInt(r);return isNaN(u)?1:u}function fn(r,u,d){const E=[],S=u.children.find(me=>me.type==="quantifier"),_=Xr(S&&S.text);let H=r;S&&S.text==="*"&&E.push(...H);let ie=0;for(;H.length>0&&ie<_;)H=wn(H,u,d),E.push(...H),ie+=1;return E}function On(r,u,d){let E=r;return u.children.forEach(S=>E=nn(E,S,d)),E}function nn(r,u,d){let E;return u.type==="query"?E=bn(r,u,d):u.type==="pattern"?E=fn(r,u,d):E=On(r,u,d),Ar.reset(),Ar.mem.push(r),E}function Tn(r,u){return Ar.reset(),Ar.mem.push(r),nn([[r,null,null,"#"]],u)}const Sn={value:r=>r.map(u=>u[Dr]),pointer:r=>r.map(u=>u[hr]),all:r=>r,map:r=>{const u={};return r.forEach(d=>u[d[hr]]=d[Dr]),u}};var sn;(function(r){r.POINTER="pointer",r.VALUE="value",r.ALL="all",r.MAP="map"})(sn||(sn={})),un.POINTER=sn.POINTER,un.VALUE=sn.VALUE,un.ALL=sn.ALL,un.MAP=sn.MAP;function un(r,u,d=sn.VALUE){if(u==null)return[];u=u.replace(/(\/$)/g,""),u===""&&(u="#");const E=Or(u);if(E==null)throw new Error(`empty ast for '${u}'`);if(E.rest!=="")throw new Error(`Failed parsing queryString from: '${E.rest}'`);const S=Tn(r,E);return typeof d=="function"?S.map(_=>d(..._)):Sn[d]?Sn[d](S):S}const ni=["root","recursion"];function hi(r,u=[]){return ni.includes(r.type)?(r.children.forEach(d=>hi(d,u)),u):(u.push(r.text),u)}function Bi(r){if(r==null||r==="")return[];const u=Or(r);return hi(u)}const Pe=r=>JSON.parse(JSON.stringify(r)),y=Object.prototype.toString,T=r=>y.call(r).match(/\s([^\]]+)\]/).pop().toLowerCase(),V=new RegExp(`^("[^"]+"|${Vt})$`),ee=["string","number","boolean","null"],Ee=/^\[\d*\]$/,Se=/^\[(\d+)\]$/,He=/^".+"$/,Je=/(^\[\d*\]$|^\d+$)/;function Ct(r){return parseInt(r.replace(/^(\[|\]$)/,""))}function Lt(r){return He.test(r)?r.replace(/(^"|"$)/g,""):r}function It(r,u,d){r.length<=u?r[u]=d:r.splice(u,0,d)}function kr(r,u){const d=[];return r.forEach(E=>d.push(...un(E[0],u,sn.ALL))),d}function Sr(r,u,d,E){const S=r[0];if(/^\[\]$/.test(u)){S.push(d);const _=S.length-1;return[S[_],_,S,`${r[3]}/${_}}`]}if(E==null&&T(S[u])==="object"&&T(d)==="object")return[S[u],u,S,`${r[3]}/${u}}`];if(E===Fn.INSERT_ITEMS||E==null&&Se.test(u)){const _=Ct(u);return It(S,_,d),[S[_],_,S,`${r[3]}/${_}}`]}if(E===Fn.REPLACE_ITEMS||E==null){const _=Ct(u);return S[_]=d,[S[_],_,S,`${r[3]}/${_}}`]}throw new Error(`Unknown array index '${u}' with force-option '${E}'`)}function kn(r,u,d,E){return u=Lt(u),r.filter(S=>Array.isArray(S[0])&&Je.test(u)?!0:ee.includes(T(S[0][u]))===!1).map(S=>{const _=d?[]:{},H=S[0];return Array.isArray(H)?Sr(S,u,_,E):(H[u]=H[u]||_,[H[u],u,H,`${S[3]}/${u}`])})}var ci;(function(r){r.REPLACE_ITEMS="replace",r.INSERT_ITEMS="insert"})(ci||(ci={})),Fn.REPLACE_ITEMS=ci.REPLACE_ITEMS,Fn.INSERT_ITEMS=ci.INSERT_ITEMS;function Fn(r,u,d,E){if(u==null)return Pe(r);if(u=u.replace(/(\/$)/g,""),u==="")return Pe(d);const S=Pe(r);let _=[[S,null,null,"#"]];const H=Bi(u),ie=H.pop(),me=Ee.test(ie)&&Se.test(ie)===!1;if(V.test(ie)===!1||me)throw new Error(`Unsupported query '${u}' ending with non-property`);return H.forEach((le,Fe)=>{if(le==="__proto__"||le==="prototyped"||le==="constructor")return;if(V.test(le)===!1){_=kr(_,le);return}const Ve=Fe>=H.length-1?ie:H[Fe+1],qe=Je.test(Ve);_=kn(_,le,qe,E)}),_.forEach(le=>{let Fe=d;T(d)==="function"&&(Fe=d(le[3],ie,le[0],`${le[3]}/${ie}`));const Ve=le[0];if(Array.isArray(Ve))Sr(le,ie,Fe,E);else{const qe=Lt(ie);if(qe==="__proto__"||qe==="prototyped"||qe==="constructor")return;Ve[qe]=Fe}}),S}function Oi(r,u,d=!1){const E=[],S=un(r,u,sn.ALL);return S.forEach(function(_){E.push(_[0]),(0,Ke.remove)(r,_[hr],!0)}),S.forEach(function(_){Array.isArray(_[Yr])&&(0,Ke.removeUndefinedItems)(_[Yr])}),d?E:r}var vi={get:un,set:Fn,split:Bi,remove:Oi,ReturnType:sn},Vi={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}};const Qi=r=>Object.prototype.toString.call(r)==="[object Object]",Yn=Object.keys(Vi).filter(r=>Vi[r].type===!1),Mn=Object.prototype.hasOwnProperty;function Ki(r){if(Qi(r)===!1)return;if(r.enum)return"enum";if(Vi[r.type]||Array.isArray(r.type))return r.type;const u=Yn.filter(d=>r[d]);if(u.length===1)return u[0];if(u.length===0){for(let d=0,E=Vi.object.keywords.length;d<E;d+=1){const S=Vi.object.keywords[d];if(Mn.call(r,S))return"object"}for(let d=0,E=Vi.array.keywords.length;d<E;d+=1){const S=Vi.array.keywords[d];if(Mn.call(r,S))return"array"}return}throw new Error(`Mutiple typeIds [${u.join(", ")}] matched in ${JSON.stringify(r)}`)}const No=r=>Object.prototype.toString.call(r)==="[object Object]";function tr(r){const u=[],d=Ki(r);if(d==null)return u;let E;if(Array.isArray(d)){E={};for(let S=0,_=d.length;S<_;S+=1)Object.assign(E,Vi[d[S]])}else E=Vi[d];return E.definitions==null||E.definitions.forEach(S=>{un(r,S,(_,H,ie,me)=>{No(_)&&Ki(_)&&u.push({pointer:jt().join(jt().split(me),!1),def:_})})}),u}const ge=r=>Object.prototype.toString.call(r)==="[object Object]";function R(r,u){if(this.callback(r,u)===!0)return;tr(r).forEach(E=>this.nextTypeDefs(E.def,jt().join(u,E.pointer,!1)))}function Y(r,u,d,E="definitions"){const S=u[E];Object.keys(S).forEach(_=>{if(S[_]===!1||ge(S[_])){r.nextTypeDefs(S[_],jt().join(d,E,_,!1));return}})}function Me(r,u,d="#"){const E={callback:u,nextTypeDefs:R};E.nextTypeDefs(r,d),r.definitions!=null&&(E.callback=(S,_)=>{u(S,_),S.definitions!=null&&Y(E,S,_)},Y(E,r,d)),r.$defs!=null&&(E.callback=(S,_)=>{u(S,_),S.definitions!=null&&Y(E,S,_)},Y(E,r,d,"$defs"))}const Ze=/(#|\/)+$/,rt=/#$/,dt=/^[^:]+:\/\/[^/]+\//,Kt=/\/[^/]*$/,zt=/#.*$/;function zr(r,u){return r==null&&u==null?"#":u==null?r.replace(rt,""):r==null?u.replace(rt,""):u[0]==="#"?`${r.replace(zt,"")}${u.replace(Ze,"")}`:dt.test(u)?u.replace(rt,""):`${r.replace(Kt,"")}/${u.replace(rt,"")}`}const Vr=/(#|\/)+$/g,$n=["",null,"#"];function bi(r){if($n.includes(r))return[];if(r=r.replace(Vr,""),r.indexOf("#")===-1)return[r.replace(Vr,"")];if(r.indexOf("#")===0)return[r.replace(Vr,"")];const u=r.split("#");return u[0]=u[0].replace(Vr,""),u[1]=`#${u[1].replace(Vr,"")}`,u}const Pi=/(#|\/)+$/g,Ri=r=>gt(r)==="object";function Qn(r,u,d){if(Ri(d)&&(d=d.__ref||d.$ref),d==null)return u;let E;const S=d.replace(Pi,"");if(r.remotes[S])return E=r.remotes[S],E&&E.$ref?Qn(r,u,E.$ref):E;if(r.ids[d])return E=(0,Ke.get)(u,r.ids[d]),E&&E.$ref?Qn(r,u,E.$ref):E;const _=bi(d);if(_.length===0)return u;if(_.length===1){if(d=_[0],r.remotes[d])return E=r.remotes[d],Qn(r,u,E.$ref);if(r.ids[d])return E=(0,Ke.get)(u,r.ids[d]),E&&E.$ref?Qn(r,u,E.$ref):E}if(_.length===2){const H=_[0];if(d=_[1],r.remotes[H])return r.remotes[H].getRef?r.remotes[H].getRef(d):Qn(r,r.remotes[H],d);if(r.ids[H])return Qn(r,(0,Ke.get)(u,r.ids[H]),d)}return E=(0,Ke.get)(u,r.ids[d]||d),E&&E.$ref?Qn(r,u,E.$ref):E}const qi="__compiled",ms="__ref",xs="getRef",Ws="getRoot",ba=/(#|\/)+$/g;function Zs(r,u,d=u,E=!1){if(u===!0||u===!1||u===void 0||u[qi]!==void 0)return u;const S={ids:{},remotes:r.remotes},_=JSON.stringify(u),H=JSON.parse(_);if(Object.defineProperty(H,qi,{enumerable:!1,value:!0}),Object.defineProperty(H,xs,{enumerable:!1,value:Qn.bind(null,S,H)}),E===!1&&_.includes("$ref")===!1)return H;H!==d&&Object.defineProperty(H,"$defs",{enumerable:!0,value:Object.assign({},d.definitions,d.$defs,H.definitions,H.$defs)});const ie={},me=()=>H;return Me(H,(le,Fe)=>{var Ve;if(le.$id){if(le.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Fe)){const St=Fe.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Rt=(0,Ke.get)(H,St);le.$id=(Ve=Rt.$id)!==null&&Ve!==void 0?Ve:le.$id}S.ids[le.$id.replace(ba,"")]=Fe}Fe=`#${Fe}`.replace(/##+/,"#");const qe=Fe.replace(/\/[^/]+$/,""),be=Fe.replace(/\/[^/]+\/[^/]+$/,""),Ge=ie[qe]||ie[be],Ue=zr(Ge,le.$id);ie[Fe]=Ue,S.ids[Ue]==null&&(S.ids[Ue]=Fe),le.$ref&&!le[ms]&&(Object.defineProperty(le,ms,{enumerable:!1,value:zr(Ue,le.$ref)}),Object.defineProperty(le,Ws,{enumerable:!1,value:me}))}),H}function Us(r,u,d,E=r.rootSchema,S="#"){E=r.resolveRef(E),d(E,u,S);const _=gt(u);_==="object"?Object.keys(u).forEach(H=>{const ie=r.step(H,E,u,S),me=u[H];r.each(me,d,ie,`${S}/${H}`)}):_==="array"&&u.forEach((H,ie)=>{const me=r.step(ie,E,u,S);r.each(H,d,me,`${S}/${ie}`)})}var Wn={additionalItemsError:Le("AdditionalItemsError"),additionalPropertiesError:Le("AdditionalPropertiesError"),anyOfError:Le("AnyOfError"),allOfError:Le("AllOfError"),constError:Le("ConstError"),containsError:Le("ContainsError"),containsArrayError:Le("ContainsArrayError"),containsAnyError:Le("ContainsAnyError"),enumError:Le("EnumError"),formatURLError:Le("FormatURLError"),formatURIError:Le("FormatURIError"),formatURIReferenceError:Le("FormatURIReferenceError"),formatURITemplateError:Le("FormatURITemplateError"),formatDateError:Le("FormatDateaError"),formatDateTimeError:Le("FormatDateTimeError"),formatEmailError:Le("FormatEmailError"),formatHostnameError:Le("FormatHostnameError"),formatIPV4Error:Le("FormatIPV4Error"),formatIPV4LeadingZeroError:Le("FormatIPV4LeadingZeroError"),formatIPV6Error:Le("FormatIPV6Error"),formatIPV6LeadingZeroError:Le("FormatIPV6LeadingZeroError"),formatJSONPointerError:Le("FormatJSONPointerError"),formatRegExError:Le("FormatRegExError"),formatTimeError:Le("FormatTimeError"),invalidSchemaError:Le("InvalidSchemaError"),invalidDataError:Le("InvalidDataError"),invalidTypeError:Le("InvalidTypeError"),invalidPropertyNameError:Le("InvalidPropertyNameError"),maximumError:Le("MaximumError"),maxItemsError:Le("MaxItemsError"),maxLengthError:Le("MaxLengthError"),maxPropertiesError:Le("MaxPropertiesError"),minimumError:Le("MinimumError"),minItemsError:Le("MinItemsError"),minItemsOneError:Le("MinItemsOneError"),minLengthError:Le("MinLengthError"),minLengthOneError:Le("MinLengthOneError"),minPropertiesError:Le("MinPropertiesError"),missingDependencyError:Le("MissingDependencyError"),missingOneOfPropertyError:Le("MissingOneOfPropertyError"),multipleOfError:Le("MultipleOfError"),multipleOneOfError:Le("MultipleOneOfError"),noAdditionalPropertiesError:Le("NoAdditionalPropertiesError"),notError:Le("NotError"),oneOfError:Le("OneOfError"),oneOfPropertyError:Le("OneOfPropertyError"),patternError:Le("PatternError"),patternPropertiesError:Le("PatternPropertiesError"),requiredPropertyError:Le("RequiredPropertyError"),typeError:Le("TypeError"),undefinedValueError:Le("UndefinedValueError"),uniqueItemsError:Le("UniqueItemsError"),unknownPropertyError:Le("UnknownPropertyError"),valueNotEmptyError:Le("ValueNotEmptyError")},Sa=a(1170),Cs=a.n(Sa);const ra=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Ea=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Ps=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,wa=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,As=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,na=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Na=[0,31,28,31,30,31,30,31,31,30,31,30,31],Oa=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ja=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ii=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Yo=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var Xe={date:(r,u,d,E)=>{if(typeof d!="string")return;const S=d.match(As);if(!S)return Wn.formatDateTimeError({value:d,pointer:E});const _=+S[1],H=+S[2],ie=+S[3],me=_%4===0&&(_%100!==0||_%400===0);if(!(H>=1&&H<=12&&ie>=1&&ie<=(H==2&&me?29:Na[H])))return Wn.formatDateError({value:d,pointer:E})},"date-time":(r,u,d,E)=>{if(typeof d=="string")return d===""||ra.test(d)?new Date(d).toString()==="Invalid Date"?Wn.formatDateTimeError({value:d,pointer:E}):void 0:Wn.formatDateTimeError({value:d,pointer:E})},email:(r,u,d,E)=>{if(typeof d!="string")return;if(d[0]==='"')return Wn.formatEmailError({value:d,pointer:E});const[S,_,...H]=d.split("@");if(!S||!_||H.length!==0||S.length>64||_.length>253)return Wn.formatEmailError({value:d,pointer:E});if(S[0]==="."||S.endsWith(".")||S.includes(".."))return Wn.formatEmailError({value:d,pointer:E});if(!/^[a-z0-9.-]+$/i.test(_)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(S))return Wn.formatEmailError({value:d,pointer:E});if(!_.split(".").every(ie=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(ie)))return Wn.formatEmailError({value:d,pointer:E})},hostname:(r,u,d,E)=>{if(typeof d=="string"&&!(d===""||wa.test(d)))return Wn.formatHostnameError({value:d,pointer:E})},ipv4:(r,u,d,E)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Wn.formatIPV4LeadingZeroError({value:d,pointer:E});if(!(d.length<=15&&Ea.test(d)))return Wn.formatIPV4Error({value:d,pointer:E})}},ipv6:(r,u,d,E)=>{if(!(typeof d!="string"||d==="")){if(d&&d[0]==="0")return Wn.formatIPV6LeadingZeroError({value:d,pointer:E});if(!(d.length<=45&&Ps.test(d)))return Wn.formatIPV6Error({value:d,pointer:E})}},"json-pointer":(r,u,d,E)=>{if(!(typeof d!="string"||d==="")&&!Oa.test(d))return Wn.formatJSONPointerError({value:d,pointer:E})},"relative-json-pointer":(r,u,d,E)=>{if(!(typeof d!="string"||d==="")&&!ja.test(d))return Wn.formatJSONPointerError({value:d,pointer:E})},regex:(r,u,d,E)=>{if(typeof d=="string"&&/\\Z$/.test(d)===!1){try{new RegExp(d);return}catch{}return Wn.formatRegExError({value:d,pointer:E})}if(!(typeof d=="object"||typeof d=="number"||Array.isArray(d)))return Wn.formatRegExError({value:d,pointer:E})},time:(r,u,d,E)=>{if(typeof d!="string")return;const S=d.match(na);if(!S)return Wn.formatDateTimeError({value:d,pointer:E});const _=+S[1],H=+S[2],ie=+S[3],me=!!S[5];if(!((_<=23&&H<=59&&ie<=59||_==23&&H==59&&ie==60)&&me))return Wn.formatTimeError({value:d,pointer:E})},uri:(r,u,d,E)=>{if(!(typeof d!="string"||d==="")&&!Cs().isUri(d))return Wn.formatURIError({value:d,pointer:E})},"uri-reference":(r,u,d,E)=>{if(!(typeof d!="string"||d==="")&&!ii.test(d))return Wn.formatURIReferenceError({value:d,pointer:E})},"uri-template":(r,u,d,E)=>{if(!(typeof d!="string"||d==="")&&!Yo.test(d))return Wn.formatURITemplateError({value:d,pointer:E})},url:(r,u,d,E)=>{if(!(d===""||Cs().isWebUri(d)))return Wn.formatURLError({value:d,pointer:E})}};function Mt(r){switch(gt(r)){case"string":case"array":return r.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(r).length===0;default:return!1}}const Wt={addOptionalProps:!0,removeInvalidData:!1};let rr;function Tr(r,u){const{$ref:d}=r;return d==null?!0:(rr[u]==null||rr[u][d]==null?0:rr[u][d])<bt.GET_TEMPLATE_RECURSION_LIMIT}function cr(r,u,d){if(d==null)throw new Error(`missing pointer ${d}`);const{$ref:E}=u;return E==null?u:(rr[d]=rr[d]||{},rr[d][E]=rr[d][E]||0,rr[d][E]+=1,r.resolveRef(u))}function cn(r,u){if(r==="string")return JSON.stringify(u);if(typeof u!="string")return null;try{if(u=JSON.parse(u),typeof u===r)return u}catch{}return null}function qn(r,u,d,E){if(gt(u)!=="object")return Object.assign({pointer:E},u);if(Tr(u,E)===!1&&d==null)return!1;let S=Re(cr(r,u,E));if(Array.isArray(u.anyOf)&&u.anyOf.length>0){if(Tr(u.anyOf[0],`${E}/anyOf/0`)){const _=cr(r,u.anyOf[0],`${E}/anyOf/0`);S=Cr(S,_),S.pointer=u.anyOf[0].$ref||S.pointer}delete S.anyOf}if(Array.isArray(u.allOf)){for(let _=0,H=u.allOf.length;_<H;_+=1)Tr(u.allOf[_],`${E}/allOf/${_}`)&&(S=Cr(S,cr(r,u.allOf[_],`${E}/allOf/${_}`)),S.pointer=u.allOf[_].$ref||S.pointer);delete S.allOf}return S.pointer=S.pointer||u.$ref||E,S}const Pn=r=>r&&typeof r=="object";function an(r,u,d,E,S){if(d==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(u)}`);if(E==null)throw new Error("Missing pointer");let _=qn(r,d,u,E);if(!Pn(_))return;if(E=_.pointer,_!=null&&_.const)return _.const;if(Array.isArray(_.oneOf))if(Mt(u)){const le=_.oneOf[0].type||_.type||_.const&&typeof _.const||gt(u);_={..._.oneOf[0],type:le}}else{const le=tt(r,u,_);if(Ut(le)){if(u!=null&&S.removeInvalidData!==!0)return u;_=_.oneOf[0],u=void 0}else _=le}if(!Pn(_)||_.type==null)return;const H=Array.isArray(_.type)?Hr(_.type,u,_.default):_.type,ie=gt(u);return u!=null&&ie!==H&&!(ie==="number"&&H==="integer")&&(u=cn(H,u)),rn[H]==null?S.removeInvalidData?void 0:u:rn[H](r,_,u,E,S)}function Hr(r,u,d){if(u==null){if(d!=null){const S=gt(d);if(r.includes(S))return S}return r[0]}const E=gt(u);return r.includes(E)?E:r[0]}const rn={null:(r,u,d)=>Nn(u,d,null),string:(r,u,d)=>Nn(u,d,""),number:(r,u,d)=>Nn(u,d,0),integer:(r,u,d)=>Nn(u,d,0),boolean:(r,u,d)=>Nn(u,d,!1),object:(r,u,d,E,S)=>{var _;const H=u.default===void 0?{}:u.default,ie={},me=(_=u.required)!==null&&_!==void 0?_:[];if(u.properties&&Object.keys(u.properties).forEach(le=>{const Fe=d==null||d[le]==null?H[le]:d[le],Ve=me.includes(le);(Fe!=null||Ve||S.addOptionalProps)&&(ie[le]=an(r,Fe,u.properties[le],`${E}/properties/${le}`,S))}),u.dependencies&&Object.keys(u.dependencies).forEach(le=>{if(ie[le]===void 0)return;const Fe=u.dependencies[le];if(Array.isArray(Fe)){Fe.forEach(qe=>{ie[qe]=an(r,ie[qe],u.properties[qe],`${E}/properties/${qe}`,S)});return}if(gt(Fe)!=="object")return;const Ve=an(r,d,{...Fe,type:"object"},`${E}/dependencies/${le}`,S);Ve&&!Ut(Ve)&&Object.assign(ie,Ve)}),d&&Object.keys(d).forEach(le=>ie[le]==null&&(ie[le]=d[le])),u.if&&(u.then||u.else)){const le=r.isValid(ie,u.if);if(le&&u.then){const Fe=r.getTemplate(ie,{type:"object",...u.then},S);Object.assign(ie,Fe)}else if(!le&&u.else){const Fe=r.getTemplate(ie,{type:"object",...u.else},S);Object.assign(ie,Fe)}}return ie},array:(r,u,d,E,S)=>{var _,H,ie;const me=u.default===void 0?[]:u.default;u.minItems=u.minItems||0;const le=d||[];if(u.items==null)return le;if(Array.isArray(u.items)){for(let Ve=0,qe=Math.max((_=u.minItems)!==null&&_!==void 0?_:0,(ie=(H=u.items)===null||H===void 0?void 0:H.length)!==null&&ie!==void 0?ie:0);Ve<qe;Ve+=1)le[Ve]=an(r,le[Ve]==null?me[Ve]:le[Ve],u.items[Ve],`${E}/items/${Ve}`,S);return le}if(gt(u.items)!=="object")return le;const Fe=qn(r,u.items,d,E);if(Fe===!1)return le;if(E=Fe.pointer||E,Fe.oneOf&&le.length===0){const Ve=Fe.oneOf[0];for(let qe=0;qe<u.minItems;qe+=1)le[qe]=an(r,le[qe]==null?me[qe]:le[qe],Ve,`${E}/oneOf/0`,S);return le}if(Fe.oneOf&&le.length>0){const Ve=Math.max(u.minItems,le.length);for(let qe=0;qe<Ve;qe+=1){let be=le[qe]==null?me[qe]:le[qe],Ge=tt(r,be,Fe);Ge==null||Ut(Ge)?be!=null&&S.removeInvalidData!==!0?le[qe]=be:(be=void 0,Ge=Fe.oneOf[0],le[qe]=an(r,be,Ge,`${E}/oneOf/${qe}`,S)):le[qe]=an(r,be,Ge,`${E}/oneOf/${qe}`,S)}return le}if(Fe.type){for(let Ve=0,qe=Math.max(u.minItems,le.length);Ve<qe;Ve+=1)le[Ve]=an(r,le[Ve]==null?me[Ve]:le[Ve],Fe,`${E}/items`,S);return le}return le}};function Nn(r,u,d){return u!=null?u:r.const?r.const:r.default===void 0&&Array.isArray(r.enum)?r.enum[0]:r.default===void 0?d:r.default}var mi=(r,u,d=r.rootSchema,E=Wt)=>(rr={mi:{}},an(r,u,d,"#",E));function gi(r,u,d=r.rootSchema,E="#"){return r.validate(u,d,E).length===0}function Fi(r,u){const d=typeof r;if(d!==typeof u)return!1;if(Array.isArray(r)){if(!Array.isArray(u))return!1;const E=r.length;if(E!==u.length)return!1;for(let S=0;S<E;S++)if(!Fi(r[S],u[S]))return!1;return!0}if(d==="object"){if(!r||!u)return r===u;const E=Object.keys(r),S=Object.keys(u);if(E.length!==S.length)return!1;for(const H of E)if(!Fi(r[H],u[H]))return!1;return!0}return r===u}function Wi(r){const u=[];let d=0;const E=r.length;for(;d<E;){const S=r.charCodeAt(d++);if(S>=55296&&S<=56319&&d<E){const _=r.charCodeAt(d++);(_&64512)==56320?u.push(((S&1023)<<10)+(_&1023)+65536):(u.push(S),d--)}else u.push(S)}return u}const eo=bt.floatingPointPrecision,yi=Object.prototype.hasOwnProperty,Ni=(r,u)=>!(r[u]===void 0||!yi.call(r,u));var zn={additionalProperties:(r,u,d,E)=>{if(u.additionalProperties===!0||u.additionalProperties==null||gt(u.patternProperties)==="object"&&u.additionalProperties===!1)return;const S=[];let _=Object.keys(d).filter(ie=>bt.propertyBlacklist.includes(ie)===!1);const H=Object.keys(u.properties||{});if(gt(u.patternProperties)==="object"){const ie=Object.keys(u.patternProperties).map(me=>new RegExp(me));_=_.filter(me=>{for(let le=0;le<ie.length;le+=1)if(ie[le].test(me))return!1;return!0})}for(let ie=0,me=_.length;ie<me;ie+=1){const le=_[ie];if(H.indexOf(le)===-1){const Fe=typeof u.additionalProperties=="object";if(Fe&&Array.isArray(u.additionalProperties.oneOf)){const Ve=r.resolveOneOf(d[le],u.additionalProperties,`${E}/${le}`);Ut(Ve)?S.push(r.errors.additionalPropertiesError({schema:u.additionalProperties,property:_[ie],properties:H,pointer:E,errors:Ve.data.errors})):S.push(...r.validate(d[le],Ve,E))}else Fe?S.push(...r.validate(d[le],u.additionalProperties,`${E}/${le}`)):S.push(r.errors.noAdditionalPropertiesError({property:_[ie],properties:H,pointer:E}))}}return S},allOf:(r,u,d,E)=>{if(Array.isArray(u.allOf)===!1)return;const S=[];return u.allOf.forEach(_=>{S.push(...r.validate(d,_,E))}),S},anyOf:(r,u,d,E)=>{if(Array.isArray(u.anyOf)!==!1){for(let S=0;S<u.anyOf.length;S+=1)if(r.isValid(d,u.anyOf[S]))return;return r.errors.anyOfError({anyOf:u.anyOf,value:d,pointer:E})}},dependencies:(r,u,d,E)=>{if(gt(u.dependencies)!=="object")return;const S=[];return Object.keys(d).forEach(_=>{if(u.dependencies[_]===void 0||u.dependencies[_]===!0)return;if(u.dependencies[_]===!1){S.push(r.errors.missingDependencyError({pointer:E}));return}let H;const ie=gt(u.dependencies[_]);if(ie==="array")H=u.dependencies[_].filter(me=>d[me]===void 0).map(me=>r.errors.missingDependencyError({missingProperty:me,pointer:E}));else if(ie==="object")H=r.validate(d,u.dependencies[_],E);else throw new Error(`Invalid dependency definition for ${E}/${_}. Must be list or schema`);S.push(...H)}),S.length>0?S:void 0},enum:(r,u,d,E)=>{const S=gt(d);if(S==="object"||S==="array"){const _=JSON.stringify(d);for(let H=0;H<u.enum.length;H+=1)if(JSON.stringify(u.enum[H])===_)return}else if(u.enum.includes(d))return;return r.errors.enumError({values:u.enum,value:d,pointer:E})},format:(r,u,d,E)=>{if(r.validateFormat[u.format])return r.validateFormat[u.format](r,u,d,E)},items:(r,u,d,E)=>{if(u.items===!1)return Array.isArray(d)&&d.length===0?void 0:r.errors.invalidDataError({pointer:E,value:d});const S=[];for(let _=0;_<d.length;_+=1){const H=d[_],ie=r.step(_,u,d,E);if(Ut(ie))return[ie];const me=r.validate(H,ie,`${E}/${_}`);S.push(...me)}return S},maximum:(r,u,d,E)=>{if(!isNaN(u.maximum)){if(u.maximum&&u.maximum<d)return r.errors.maximumError({maximum:u.maximum,length:d,pointer:E});if(u.maximum&&u.exclusiveMaximum===!0&&u.maximum===d)return r.errors.maximumError({maximum:u.maximum,length:d,pointer:E})}},maxItems:(r,u,d,E)=>{if(!isNaN(u.maxItems)&&u.maxItems<d.length)return r.errors.maxItemsError({maximum:u.maxItems,length:d.length,pointer:E})},maxLength:(r,u,d,E)=>{if(isNaN(u.maxLength))return;const S=Wi(d).length;if(u.maxLength<S)return r.errors.maxLengthError({maxLength:u.maxLength,length:S,pointer:E})},maxProperties:(r,u,d,E)=>{const S=Object.keys(d).length;if(isNaN(u.maxProperties)===!1&&u.maxProperties<S)return r.errors.maxPropertiesError({maxProperties:u.maxProperties,length:S,pointer:E})},minLength:(r,u,d,E)=>{if(isNaN(u.minLength))return;const S=Wi(d).length;if(u.minLength>S)return u.minLength===1?r.errors.minLengthOneError({minLength:u.minLength,length:S,pointer:E}):r.errors.minLengthError({minLength:u.minLength,length:S,pointer:E})},minimum:(r,u,d,E)=>{if(!isNaN(u.minimum)){if(u.minimum>d)return r.errors.minimumError({minimum:u.minimum,length:d,pointer:E});if(u.exclusiveMinimum===!0&&u.minimum===d)return r.errors.minimumError({minimum:u.minimum,length:d,pointer:E})}},minItems:(r,u,d,E)=>{if(!isNaN(u.minItems)&&u.minItems>d.length)return u.minItems===1?r.errors.minItemsOneError({minItems:u.minItems,length:d.length,pointer:E}):r.errors.minItemsError({minItems:u.minItems,length:d.length,pointer:E})},minProperties:(r,u,d,E)=>{if(isNaN(u.minProperties))return;const S=Object.keys(d).length;if(u.minProperties>S)return r.errors.minPropertiesError({minProperties:u.minProperties,length:S,pointer:E})},multipleOf:(r,u,d,E)=>{if(!isNaN(u.multipleOf)&&d*eo%(u.multipleOf*eo)/eo!==0)return r.errors.multipleOfError({multipleOf:u.multipleOf,value:d,pointer:E})},not:(r,u,d,E)=>{const S=[];return r.validate(d,u.not,E).length===0&&S.push(r.errors.notError({value:d,not:u.not,pointer:E})),S},oneOf:(r,u,d,E)=>{if(Array.isArray(u.oneOf)!==!1&&(u=r.resolveOneOf(d,u,E),Ut(u)))return u},pattern:(r,u,d,E)=>{if(new RegExp(u.pattern,"u").test(d)===!1)return r.errors.patternError({pattern:u.pattern,description:u.patternExample||u.pattern,received:d,pointer:E})},patternProperties:(r,u,d,E)=>{const S=u.properties||{},_=u.patternProperties;if(gt(_)!=="object")return;const H=[],ie=Object.keys(d),me=Object.keys(_).map(le=>({regex:new RegExp(le),patternSchema:_[le]}));return ie.forEach(le=>{let Fe=!1;for(let Ve=0,qe=me.length;Ve<qe;Ve+=1)if(me[Ve].regex.test(le)){Fe=!0;const be=r.validate(d[le],me[Ve].patternSchema,`${E}/${le}`);be&&be.length>0&&H.push(...be)}S[le]||Fe===!1&&u.additionalProperties===!1&&H.push(r.errors.patternPropertiesError({key:le,pointer:E,patterns:Object.keys(_).join(",")}))}),H},properties:(r,u,d,E)=>{const S=[],_=Object.keys(u.properties||{});for(let H=0;H<_.length;H+=1){const ie=_[H];if(Ni(d,ie)){const me=r.step(ie,u,d,E),le=r.validate(d[ie],me,`${E}/${ie}`);S.push(...le)}}return S},propertiesRequired:(r,u,d,E)=>{const S=[],_=Object.keys(u.properties||{});for(let H=0;H<_.length;H+=1){const ie=_[H];if(d[ie]===void 0)S.push(r.errors.requiredPropertyError({key:ie,pointer:E}));else{const me=r.step(ie,u,d,E),le=r.validate(d[ie],me,`${E}/${ie}`);S.push(...le)}}return S},required:(r,u,d,E)=>{if(Array.isArray(u.required)!==!1)return u.required.map(S=>{if(!Ni(d,S))return r.errors.requiredPropertyError({key:S,pointer:E})})},requiredNotEmpty:(r,u,d,E)=>{if(Array.isArray(u.required)!==!1)return u.required.map(S=>{if(d[S]==null||d[S]==="")return r.errors.valueNotEmptyError({property:S,pointer:`${E}/${S}`})})},uniqueItems:(r,u,d,E)=>{if((Array.isArray(d)&&u.uniqueItems)===!1)return;const S=[];return d.forEach((_,H)=>{for(let ie=H+1;ie<d.length;ie+=1)Fi(_,d[ie])&&S.push(r.errors.uniqueItemsError({pointer:E,itemPointer:`${E}/${H}`,duplicatePointer:`${E}/${ie}`,value:JSON.stringify(_)}))}),S}},to={...zn,contains:(r,u,d,E)=>{if(u.contains===!1)return r.errors.containsArrayError({pointer:E,value:d});if(u.contains===!0)return Array.isArray(d)&&d.length===0?r.errors.containsAnyError({pointer:E}):void 0;if(gt(u.contains)==="object"){for(let S=0;S<d.length;S+=1)if(r.isValid(d[S],u.contains))return;return r.errors.containsError({pointer:E,schema:JSON.stringify(u.contains)})}},exclusiveMaximum:(r,u,d,E)=>{if(!isNaN(u.exclusiveMaximum)&&u.exclusiveMaximum<=d)return r.errors.maximumError({maximum:u.exclusiveMaximum,length:d,pointer:E})},exclusiveMinimum:(r,u,d,E)=>{if(!isNaN(u.exclusiveMinimum)&&u.exclusiveMinimum>=d)return r.errors.minimumError({minimum:u.exclusiveMinimum,length:d,pointer:E})},if:(r,u,d,E)=>{if(u.if==null)return;const S=r.validate(d,u.if,E);if(S.length===0&&u.then)return r.validate(d,u.then,E);if(S.length!==0&&u.else)return r.validate(d,u.else,E)},maximum:(r,u,d,E)=>{if(!isNaN(u.maximum)&&u.maximum&&u.maximum<d)return r.errors.maximumError({maximum:u.maximum,length:d,pointer:E})},minimum:(r,u,d,E)=>{if(!isNaN(u.minimum)&&u.minimum>d)return r.errors.minimumError({minimum:u.minimum,length:d,pointer:E})},patternProperties:(r,u,d,E)=>{const S=u.properties||{},_=u.patternProperties;if(gt(_)!=="object")return;const H=[],ie=Object.keys(d),me=Object.keys(_).map(le=>({regex:new RegExp(le),patternSchema:_[le]}));return ie.forEach(le=>{let Fe=!1;for(let Ve=0,qe=me.length;Ve<qe;Ve+=1)if(me[Ve].regex.test(le)){if(Fe=!0,me[Ve].patternSchema===!1){H.push(r.errors.patternPropertiesError({key:le,pointer:E,patterns:Object.keys(_).join(",")}));return}const be=r.validate(d[le],me[Ve].patternSchema,`${E}/${le}`);be&&be.length>0&&H.push(...be)}S[le]||Fe===!1&&u.additionalProperties===!1&&H.push(r.errors.patternPropertiesError({key:le,pointer:E,patterns:Object.keys(_).join(",")}))}),H},propertyNames:(r,u,d,E)=>{if(u.propertyNames===!1)return Object.keys(d).length===0?void 0:r.errors.invalidPropertyNameError({property:Object.keys(d),pointer:E,value:d});if(u.propertyNames===!0||gt(u.propertyNames)!=="object")return;const S=[],_=Object.keys(d),H={...u.propertyNames,type:"string"};return _.forEach(ie=>{const me=r.validate(ie,H,`${E}/${ie}`);me.length>0&&S.push(r.errors.invalidPropertyNameError({property:ie,pointer:E,validationError:me[0],value:d[ie]}))}),S}};function Zn(r,u,d=r.rootSchema,E="#"){let S=!1,_=Re(d);for(let H=0;H<d.anyOf.length;H+=1){const ie=r.resolveRef(d.anyOf[H]);r.isValid(u,d.anyOf[H],E)&&(S=!0,_=Cr(_,ie))}return S===!1?Wn.anyOfError({value:u,pointer:E,anyOf:JSON.stringify(d.anyOf)}):(delete _.anyOf,_)}function So(r,u){return r==null||r.$ref==null?r:r.getRoot?r.getRoot().getRef(r):u.getRef(r)}function Si(r){const u={type:gt(r)};return u.type==="object"&&(u.properties={},Object.keys(r).forEach(d=>u.properties[d]=Si(r[d]))),u.type==="array"&&r.length===1?u.items=Si(r[0]):u.type==="array"&&(u.items=r.map(Si)),u}function is(r,u,d=r.rootSchema){const E=r.step(u,d,{},"#");return Ut(E)?E.code==="one-of-error"?E.data.oneOf.map(S=>r.resolveRef(S)):E:[E]}const pi={array:(r,u,d,E,S)=>{const _=gt(d.items);if(_==="object")return Array.isArray(d.items.oneOf)?r.resolveOneOf(E[u],d.items,S):Array.isArray(d.items.anyOf)?r.resolveAnyOf(E[u],d.items,S):Array.isArray(d.items.allOf)?r.resolveAllOf(E[u],d.items,S):r.resolveRef(d.items);if(_==="array"){if(d.items[u]===!0)return Si(E[u]);if(d.items[u]===!1)return Wn.invalidDataError({key:u,value:E[u],pointer:S});if(d.items[u])return r.resolveRef(d.items[u]);if(d.additionalItems===!1)return Wn.additionalItemsError({key:u,value:E[u],pointer:S});if(d.additionalItems===!0||d.additionalItems===void 0)return Si(E[u]);if(gt(d.additionalItems)==="object")return d.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(d,null,4)} for ${JSON.stringify(E,null,4)}`)}return d.additionalItems!==!1&&E[u]?Si(E[u]):new Error(`Invalid array schema for ${u} at ${S}`)},object:(r,u,d,E,S)=>{if(Array.isArray(d.oneOf)){const ie=r.resolveOneOf(E,d,S);if(d=Cr(d,ie),Ut(d))return d}if(Array.isArray(d.anyOf)&&(d=r.resolveAnyOf(E,d,S),Ut(d))||Array.isArray(d.allOf)&&(d=r.resolveAllOf(E,d,S),Ut(d)))return d;let _;if(d.properties&&d.properties[u]!==void 0){if(_=r.resolveRef(d.properties[u]),Ut(_))return _;if(_&&Array.isArray(_.oneOf)){let ie=r.resolveOneOf(E[u],_,`${S}/${u}`);const me=_.oneOf.findIndex(le=>le===ie);return ie=JSON.parse(JSON.stringify(ie)),ie.variableSchema=!0,ie.oneOfIndex=me,ie.oneOfSchema=_,ie}if(_)return _}const{dependencies:H}=d;if(gt(H)==="object"){const ie=Object.keys(H).filter(me=>gt(H[me])==="object");for(let me=0,le=ie.length;me<le;me+=1){const Fe=ie[me],Ve=En(r,u,H[Fe],E,`${S}/${Fe}`);if(!Ut(Ve))return Ve}}if(d.if&&(d.then||d.else)){const ie=r.isValid(E,d.if);if(ie&&d.then){const me=En(r,u,d.then,E,S);if(typeof me.type=="string"&&me.type!=="error")return me}if(!ie&&d.else){const me=En(r,u,d.else,E,S);if(typeof me.type=="string"&&me.type!=="error")return me}}if(gt(d.patternProperties)==="object"){let ie;const me=Object.keys(d.patternProperties);for(let le=0,Fe=me.length;le<Fe;le+=1)if(ie=new RegExp(me[le]),ie.test(u))return d.patternProperties[me[le]]}return gt(d.additionalProperties)==="object"?d.additionalProperties:d.additionalProperties===!0?Si(E[u]):Wn.unknownPropertyError({property:u,value:E,pointer:`${S}`})}};function En(r,u,d,E,S="#"){if(Array.isArray(d.type)){const ie=gt(E);return d.type.includes(ie)?pi[ie](r,`${u}`,d,E,S):r.errors.typeError({value:E,pointer:S,expected:d.type,received:ie})}const _=d.type||gt(E),H=pi[_];return H?H(r,`${u}`,d,E,S):new Error(`Unsupported schema type ${d.type} for key ${u}`)}var _o={array:(r,u,d,E)=>r.typeKeywords.array.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),object:(r,u,d,E)=>r.typeKeywords.object.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),string:(r,u,d,E)=>r.typeKeywords.string.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),integer:(r,u,d,E)=>r.typeKeywords.number.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),number:(r,u,d,E)=>r.typeKeywords.number.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),boolean:(r,u,d,E)=>r.typeKeywords.boolean.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),null:(r,u,d,E)=>r.typeKeywords.null.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E))},ao=a(69378),Cn=a.n(ao);function lo(r,u){const d=gt(r);return d==="number"&&(u==="integer"||Array.isArray(u)&&u.includes("integer"))?Number.isInteger(r)||isNaN(r)?"integer":"number":d}function fi(r,u,d=r.rootSchema,E="#"){if(d=r.resolveRef(d),gt(d)==="boolean")return d?[]:[r.errors.invalidDataError({value:u,pointer:E})];if(Ut(d))return[d];if(d.const!==void 0)return Cn()(d.const,u)?[]:[r.errors.constError({value:u,expected:d.const,pointer:E})];const S=lo(u,d.type),_=d.type||S;return S!==_&&(!Array.isArray(_)||!_.includes(S))?[r.errors.typeError({received:S,expected:_,value:u,pointer:E})]:r.validateType[S]==null?[r.errors.invalidTypeError({receivedType:S,pointer:E})]:Ne(r.validateType[S](r,d,u,E)).filter(Ot)}class Xo{constructor(u,d){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=u,this.typeKeywords=JSON.parse(JSON.stringify(u.typeKeywords)),this.validateKeyword=Object.assign({},u.validateKeyword),this.validateType=Object.assign({},u.validateType),this.validateFormat=Object.assign({},u.validateFormat),this.errors=Object.assign({},u.errors),this.setSchema(d)}get rootSchema(){return this.__rootSchema}set rootSchema(u){u!=null&&(this.__rootSchema=this.config.compileSchema(this,u))}addRemoteSchema(u,d){this.config.addRemoteSchema(this,u,d)}compileSchema(u){var d;return this.config.compileSchema(this,u,(d=this.rootSchema)!==null&&d!==void 0?d:u)}createSchemaOf(u){return this.config.createSchemaOf(u)}each(u,d,E,S){return this.config.each(this,u,d,E,S)}eachSchema(u,d=this.rootSchema){return this.config.eachSchema(d,u)}getChildSchemaSelection(u,d){return this.config.getChildSchemaSelection(this,u,d)}getSchema(u="#",d,E){return this.config.getSchema(this,u,d,E)}getTemplate(u,d,E){return this.config.getTemplate(this,u,d,E)}isValid(u,d,E){return this.config.isValid(this,u,d,E)}resolveAnyOf(u,d,E){return this.config.resolveAnyOf(this,u,d,E)}resolveAllOf(u,d,E){return this.config.resolveAllOf(this,u,d,E)}resolveRef(u){return this.config.resolveRef(u,this.rootSchema)}resolveOneOf(u,d,E){return this.config.resolveOneOf(this,u,d,E)}setSchema(u){this.rootSchema=u}step(u,d,E,S){return this.config.step(this,u,d,E,S)}validate(u,d,E){return this.config.validate(this,u,d,E)}}const Bn={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:to,validateType:_o,validateFormat:Xe,errors:Wn,addRemoteSchema:nt,compileSchema:Zs,createSchemaOf:Si,each:Us,eachSchema:Me,getChildSchemaSelection:is,getSchema:Jt,getTemplate:mi,isValid:gi,resolveAllOf:Q,resolveAnyOf:Zn,resolveOneOf:fe,resolveRef:So,step:En,validate:fi};class Hn extends Xo{constructor(u,d={}){super(Cr(Bn,d),u)}}const Eo={...Bn,resolveOneOf:tt,resolveRef:Qt};class ro extends null{constructor(u,d={}){super(merge(Eo,d),u)}}class Ts{constructor(u,d){this.core=new Core(u),this.schema=u,this.data=d,this.cache={}}updateData(u){this.data=u,this.cache={}}updateSchema(u){this.schema=u,this.core.setSchema(u),this.cache={}}get(u,d){if(d){const ie=getSchema(this.core,u,d,this.schema);return copy(ie)}if(u==="#")return this.schema;if(this.cache[u])return this.cache[u];const E=gp.join(u,"..");let S=this.cache[E];S==null&&(S=getSchema(this.core,E,this.data,this.schema),S.variableSchema!==!0&&(this.cache[E]=copy(S)));const _=gp.split(u).pop();let H=getSchema(this.core,_,gp.get(this.data,E),this.cache[E]);return H=copy(H),H.variableSchema!==!0&&(this.cache[u]=H),H}}const uo="__compiled",ki="__ref",Qo="getRef",os="getRoot",zi=/(#|\/)+$/g;function go(r,u,d=u,E=!1){if(!u||u[uo]!==void 0)return u;const S={ids:{},remotes:r.remotes},_=JSON.stringify(u),H=JSON.parse(_);if(Object.defineProperty(H,uo,{enumerable:!1,value:!0}),Object.defineProperty(H,Qo,{enumerable:!1,value:Qn.bind(null,S,H)}),E===!1&&_.includes("$ref")===!1)return H;u!==d&&Object.defineProperty(H,"definitions",{enumerable:!1,value:Object.assign({},d.definitions,d.$defs,u.definitions,u.$defs)});const ie={},me=()=>H;return Me(H,(le,Fe)=>{var Ve;if(le.id){if(le.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(Fe)){const St=Fe.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),Rt=(0,Ke.get)(H,St);le.id=(Ve=Rt.id)!==null&&Ve!==void 0?Ve:le.id}S.ids[le.id.replace(zi,"")]=Fe}Fe=`#${Fe}`.replace(/##+/,"#");const qe=Fe.replace(/\/[^/]+$/,""),be=Fe.replace(/\/[^/]+\/[^/]+$/,""),Ge=ie[qe]||ie[be],Ue=zr(Ge,le.id);ie[Fe]=Ue,S.ids[Ue]==null&&(S.ids[Ue]=Fe),le.$ref&&!le[ki]&&(Object.defineProperty(le,ki,{enumerable:!1,value:zr(Ue,le.$ref)}),Object.defineProperty(le,os,{enumerable:!1,value:me}))}),H}var Bo=go,Jn={array:(r,u,d,E)=>r.typeKeywords.array.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),object:(r,u,d,E)=>r.typeKeywords.object.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),string:(r,u,d,E)=>r.typeKeywords.string.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),integer:(r,u,d,E)=>r.typeKeywords.number.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),number:(r,u,d,E)=>r.typeKeywords.number.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),boolean:(r,u,d,E)=>r.typeKeywords.boolean.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E)),null:(r,u,d,E)=>r.typeKeywords.null.filter(S=>u&&u[S]!=null).map(S=>r.validateKeyword[S](r,u,d,E))};const Wo={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:zn,validateType:Jn,validateFormat:Xe,errors:Wn,addRemoteSchema:nt,compileSchema:Bo,createSchemaOf:Si,each:Us,eachSchema:Me,getChildSchemaSelection:is,getSchema:Jt,getTemplate:mi,isValid:gi,resolveAllOf:Q,resolveAnyOf:Zn,resolveOneOf:fe,resolveRef:So,step:En,validate:fi};class no extends null{constructor(u,d={}){super(merge(Wo,d),u)}}const ei={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["enum","exclusiveMaximum","exclusiveMinimum","format","maximum","minimum","multipleOf","not","oneOf","allOf","anyOf","if"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:to,validateType:_o,validateFormat:Xe,errors:Wn,addRemoteSchema:nt,compileSchema:Zs,createSchemaOf:Si,each:Us,eachSchema:Me,getChildSchemaSelection:is,getSchema:Jt,getTemplate:mi,isValid:gi,resolveAllOf:Q,resolveAnyOf:Zn,resolveOneOf:fe,resolveRef:So,step:En,validate:fi};class ss extends null{constructor(u,d={}){super(merge(ei,d),u)}}const Zo={strings:We};var ti=a(80236),Mi=a(39362),co=a(19126),Hi=a.n(co),wo=a(64279),ps=a(60885),ht=a(52322),at=a(13880),Ti=a(90772),Ei=a(7279),Br=a(89523),Xn=a(64187),fo=a(42082);function Oo(r,u,d){for(var E=-1,S=u.length,_={};++E<S;){var H=u[E],ie=(0,Br.Z)(r,H);d(ie,H)&&(0,Xn.Z)(_,(0,fo.Z)(H,r),ie)}return _}var Uo=Oo,Vs=a(12930);function Ks(r,u){return Uo(r,u,function(d,E){return(0,Vs.Z)(r,E)})}var La=Ks,_s=a(5255),Do=(0,_s.Z)(function(r,u){return r==null?{}:La(r,u)}),Un=Do,Ji=a(55487),zs=a(7921),ho=a(93122),mo=a(25513),ln=a(37164),br=a(39075);function fr(){return fr=Object.assign||function(r){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(r[E]=d[E])}return r},fr.apply(this,arguments)}const $r=["children","options"],gn=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((r,u)=>(r[u.toLowerCase()]=u,r),{for:"htmlFor"}),An={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"\xA0",quot:"\u201C"},ri=["style","script"],wi=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,$i=/mailto:/i,ia=/\n{2,}$/,Ds=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,as=/^ *> ?/gm,ks=/^ {2,}\n/,oa=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Ms=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,xa=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,$s=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,gs=/^(?:\n *)*\n/,xo=/\r\n?/g,Is=/^\[\^([^\]]+)](:.*)\n/,Ca=/^\[\^([^\]]+)]/,ko=/\f/g,Rs=/^\s*?\[(x|\s)\]/,ys=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Co=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,sa=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,Ba=/&([a-zA-Z]+);/g,vs=/^<!--[\s\S]*?(?:-->)/,aa=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,qo=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,io=/^\{.*\}$/,po=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,tl=/^<([^ >]+@[^ >]+)>/,la=/^<([^ >]+:\/[^ >]+)>/,Pa=/-([a-z])?/gi,Zi=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,Aa=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,yo=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,ls=/^\[([^\]]*)\] ?\[([^\]]*)\]/,vo=/(\[|\])/g,Hs=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Fs=/\t/g,us=/^ *\| */,bs=/(^ *\||\| *$)/g,ua=/ *$/,Ss=/^ *:-+: *$/,Gi=/^ *:-+ *$/,Ns=/^ *-+: *$/,es=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,Ga=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,Vo=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,Ta=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,ca=/^\\([^0-9A-Za-z\s])/,Es=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,rl=/^\n+/,Ai=/^([ \t]*)/,Po=/\\([^\\])/g,cs=/ *\n+$/,Wa=/(?:^|\n)( *)$/,_a="(?:\\d+\\.)",Js="(?:[*+-])";function js(r){return"( *)("+(r===1?_a:Js)+") +"}const fa=js(1),da=js(2);function Gs(r){return new RegExp("^"+(r===1?fa:da))}const Ya=Gs(1),Mo=Gs(2);function Ko(r){return new RegExp("^"+(r===1?fa:da)+"[^\\n]*(?:\\n(?!\\1"+(r===1?_a:Js)+" )[^\\n]*)*(\\n|$)","gm")}const ws=Ko(1),ts=Ko(2);function ha(r){const u=r===1?_a:Js;return new RegExp("^( *)("+u+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+u+" (?!"+u+" ))\\n*|\\s*\\n*$)")}const fs=ha(1),Gn=ha(2);function Da(r,u){const d=u===1,E=d?fs:Gn,S=d?ws:ts,_=d?Ya:Mo;return{t(H,ie,me){const le=Wa.exec(me);return le&&(ie.o||!ie._&&!ie.u)?E.exec(H=le[1]+H):null},i:nr.HIGH,l(H,ie,me){const le=d?+H[2]:void 0,Fe=H[0].replace(ia,`
`).match(S);let Ve=!1;return{p:Fe.map(function(qe,be){const Ge=_.exec(qe)[0].length,Ue=new RegExp("^ {1,"+Ge+"}","gm"),St=qe.replace(Ue,"").replace(_,""),Rt=be===Fe.length-1,Ht=St.indexOf(`

`)!==-1||Rt&&Ve;Ve=Ht;const Dt=me._,ir=me.o;let gr;me.o=!0,Ht?(me._=!1,gr=St.replace(cs,`

`)):(me._=!0,gr=St.replace(cs,""));const Fr=ie(gr,me);return me._=Dt,me.o=ir,Fr}),m:d,g:le}},h:(H,ie,me)=>r(H.m?"ol":"ul",{key:me.k,start:H.g},H.p.map(function(le,Fe){return r("li",{key:Fe},ie(le,me))}))}}const ka=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Za=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Ys=[Ds,Ms,xa,ys,Co,vs,Zi,ws,fs,ts,Gn],Ua=[...Ys,/^[^\n]+(?:  \n|\n{2,})/,sa,qo];function Va(r){return r.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function ma(r){return Ns.test(r)?"right":Ss.test(r)?"center":Gi.test(r)?"left":null}function Yi(r,u,d){const E=d.v;d.v=!0;const S=u(r.trim(),d);d.v=E;let _=[[]];return S.forEach(function(H,ie){H.type==="tableSeparator"?ie!==0&&ie!==S.length-1&&_.push([]):(H.type!=="text"||S[ie+1]!=null&&S[ie+1].type!=="tableSeparator"||(H.$=H.$.replace(ua,"")),_[_.length-1].push(H))}),_}function Xs(r,u,d){d._=!0;const E=Yi(r[1],u,d),S=r[2].replace(bs,"").split("|").map(ma),_=function(H,ie,me){return H.trim().split(`
`).map(function(le){return Yi(le,ie,me)})}(r[3],u,d);return d._=!1,{S,A:_,L:E,type:"table"}}function zo(r,u){return r.S[u]==null?{}:{textAlign:r.S[u]}}function Ao(r){return function(u,d){return d._?r.exec(u):null}}function bo(r){return function(u,d){return d._||d.u?r.exec(u):null}}function Ho(r){return function(u,d){return d._||d.u?null:r.exec(u)}}function C(r){return function(u){return r.exec(u)}}function N(r,u,d){if(u._||u.u||d&&!d.endsWith(`
`))return null;let E="";r.split(`
`).every(_=>!Ys.some(H=>H.test(_))&&(E+=_+`
`,_.trim()));const S=E.trimEnd();return S==""?null:[E,S]}function G(r){try{if(decodeURIComponent(r).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return r}function ye(r){return r.replace(Po,"$1")}function Ae(r,u,d){const E=d._||!1,S=d.u||!1;d._=!0,d.u=!0;const _=r(u,d);return d._=E,d.u=S,_}function De(r,u,d){const E=d._||!1,S=d.u||!1;d._=!1,d.u=!0;const _=r(u,d);return d._=E,d.u=S,_}function st(r,u,d){return d._=!1,r(u+`

`,d)}const xt=(r,u,d)=>({$:Ae(u,r[1],d)});function Bt(){return{}}function or(){return null}function Er(...r){return r.filter(Boolean).join(" ")}function mr(r,u,d){let E=r;const S=u.split(".");for(;S.length&&(E=E[S[0]],E!==void 0);)S.shift();return E||d}var nr;function Jr(r,u={}){u.overrides=u.overrides||{},u.slugify=u.slugify||Va,u.namedCodesToUnicode=u.namedCodesToUnicode?fr({},An,u.namedCodesToUnicode):An;const d=u.createElement||F.createElement;function E(be,Ge,...Ue){const St=mr(u.overrides,`${be}.props`,{});return d(function(Rt,Ht){const Dt=mr(Ht,Rt);return Dt?typeof Dt=="function"||typeof Dt=="object"&&"render"in Dt?Dt:mr(Ht,`${Rt}.component`,Rt):Rt}(be,u.overrides),fr({},Ge,St,{className:Er(Ge==null?void 0:Ge.className,St.className)||void 0}),...Ue)}function S(be){let Ge=!1;u.forceInline?Ge=!0:u.forceBlock||(Ge=Hs.test(be)===!1);const Ue=Fe(le(Ge?be:`${be.trimEnd().replace(rl,"")}

`,{_:Ge}));for(;typeof Ue[Ue.length-1]=="string"&&!Ue[Ue.length-1].trim();)Ue.pop();if(u.wrapper===null)return Ue;const St=u.wrapper||(Ge?"span":"div");let Rt;if(Ue.length>1||u.forceWrapper)Rt=Ue;else{if(Ue.length===1)return Rt=Ue[0],typeof Rt=="string"?E("span",{key:"outer"},Rt):Rt;Rt=null}return F.createElement(St,{key:"outer"},Rt)}function _(be){const Ge=be.match(wi);return Ge?Ge.reduce(function(Ue,St,Rt){const Ht=St.indexOf("=");if(Ht!==-1){const Dt=function(xr){return xr.indexOf("-")!==-1&&xr.match(aa)===null&&(xr=xr.replace(Pa,function(pr,tn){return tn.toUpperCase()})),xr}(St.slice(0,Ht)).trim(),ir=function(xr){const pr=xr[0];return(pr==='"'||pr==="'")&&xr.length>=2&&xr[xr.length-1]===pr?xr.slice(1,-1):xr}(St.slice(Ht+1).trim()),gr=gn[Dt]||Dt,Fr=Ue[gr]=function(xr,pr){return xr==="style"?pr.split(/;\s?/).reduce(function(tn,vn){const Ir=vn.slice(0,vn.indexOf(":"));return tn[Ir.replace(/(-[a-z])/g,dn=>dn[1].toUpperCase())]=vn.slice(Ir.length+1).trim(),tn},{}):xr==="href"?G(pr):(pr.match(io)&&(pr=pr.slice(1,pr.length-1)),pr==="true"||pr!=="false"&&pr)}(Dt,ir);typeof Fr=="string"&&(sa.test(Fr)||qo.test(Fr))&&(Ue[gr]=F.cloneElement(S(Fr.trim()),{key:Rt}))}else St!=="style"&&(Ue[gn[St]||St]=!0);return Ue},{}):null}const H=[],ie={},me={blockQuote:{t:Ho(Ds),i:nr.HIGH,l:(be,Ge,Ue)=>({$:Ge(be[0].replace(as,""),Ue)}),h:(be,Ge,Ue)=>E("blockquote",{key:Ue.k},Ge(be.$,Ue))},breakLine:{t:C(ks),i:nr.HIGH,l:Bt,h:(be,Ge,Ue)=>E("br",{key:Ue.k})},breakThematic:{t:Ho(oa),i:nr.HIGH,l:Bt,h:(be,Ge,Ue)=>E("hr",{key:Ue.k})},codeBlock:{t:Ho(xa),i:nr.MAX,l:be=>({$:be[0].replace(/^ {4}/gm,"").replace(/\n+$/,""),M:void 0}),h:(be,Ge,Ue)=>E("pre",{key:Ue.k},E("code",fr({},be.I,{className:be.M?`lang-${be.M}`:""}),be.$))},codeFenced:{t:Ho(Ms),i:nr.MAX,l:be=>({I:_(be[3]||""),$:be[4],M:be[2]||void 0,type:"codeBlock"})},codeInline:{t:bo($s),i:nr.LOW,l:be=>({$:be[2]}),h:(be,Ge,Ue)=>E("code",{key:Ue.k},be.$)},footnote:{t:Ho(Is),i:nr.MAX,l:be=>(H.push({O:be[2],B:be[1]}),{}),h:or},footnoteReference:{t:Ao(Ca),i:nr.HIGH,l:be=>({$:be[1],R:`#${u.slugify(be[1])}`}),h:(be,Ge,Ue)=>E("a",{key:Ue.k,href:G(be.R)},E("sup",{key:Ue.k},be.$))},gfmTask:{t:Ao(Rs),i:nr.HIGH,l:be=>({T:be[1].toLowerCase()==="x"}),h:(be,Ge,Ue)=>E("input",{checked:be.T,key:Ue.k,readOnly:!0,type:"checkbox"})},heading:{t:Ho(ys),i:nr.HIGH,l:(be,Ge,Ue)=>({$:Ae(Ge,be[2],Ue),j:u.slugify(be[2]),C:be[1].length}),h:(be,Ge,Ue)=>E(`h${be.C}`,{id:be.j,key:Ue.k},Ge(be.$,Ue))},headingSetext:{t:Ho(Co),i:nr.MAX,l:(be,Ge,Ue)=>({$:Ae(Ge,be[1],Ue),C:be[2]==="="?1:2,type:"heading"})},htmlComment:{t:C(vs),i:nr.HIGH,l:()=>({}),h:or},image:{t:bo(Za),i:nr.HIGH,l:be=>({D:be[1],R:ye(be[2]),N:be[3]}),h:(be,Ge,Ue)=>E("img",{key:Ue.k,alt:be.D||void 0,title:be.N||void 0,src:G(be.R)})},link:{t:Ao(ka),i:nr.LOW,l:(be,Ge,Ue)=>({$:De(Ge,be[1],Ue),R:ye(be[2]),N:be[3]}),h:(be,Ge,Ue)=>E("a",{key:Ue.k,href:G(be.R),title:be.N},Ge(be.$,Ue))},linkAngleBraceStyleDetector:{t:Ao(la),i:nr.MAX,l:be=>({$:[{$:be[1],type:"text"}],R:be[1],type:"link"})},linkBareUrlDetector:{t:(be,Ge)=>Ge.Z?null:Ao(po)(be,Ge),i:nr.MAX,l:be=>({$:[{$:be[1],type:"text"}],R:be[1],N:void 0,type:"link"})},linkMailtoDetector:{t:Ao(tl),i:nr.MAX,l(be){let Ge=be[1],Ue=be[1];return $i.test(Ue)||(Ue="mailto:"+Ue),{$:[{$:Ge.replace("mailto:",""),type:"text"}],R:Ue,type:"link"}}},orderedList:Da(E,1),unorderedList:Da(E,2),newlineCoalescer:{t:Ho(gs),i:nr.LOW,l:Bt,h:()=>`
`},paragraph:{t:N,i:nr.LOW,l:xt,h:(be,Ge,Ue)=>E("p",{key:Ue.k},Ge(be.$,Ue))},ref:{t:Ao(Aa),i:nr.MAX,l:be=>(ie[be[1]]={R:be[2],N:be[4]},{}),h:or},refImage:{t:bo(yo),i:nr.MAX,l:be=>({D:be[1]||void 0,F:be[2]}),h:(be,Ge,Ue)=>E("img",{key:Ue.k,alt:be.D,src:G(ie[be.F].R),title:ie[be.F].N})},refLink:{t:Ao(ls),i:nr.MAX,l:(be,Ge,Ue)=>({$:Ge(be[1],Ue),P:Ge(be[0].replace(vo,"\\$1"),Ue),F:be[2]}),h:(be,Ge,Ue)=>ie[be.F]?E("a",{key:Ue.k,href:G(ie[be.F].R),title:ie[be.F].N},Ge(be.$,Ue)):E("span",{key:Ue.k},Ge(be.P,Ue))},table:{t:Ho(Zi),i:nr.HIGH,l:Xs,h:(be,Ge,Ue)=>E("table",{key:Ue.k},E("thead",null,E("tr",null,be.L.map(function(St,Rt){return E("th",{key:Rt,style:zo(be,Rt)},Ge(St,Ue))}))),E("tbody",null,be.A.map(function(St,Rt){return E("tr",{key:Rt},St.map(function(Ht,Dt){return E("td",{key:Dt,style:zo(be,Dt)},Ge(Ht,Ue))}))})))},tableSeparator:{t:function(be,Ge){return Ge.v?us.exec(be):null},i:nr.HIGH,l:function(){return{type:"tableSeparator"}},h:()=>" | "},text:{t:C(Es),i:nr.MIN,l:be=>({$:be[0].replace(Ba,(Ge,Ue)=>u.namedCodesToUnicode[Ue]?u.namedCodesToUnicode[Ue]:Ge)}),h:be=>be.$},textBolded:{t:bo(es),i:nr.MED,l:(be,Ge,Ue)=>({$:Ge(be[2],Ue)}),h:(be,Ge,Ue)=>E("strong",{key:Ue.k},Ge(be.$,Ue))},textEmphasized:{t:bo(Ga),i:nr.LOW,l:(be,Ge,Ue)=>({$:Ge(be[2],Ue)}),h:(be,Ge,Ue)=>E("em",{key:Ue.k},Ge(be.$,Ue))},textEscaped:{t:bo(ca),i:nr.HIGH,l:be=>({$:be[1],type:"text"})},textMarked:{t:bo(Vo),i:nr.LOW,l:xt,h:(be,Ge,Ue)=>E("mark",{key:Ue.k},Ge(be.$,Ue))},textStrikethroughed:{t:bo(Ta),i:nr.LOW,l:xt,h:(be,Ge,Ue)=>E("del",{key:Ue.k},Ge(be.$,Ue))}};u.disableParsingRawHTML!==!0&&(me.htmlBlock={t:C(sa),i:nr.HIGH,l(be,Ge,Ue){const[,St]=be[3].match(Ai),Rt=new RegExp(`^${St}`,"gm"),Ht=be[3].replace(Rt,""),Dt=(ir=Ht,Ua.some(pr=>pr.test(ir))?st:Ae);var ir;const gr=be[1].toLowerCase(),Fr=ri.indexOf(gr)!==-1;Ue.Z=Ue.Z||gr==="a";const xr=Fr?be[3]:Dt(Ge,Ht,Ue);return Ue.Z=!1,{I:_(be[2]),$:xr,G:Fr,H:Fr?gr:be[1]}},h:(be,Ge,Ue)=>E(be.H,fr({key:Ue.k},be.I),be.G?be.$:Ge(be.$,Ue))},me.htmlSelfClosing={t:C(qo),i:nr.HIGH,l:be=>({I:_(be[2]||""),H:be[1]}),h:(be,Ge,Ue)=>E(be.H,fr({},be.I,{key:Ue.k}))});const le=function(be){let Ge=Object.keys(be);function Ue(St,Rt){let Ht=[],Dt="";for(;St;){let ir=0;for(;ir<Ge.length;){const gr=Ge[ir],Fr=be[gr],xr=Fr.t(St,Rt,Dt);if(xr){const pr=xr[0];St=St.substring(pr.length);const tn=Fr.l(xr,Ue,Rt);tn.type==null&&(tn.type=gr),Ht.push(tn),Dt=pr;break}ir++}}return Ht}return Ge.sort(function(St,Rt){let Ht=be[St].i,Dt=be[Rt].i;return Ht!==Dt?Ht-Dt:St<Rt?-1:1}),function(St,Rt){return Ue(function(Ht){return Ht.replace(xo,`
`).replace(ko,"").replace(Fs,"    ")}(St),Rt)}}(me),Fe=(Ve=function(be){return function(Ge,Ue,St){return be[Ge.type].h(Ge,Ue,St)}}(me),function be(Ge,Ue={}){if(Array.isArray(Ge)){const St=Ue.k,Rt=[];let Ht=!1;for(let Dt=0;Dt<Ge.length;Dt++){Ue.k=Dt;const ir=be(Ge[Dt],Ue),gr=typeof ir=="string";gr&&Ht?Rt[Rt.length-1]+=ir:ir!==null&&Rt.push(ir),Ht=gr}return Ue.k=St,Rt}return Ve(Ge,be,Ue)});var Ve;const qe=S(r);return H.length?E("div",null,qe,E("footer",{key:"footer"},H.map(function(be){return E("div",{id:u.slugify(be.B),key:be.B},be.B,Fe(le(be.O,{_:!0})))}))):qe}(function(r){r[r.MAX=0]="MAX",r[r.HIGH=1]="HIGH",r[r.MED=2]="MED",r[r.LOW=3]="LOW",r[r.MIN=4]="MIN"})(nr||(nr={}));var xn=r=>{let{children:u,options:d}=r,E=function(S,_){if(S==null)return{};var H,ie,me={},le=Object.keys(S);for(ie=0;ie<le.length;ie++)_.indexOf(H=le[ie])>=0||(me[H]=S[H]);return me}(r,$r);return F.cloneElement(Jr(u,d),E)},_n=a(6279),jn=a(56764);function Mr(r,u){return r==null?!0:(0,jn.Z)(r,u)}var yn=Mr;function oo(r,u){for(var d=0;d<u.length;d++){var E=u[d];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(r,ga(E.key),E)}}function oi(r,u,d){return u&&oo(r.prototype,u),d&&oo(r,d),Object.defineProperty(r,"prototype",{writable:!1}),r}function Rr(){return Rr=Object.assign?Object.assign.bind():function(r){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(r[E]=d[E])}return r},Rr.apply(this,arguments)}function ds(r,u){r.prototype=Object.create(u.prototype),r.prototype.constructor=r,pa(r,u)}function pa(r,u){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,S){return E.__proto__=S,E},pa(r,u)}function Ci(r,u){if(r==null)return{};var d={},E=Object.keys(r),S,_;for(_=0;_<E.length;_++)S=E[_],!(u.indexOf(S)>=0)&&(d[S]=r[S]);return d}function Qs(r,u){if(typeof r!="object"||r===null)return r;var d=r[Symbol.toPrimitive];if(d!==void 0){var E=d.call(r,u||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(r)}function ga(r){var u=Qs(r,"string");return typeof u=="symbol"?u:String(u)}var s=["widget","title"],h=["widget","title"],x=["widget","title"];function g(){return(0,ln.x0)()}function j(r){return Array.isArray(r)?r.map(function(u){return{key:g(),item:u}}):[]}function de(r){return Array.isArray(r)?r.map(function(u){return u.item}):[]}var Qe=function(r){ds(u,r);function u(E){var S;S=r.call(this,E)||this,S._getNewFormDataRow=function(){var me=S.props,le=me.schema,Fe=me.registry,Ve=Fe.schemaUtils,qe=le.items;return(0,at.FZ)(le)&&(0,at.TE)(le)&&(qe=le.additionalItems),Ve.getDefaultFormState(qe)},S.onAddClick=function(me){S._handleAddClick(me)},S.onAddIndexClick=function(me){return function(le){S._handleAddClick(le,me)}},S.onCopyIndexClick=function(me){return function(le){le&&le.preventDefault();var Fe=S.props.onChange,Ve=S.state.keyedFormData,qe={key:g(),item:(0,zs.Z)(Ve[me].item)},be=[].concat(Ve);me!==void 0?be.splice(me+1,0,qe):be.push(qe),S.setState({keyedFormData:be,updatedKeyedFormData:!0},function(){return Fe(de(be))})}},S.onDropIndexClick=function(me){return function(le){le&&le.preventDefault();var Fe=S.props,Ve=Fe.onChange,qe=Fe.errorSchema,be=S.state.keyedFormData,Ge;if(qe){Ge={};for(var Ue in qe){var St=parseInt(Ue);St<me?(0,mo.Z)(Ge,[St],qe[Ue]):St>me&&(0,mo.Z)(Ge,[St-1],qe[Ue])}}var Rt=be.filter(function(Ht,Dt){return Dt!==me});S.setState({keyedFormData:Rt,updatedKeyedFormData:!0},function(){return Ve(de(Rt),Ge)})}},S.onReorderClick=function(me,le){return function(Fe){Fe&&(Fe.preventDefault(),Fe.currentTarget.blur());var Ve=S.props,qe=Ve.onChange,be=Ve.errorSchema,Ge;if(be){Ge={};for(var Ue in be){var St=parseInt(Ue);St==me?(0,mo.Z)(Ge,[le],be[me]):St==le?(0,mo.Z)(Ge,[me],be[le]):(0,mo.Z)(Ge,[Ue],be[St])}}var Rt=S.state.keyedFormData;function Ht(){var ir=Rt.slice();return ir.splice(me,1),ir.splice(le,0,Rt[me]),ir}var Dt=Ht();S.setState({keyedFormData:Dt},function(){return qe(de(Dt),Ge)})}},S.onChangeForIndex=function(me){return function(le,Fe,Ve){var qe,be=S.props,Ge=be.formData,Ue=be.onChange,St=be.errorSchema,Rt=Array.isArray(Ge)?Ge:[],Ht=Rt.map(function(Dt,ir){var gr=typeof le=="undefined"?null:le;return me===ir?gr:Dt});Ue(Ht,St&&St&&Rr({},St,(qe={},qe[me]=Fe,qe)),Ve)}},S.onSelectChange=function(me){var le=S.props,Fe=le.onChange,Ve=le.idSchema;Fe(me,void 0,Ve&&Ve.$id)};var _=E.formData,H=_===void 0?[]:_,ie=j(H);return S.state={keyedFormData:ie,updatedKeyedFormData:!1},S}u.getDerivedStateFromProps=function(S,_){if(_.updatedKeyedFormData)return{updatedKeyedFormData:!1};var H=Array.isArray(S.formData)?S.formData:[],ie=_.keyedFormData||[],me=H.length===ie.length?ie.map(function(le,Fe){return{key:le.key,item:H[Fe]}}):j(H);return{keyedFormData:me}};var d=u.prototype;return d.isItemRequired=function(S){return Array.isArray(S.type)?!S.type.includes("null"):S.type!=="null"},d.canAddItem=function(S){var _=this.props,H=_.schema,ie=_.uiSchema,me=_.registry,le=(0,at.LI)(ie,me.globalUiOptions),Fe=le.addable;return Fe!==!1&&(H.maxItems!==void 0?Fe=S.length<H.maxItems:Fe=!0),Fe},d._handleAddClick=function(S,_){S&&S.preventDefault();var H=this.props.onChange,ie=this.state.keyedFormData,me={key:g(),item:this._getNewFormDataRow()},le=[].concat(ie);_!==void 0?le.splice(_,0,me):le.push(me),this.setState({keyedFormData:le,updatedKeyedFormData:!0},function(){return H(de(le))})},d.render=function(){var S=this.props,_=S.schema,H=S.uiSchema,ie=S.idSchema,me=S.registry,le=me.schemaUtils,Fe=me.translateString;if(!(at.YU in _)){var Ve=(0,at.LI)(H),qe=(0,at.t4)("UnsupportedFieldTemplate",me,Ve);return(0,ht.jsx)(qe,{schema:_,idSchema:ie,reason:Fe(at.g8.MissingItems),registry:me})}return le.isMultiSelect(_)?this.renderMultiSelect():(0,at.A7)(H)?this.renderCustomWidget():(0,at.FZ)(_)?this.renderFixedArray():le.isFilesArray(_,H)?this.renderFiles():this.renderNormalArray()},d.renderNormalArray=function(){var S=this,_=this.props,H=_.schema,ie=_.uiSchema,me=ie===void 0?{}:ie,le=_.errorSchema,Fe=_.idSchema,Ve=_.name,qe=_.disabled,be=qe===void 0?!1:qe,Ge=_.readonly,Ue=Ge===void 0?!1:Ge,St=_.autofocus,Rt=St===void 0?!1:St,Ht=_.required,Dt=Ht===void 0?!1:Ht,ir=_.registry,gr=_.onBlur,Fr=_.onFocus,xr=_.idPrefix,pr=_.idSeparator,tn=pr===void 0?"_":pr,vn=_.rawErrors,Ir=this.state.keyedFormData,dn=H.title===void 0?Ve:H.title,Ln=ir.schemaUtils,Kn=ir.formContext,Rn=(0,at.LI)(me),si=(0,ho.Z)(H.items)?H.items:{},_i=Ln.retrieveSchema(si),ai=de(this.state.keyedFormData),li=this.canAddItem(ai),di={canAdd:li,items:Ir.map(function(Ro,Xi){var hs=Ro.key,Bs=Ro.item,Fo=Bs,Di=Ln.retrieveSchema(si,Fo),ui=le?le[Xi]:void 0,rs=Fe.$id+tn+Xi,el=Ln.toIdSchema(Di,rs,Fo,xr,tn);return S.renderArrayFieldItem({key:hs,index:Xi,name:Ve&&Ve+"-"+Xi,canAdd:li,canMoveUp:Xi>0,canMoveDown:Xi<ai.length-1,itemSchema:Di,itemIdSchema:el,itemErrorSchema:ui,itemData:Fo,itemUiSchema:me.items,autofocus:Rt&&Xi===0,onBlur:gr,onFocus:Fr,rawErrors:vn,totalItems:Ir.length})}),className:"field field-array field-array-of-"+_i.type,disabled:be,idSchema:Fe,uiSchema:me,onAddClick:this.onAddClick,readonly:Ue,required:Dt,schema:H,title:dn,formContext:Kn,formData:ai,rawErrors:vn,registry:ir},Ui=(0,at.t4)("ArrayFieldTemplate",ir,Rn);return(0,ht.jsx)(Ui,Rr({},di))},d.renderCustomWidget=function(){var S,_=this.props,H=_.schema,ie=_.idSchema,me=_.uiSchema,le=_.disabled,Fe=le===void 0?!1:le,Ve=_.readonly,qe=Ve===void 0?!1:Ve,be=_.autofocus,Ge=be===void 0?!1:be,Ue=_.required,St=Ue===void 0?!1:Ue,Rt=_.hideError,Ht=_.placeholder,Dt=_.onBlur,ir=_.onFocus,gr=_.formData,Fr=gr===void 0?[]:gr,xr=_.registry,pr=_.rawErrors,tn=_.name,vn=xr.widgets,Ir=xr.formContext,dn=xr.globalUiOptions,Ln=xr.schemaUtils,Kn=(0,at.LI)(me,dn),Rn=Kn.widget,si=Kn.title,_i=Ci(Kn,s),ai=(0,at.us)(H,Rn,vn),li=(S=si!=null?si:H.title)!=null?S:tn,di=Ln.getDisplayLabel(H,me,dn);return(0,ht.jsx)(ai,{id:ie.$id,name:tn,multiple:!0,onChange:this.onSelectChange,onBlur:Dt,onFocus:ir,options:_i,schema:H,uiSchema:me,registry:xr,value:Fr,disabled:Fe,readonly:qe,hideError:Rt,required:St,label:li,hideLabel:!di,placeholder:Ht,formContext:Ir,autofocus:Ge,rawErrors:pr})},d.renderMultiSelect=function(){var S,_=this.props,H=_.schema,ie=_.idSchema,me=_.uiSchema,le=_.formData,Fe=le===void 0?[]:le,Ve=_.disabled,qe=Ve===void 0?!1:Ve,be=_.readonly,Ge=be===void 0?!1:be,Ue=_.autofocus,St=Ue===void 0?!1:Ue,Rt=_.required,Ht=Rt===void 0?!1:Rt,Dt=_.placeholder,ir=_.onBlur,gr=_.onFocus,Fr=_.registry,xr=_.rawErrors,pr=_.name,tn=Fr.widgets,vn=Fr.schemaUtils,Ir=Fr.formContext,dn=Fr.globalUiOptions,Ln=vn.retrieveSchema(H.items,Fe),Kn=(0,at.pp)(Ln),Rn=(0,at.LI)(me,dn),si=Rn.widget,_i=si===void 0?"select":si,ai=Rn.title,li=Ci(Rn,h),di=(0,at.us)(H,_i,tn),Ui=(S=ai!=null?ai:H.title)!=null?S:pr,Ro=vn.getDisplayLabel(H,me,dn);return(0,ht.jsx)(di,{id:ie.$id,name:pr,multiple:!0,onChange:this.onSelectChange,onBlur:ir,onFocus:gr,options:Rr({},li,{enumOptions:Kn}),schema:H,uiSchema:me,registry:Fr,value:Fe,disabled:qe,readonly:Ge,required:Ht,label:Ui,hideLabel:!Ro,placeholder:Dt,formContext:Ir,autofocus:St,rawErrors:xr})},d.renderFiles=function(){var S,_=this.props,H=_.schema,ie=_.uiSchema,me=_.idSchema,le=_.name,Fe=_.disabled,Ve=Fe===void 0?!1:Fe,qe=_.readonly,be=qe===void 0?!1:qe,Ge=_.autofocus,Ue=Ge===void 0?!1:Ge,St=_.required,Rt=St===void 0?!1:St,Ht=_.onBlur,Dt=_.onFocus,ir=_.registry,gr=_.formData,Fr=gr===void 0?[]:gr,xr=_.rawErrors,pr=ir.widgets,tn=ir.formContext,vn=ir.globalUiOptions,Ir=ir.schemaUtils,dn=(0,at.LI)(ie,vn),Ln=dn.widget,Kn=Ln===void 0?"files":Ln,Rn=dn.title,si=Ci(dn,x),_i=(0,at.us)(H,Kn,pr),ai=(S=Rn!=null?Rn:H.title)!=null?S:le,li=Ir.getDisplayLabel(H,ie,vn);return(0,ht.jsx)(_i,{options:si,id:me.$id,name:le,multiple:!0,onChange:this.onSelectChange,onBlur:Ht,onFocus:Dt,schema:H,uiSchema:ie,value:Fr,disabled:Ve,readonly:be,required:Rt,registry:ir,formContext:tn,autofocus:Ue,rawErrors:xr,label:ai,hideLabel:!li})},d.renderFixedArray=function(){var S=this,_=this.props,H=_.schema,ie=_.uiSchema,me=ie===void 0?{}:ie,le=_.formData,Fe=le===void 0?[]:le,Ve=_.errorSchema,qe=_.idPrefix,be=_.idSeparator,Ge=be===void 0?"_":be,Ue=_.idSchema,St=_.name,Rt=_.disabled,Ht=Rt===void 0?!1:Rt,Dt=_.readonly,ir=Dt===void 0?!1:Dt,gr=_.autofocus,Fr=gr===void 0?!1:gr,xr=_.required,pr=xr===void 0?!1:xr,tn=_.registry,vn=_.onBlur,Ir=_.onFocus,dn=_.rawErrors,Ln=this.state.keyedFormData,Kn=this.props.formData,Rn=Kn===void 0?[]:Kn,si=H.title||St,_i=(0,at.LI)(me),ai=tn.schemaUtils,li=tn.formContext,di=(0,ho.Z)(H.items)?H.items:[],Ui=di.map(function(Fo,Di){return ai.retrieveSchema(Fo,Fe[Di])}),Ro=(0,ho.Z)(H.additionalItems)?ai.retrieveSchema(H.additionalItems,Fe):null;(!Rn||Rn.length<Ui.length)&&(Rn=Rn||[],Rn=Rn.concat(new Array(Ui.length-Rn.length)));var Xi=this.canAddItem(Rn)&&!!Ro,hs={canAdd:Xi,className:"field field-array field-array-fixed-items",disabled:Ht,idSchema:Ue,formData:Fe,items:Ln.map(function(Fo,Di){var ui=Fo.key,rs=Fo.item,el=rs,cl=Di>=Ui.length,pl=cl&&(0,ho.Z)(H.additionalItems)?ai.retrieveSchema(H.additionalItems,el):Ui[Di],Ml=Ue.$id+Ge+Di,$l=ai.toIdSchema(pl,Ml,el,qe,Ge),wl=cl?me.additionalItems||{}:Array.isArray(me.items)?me.items[Di]:me.items||{},sl=Ve?Ve[Di]:void 0;return S.renderArrayFieldItem({key:ui,index:Di,name:St&&St+"-"+Di,canAdd:Xi,canRemove:cl,canMoveUp:Di>=Ui.length+1,canMoveDown:cl&&Di<Rn.length-1,itemSchema:pl,itemData:el,itemUiSchema:wl,itemIdSchema:$l,itemErrorSchema:sl,autofocus:Fr&&Di===0,onBlur:vn,onFocus:Ir,rawErrors:dn,totalItems:Ln.length})}),onAddClick:this.onAddClick,readonly:ir,required:pr,registry:tn,schema:H,uiSchema:me,title:si,formContext:li,rawErrors:dn},Bs=(0,at.t4)("ArrayFieldTemplate",tn,_i);return(0,ht.jsx)(Bs,Rr({},hs))},d.renderArrayFieldItem=function(S){var _=S.key,H=S.index,ie=S.name,me=S.canAdd,le=S.canRemove,Fe=le===void 0?!0:le,Ve=S.canMoveUp,qe=S.canMoveDown,be=S.itemSchema,Ge=S.itemData,Ue=S.itemUiSchema,St=S.itemIdSchema,Rt=S.itemErrorSchema,Ht=S.autofocus,Dt=S.onBlur,ir=S.onFocus,gr=S.rawErrors,Fr=S.totalItems,xr=this.props,pr=xr.disabled,tn=xr.hideError,vn=xr.idPrefix,Ir=xr.idSeparator,dn=xr.readonly,Ln=xr.uiSchema,Kn=xr.registry,Rn=xr.formContext,si=Kn.fields,_i=si.ArraySchemaField,ai=si.SchemaField,li=Kn.globalUiOptions,di=_i||ai,Ui=(0,at.LI)(Ln,li),Ro=Ui.orderable,Xi=Ro===void 0?!0:Ro,hs=Ui.removable,Bs=hs===void 0?!0:hs,Fo=Ui.copyable,Di=Fo===void 0?!1:Fo,ui={moveUp:Xi&&Ve,moveDown:Xi&&qe,copy:Di&&me,remove:Bs&&Fe,toolbar:!1};return ui.toolbar=Object.keys(ui).some(function(rs){return ui[rs]}),{children:(0,ht.jsx)(di,{name:ie,index:H,schema:be,uiSchema:Ue,formData:Ge,formContext:Rn,errorSchema:Rt,idPrefix:vn,idSeparator:Ir,idSchema:St,required:this.isItemRequired(be),onChange:this.onChangeForIndex(H),onBlur:Dt,onFocus:ir,registry:Kn,disabled:pr,readonly:dn,hideError:tn,autofocus:Ht,rawErrors:gr}),className:"array-item",disabled:pr,canAdd:me,hasCopy:ui.copy,hasToolbar:ui.toolbar,hasMoveUp:ui.moveUp,hasMoveDown:ui.moveDown,hasRemove:ui.remove,index:H,totalItems:Fr,key:_,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:dn,registry:Kn,schema:be,uiSchema:Ue}},oi(u,[{key:"itemTitle",get:function(){var S=this.props,_=S.schema,H=S.registry,ie=H.translateString;return(0,Ti.Z)(_,[at.YU,"title"],(0,Ti.Z)(_,[at.YU,"description"],ie(at.g8.ArrayItemTitle)))}}]),u}(F.Component),et=["widget","title","label"];function lt(r){var u,d=r.schema,E=r.name,S=r.uiSchema,_=r.idSchema,H=r.formData,ie=r.registry,me=r.required,le=r.disabled,Fe=r.readonly,Ve=r.autofocus,qe=r.onChange,be=r.onFocus,Ge=r.onBlur,Ue=r.rawErrors,St=d.title,Rt=ie.widgets,Ht=ie.formContext,Dt=ie.translateString,ir=ie.globalUiOptions,gr=(0,at.LI)(S,ir),Fr=gr.widget,xr=Fr===void 0?"checkbox":Fr,pr=gr.title,tn=gr.label,vn=tn===void 0?!0:tn,Ir=Ci(gr,et),dn=(0,at.us)(d,xr,Rt),Ln=Dt(at.g8.YesLabel),Kn=Dt(at.g8.NoLabel),Rn,si=(u=pr!=null?pr:St)!=null?u:E;if(Array.isArray(d.oneOf))Rn=(0,at.pp)({oneOf:d.oneOf.map(function(di){if((0,ho.Z)(di))return Rr({},di,{title:di.title||(di.const===!0?Ln:Kn)})}).filter(function(di){return di})});else{var _i,ai=d,li=(_i=d.enum)!=null?_i:[!0,!1];!ai.enumNames&&li.length===2&&li.every(function(di){return typeof di=="boolean"})?Rn=[{value:li[0],label:li[0]?Ln:Kn},{value:li[1],label:li[1]?Ln:Kn}]:Rn=(0,at.pp)({enum:li,enumNames:ai.enumNames})}return(0,ht.jsx)(dn,{options:Rr({},Ir,{enumOptions:Rn}),schema:d,uiSchema:S,id:_.$id,name:E,onChange:qe,onFocus:be,onBlur:Ge,label:si,hideLabel:!vn,value:H,required:me,disabled:le,readonly:Fe,registry:ie,formContext:Ht,autofocus:Ve,rawErrors:Ue})}var mt=["widget","placeholder","autofocus","autocomplete","title"],vt=function(r){ds(u,r);function u(E){var S;S=r.call(this,E)||this,S.onOptionChange=function(Fe){var Ve=S.state,qe=Ve.selectedOption,be=Ve.retrievedOptions,Ge=S.props,Ue=Ge.formData,St=Ge.onChange,Rt=Ge.registry,Ht=Rt.schemaUtils,Dt=Fe!==void 0?parseInt(Fe,10):-1;if(Dt!==qe){var ir=Dt>=0?be[Dt]:void 0,gr=qe>=0?be[qe]:void 0,Fr=Ht.sanitizeDataForNewSchema(ir,gr,Ue);Fr&&ir&&(Fr=Ht.getDefaultFormState(ir,Fr,"excludeObjectChildren")),St(Fr,void 0,S.getFieldId()),S.setState({selectedOption:Dt})}};var _=S.props,H=_.formData,ie=_.options,me=_.registry.schemaUtils,le=ie.map(function(Fe){return me.retrieveSchema(Fe,H)});return S.state={retrievedOptions:le,selectedOption:S.getMatchingOption(0,H,le)},S}var d=u.prototype;return d.componentDidUpdate=function(S,_){var H=this.props,ie=H.formData,me=H.options,le=H.idSchema,Fe=this.state.selectedOption,Ve=this.state;if(!(0,at.qt)(S.options,me)){var qe=this.props.registry.schemaUtils,be=me.map(function(Rt){return qe.retrieveSchema(Rt,ie)});Ve={selectedOption:Fe,retrievedOptions:be}}if(!(0,at.qt)(ie,S.formData)&&le.$id===S.idSchema.$id){var Ge=Ve,Ue=Ge.retrievedOptions,St=this.getMatchingOption(Fe,ie,Ue);_&&St!==Fe&&(Ve={selectedOption:St,retrievedOptions:Ue})}Ve!==this.state&&this.setState(Ve)},d.getMatchingOption=function(S,_,H){var ie=this.props,me=ie.schema,le=ie.registry.schemaUtils,Fe=(0,at.jV)(me),Ve=le.getClosestMatchingOption(_,H,S,Fe);return Ve>0?Ve:S||0},d.getFieldId=function(){var S=this.props,_=S.idSchema,H=S.schema;return""+_.$id+(H.oneOf?"__oneof_select":"__anyof_select")},d.render=function(){var S=this.props,_=S.name,H=S.baseType,ie=S.disabled,me=ie===void 0?!1:ie,le=S.errorSchema,Fe=le===void 0?{}:le,Ve=S.formContext,qe=S.onBlur,be=S.onFocus,Ge=S.registry,Ue=S.schema,St=S.uiSchema,Rt=Ge.widgets,Ht=Ge.fields,Dt=Ge.translateString,ir=Ge.globalUiOptions,gr=Ge.schemaUtils,Fr=Ht.SchemaField,xr=this.state,pr=xr.selectedOption,tn=xr.retrievedOptions,vn=(0,at.LI)(St,ir),Ir=vn.widget,dn=Ir===void 0?"select":Ir,Ln=vn.placeholder,Kn=vn.autofocus,Rn=vn.autocomplete,si=vn.title,_i=si===void 0?Ue.title:si,ai=Ci(vn,mt),li=(0,at.us)({type:"number"},dn,Rt),di=(0,Ti.Z)(Fe,at.M9,[]),Ui=(0,br.Z)(Fe,[at.M9]),Ro=gr.getDisplayLabel(Ue,St,ir),Xi=pr>=0&&tn[pr]||null,hs;Xi&&(hs=Xi.type?Xi:Object.assign({},Xi,{type:H}));var Bs=_i?at.g8.TitleOptionPrefix:at.g8.OptionPrefix,Fo=_i?[_i]:[],Di=tn.map(function(ui,rs){return{label:ui.title||Dt(Bs,Fo.concat(String(rs+1))),value:rs}});return(0,ht.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,ht.jsx)("div",{className:"form-group",children:(0,ht.jsx)(li,{id:this.getFieldId(),name:""+_+(Ue.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:qe,onFocus:be,disabled:me||(0,Ei.Z)(Di),multiple:!1,rawErrors:di,errorSchema:Ui,value:pr>=0?pr:void 0,options:Rr({enumOptions:Di},ai),registry:Ge,formContext:Ve,placeholder:Ln,autocomplete:Rn,autofocus:Kn,label:_i!=null?_i:_,hideLabel:!Ro})}),Xi!==null&&(0,ht.jsx)(Fr,Rr({},this.props,{schema:hs}))]})},u}(F.Component),At=/\.([0-9]*0)*$/,Xt=/[0.]0*$/;function ar(r){var u=r.registry,d=r.onChange,E=r.formData,S=r.value,_=(0,F.useState)(S),H=_[0],ie=_[1],me=u.fields.StringField,le=E,Fe=(0,F.useCallback)(function(qe){ie(qe),(""+qe).charAt(0)==="."&&(qe="0"+qe);var be=typeof qe=="string"&&qe.match(At)?(0,at.mH)(qe.replace(Xt,"")):(0,at.mH)(qe);d(be)},[d]);if(typeof H=="string"&&typeof le=="number"){var Ve=new RegExp((""+le).replace(".","\\.")+"\\.?0*$");H.match(Ve)&&(le=H)}return(0,ht.jsx)(me,Rr({},r,{formData:le,onChange:Fe}))}var l=function(r){ds(u,r);function u(){for(var E,S=arguments.length,_=new Array(S),H=0;H<S;H++)_[H]=arguments[H];return E=r.call.apply(r,[this].concat(_))||this,E.state={wasPropertyKeyModified:!1,additionalProperties:{}},E.onPropertyChange=function(ie,me){return me===void 0&&(me=!1),function(le,Fe,Ve){var qe,be,Ge=E.props,Ue=Ge.formData,St=Ge.onChange,Rt=Ge.errorSchema;le===void 0&&me&&(le="");var Ht=Rr({},Ue,(qe={},qe[ie]=le,qe));St(Ht,Rt&&Rt&&Rr({},Rt,(be={},be[ie]=Fe,be)),Ve)}},E.onDropPropertyClick=function(ie){return function(me){me.preventDefault();var le=E.props,Fe=le.onChange,Ve=le.formData,qe=Rr({},Ve);yn(qe,ie),Fe(qe)}},E.getAvailableKey=function(ie,me){for(var le=E.props,Fe=le.uiSchema,Ve=le.registry,qe=(0,at.LI)(Fe,Ve.globalUiOptions),be=qe.duplicateKeySuffixSeparator,Ge=be===void 0?"-":be,Ue=0,St=ie;(0,_n.Z)(me,St);)St=""+ie+Ge+ ++Ue;return St},E.onKeyChange=function(ie){return function(me,le){var Fe,Ve;if(ie!==me){var qe=E.props,be=qe.formData,Ge=qe.onChange,Ue=qe.errorSchema;me=E.getAvailableKey(me,be);var St=Rr({},be),Rt=(Fe={},Fe[ie]=me,Fe),Ht=Object.keys(St).map(function(ir){var gr,Fr=Rt[ir]||ir;return gr={},gr[Fr]=St[ir],gr}),Dt=Object.assign.apply(Object,[{}].concat(Ht));E.setState({wasPropertyKeyModified:!0}),Ge(Dt,Ue&&Ue&&Rr({},Ue,(Ve={},Ve[me]=le,Ve)))}}},E.handleAddClick=function(ie){return function(){if(ie.additionalProperties){var me=E.props,le=me.formData,Fe=me.onChange,Ve=me.registry,qe=Rr({},le),be=void 0;if((0,ho.Z)(ie.additionalProperties)){be=ie.additionalProperties.type;var Ge=ie.additionalProperties;if(at.Sr in Ge){var Ue=Ve.schemaUtils;Ge=Ue.retrieveSchema({$ref:Ge[at.Sr]},le),be=Ge.type}!be&&(at.F8 in Ge||at.If in Ge)&&(be="object")}var St=E.getAvailableKey("newKey",qe);(0,mo.Z)(qe,St,E.getDefaultValue(be)),Fe(qe)}}},E}var d=u.prototype;return d.isRequired=function(S){var _=this.props.schema;return Array.isArray(_.required)&&_.required.indexOf(S)!==-1},d.getDefaultValue=function(S){var _=this.props.registry.translateString;switch(S){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return _(at.g8.NewStringDefault)}},d.render=function(){var S,_,H,ie=this,me=this.props,le=me.schema,Fe=me.uiSchema,Ve=Fe===void 0?{}:Fe,qe=me.formData,be=me.errorSchema,Ge=me.idSchema,Ue=me.name,St=me.required,Rt=St===void 0?!1:St,Ht=me.disabled,Dt=Ht===void 0?!1:Ht,ir=me.readonly,gr=ir===void 0?!1:ir,Fr=me.hideError,xr=me.idPrefix,pr=me.idSeparator,tn=me.onBlur,vn=me.onFocus,Ir=me.registry,dn=Ir.fields,Ln=Ir.formContext,Kn=Ir.schemaUtils,Rn=Ir.translateString,si=Ir.globalUiOptions,_i=dn.SchemaField,ai=Kn.retrieveSchema(le,qe),li=(0,at.LI)(Ve,si),di=ai.properties,Ui=di===void 0?{}:di,Ro=(S=(_=li.title)!=null?_:ai.title)!=null?S:Ue,Xi=(H=li.description)!=null?H:ai.description,hs;try{var Bs=Object.keys(Ui);hs=(0,at.$2)(Bs,li.order)}catch(ui){return(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,ht.jsx)(xn,{children:Rn(at.g8.InvalidObjectField,[Ue||"root",ui.message])})}),(0,ht.jsx)("pre",{children:JSON.stringify(ai)})]})}var Fo=(0,at.t4)("ObjectFieldTemplate",Ir,li),Di={title:li.label===!1?"":Ro,description:li.label===!1?void 0:Xi,properties:hs.map(function(ui){var rs=(0,_n.Z)(ai,[at.MA,ui,at.jk]),el=rs?Ve.additionalProperties:Ve[ui],cl=(0,at.LI)(el).widget==="hidden",pl=(0,Ti.Z)(Ge,[ui],{});return{content:(0,ht.jsx)(_i,{name:ui,required:ie.isRequired(ui),schema:(0,Ti.Z)(ai,[at.MA,ui],{}),uiSchema:el,errorSchema:(0,Ti.Z)(be,ui),idSchema:pl,idPrefix:xr,idSeparator:pr,formData:(0,Ti.Z)(qe,ui),formContext:Ln,wasPropertyKeyModified:ie.state.wasPropertyKeyModified,onKeyChange:ie.onKeyChange(ui),onChange:ie.onPropertyChange(ui,rs),onBlur:tn,onFocus:vn,registry:Ir,disabled:Dt,readonly:gr,hideError:Fr,onDropPropertyClick:ie.onDropPropertyClick},ui),name:ui,readonly:gr,disabled:Dt,required:Rt,hidden:cl}}),readonly:gr,disabled:Dt,required:Rt,idSchema:Ge,uiSchema:Ve,errorSchema:be,schema:ai,formData:qe,formContext:Ln,registry:Ir};return(0,ht.jsx)(Fo,Rr({},Di,{onAddClick:this.handleAddClick}))},u}(F.Component),e=["__errors"],t={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function o(r,u,d,E){var S=u.field,_=E.fields,H=E.translateString;if(typeof S=="function")return S;if(typeof S=="string"&&S in _)return _[S];var ie=(0,at.f_)(r),me=Array.isArray(ie)?ie[0]:ie||"",le=t[me];return!le&&(r.anyOf||r.oneOf)?function(){return null}:le in _?_[le]:function(){var Fe=(0,at.t4)("UnsupportedFieldTemplate",E,u);return(0,ht.jsx)(Fe,{schema:r,idSchema:d,reason:H(at.g8.UnknownFieldType,[String(r.type)]),registry:E})}}function c(r){var u=r.schema,d=r.idSchema,E=r.uiSchema,S=r.formData,_=r.errorSchema,H=r.idPrefix,ie=r.idSeparator,me=r.name,le=r.onChange,Fe=r.onKeyChange,Ve=r.onDropPropertyClick,qe=r.required,be=r.registry,Ge=r.wasPropertyKeyModified,Ue=Ge===void 0?!1:Ge,St=be.formContext,Rt=be.schemaUtils,Ht=be.globalUiOptions,Dt=(0,at.LI)(E,Ht),ir=(0,at.t4)("FieldTemplate",be,Dt),gr=(0,at.t4)("DescriptionFieldTemplate",be,Dt),Fr=(0,at.t4)("FieldHelpTemplate",be,Dt),xr=(0,at.t4)("FieldErrorTemplate",be,Dt),pr=Rt.retrieveSchema(u,S),tn=d[at.BO],vn=(0,at.PM)(Rt.toIdSchema(pr,tn,S,H,ie),d),Ir=(0,F.useCallback)(function(sl,Gu,Yu){var Xu=Yu||tn;return le(sl,Gu,Xu)},[tn,le]),dn=o(pr,Dt,vn,be),Ln=Boolean(r.disabled||Dt.disabled),Kn=Boolean(r.readonly||Dt.readonly||r.schema.readOnly||pr.readOnly),Rn=Dt.hideError,si=Rn===void 0?r.hideError:Boolean(Rn),_i=Boolean(r.autofocus||Dt.autofocus);if(Object.keys(pr).length===0)return null;var ai=Rt.getDisplayLabel(pr,E,Ht),li=_||{},di=li.__errors,Ui=Ci(li,e),Ro=(0,br.Z)(E,["ui:classNames","classNames","ui:style"]);at.ji in Ro&&(Ro[at.ji]=(0,br.Z)(Ro[at.ji],["classNames","style"]));var Xi=(0,ht.jsx)(dn,Rr({},r,{onChange:Ir,idSchema:vn,schema:pr,uiSchema:Ro,disabled:Ln,readonly:Kn,hideError:si,autofocus:_i,errorSchema:Ui,formContext:St,rawErrors:di})),hs=vn[at.BO],Bs;Ue?Bs=me:Bs=at.jk in pr?me:Dt.title||r.schema.title||pr.title||me;var Fo=Dt.description||r.schema.description||pr.description||"",Di=Dt.help,ui=Dt.widget==="hidden",rs=["form-group","field","field-"+(0,at.f_)(pr)];!si&&di&&di.length>0&&rs.push("field-error has-error has-danger"),E!=null&&E.classNames&&rs.push(E.classNames),Dt.classNames&&rs.push(Dt.classNames);var el=(0,ht.jsx)(Fr,{help:Di,idSchema:vn,schema:pr,uiSchema:E,hasErrors:!si&&di&&di.length>0,registry:be}),cl=si?void 0:(0,ht.jsx)(xr,{errors:di,errorSchema:_,idSchema:vn,schema:pr,uiSchema:E,registry:be}),pl={description:(0,ht.jsx)(gr,{id:(0,at.Si)(hs),description:Fo,schema:pr,uiSchema:E,registry:be}),rawDescription:Fo,help:el,rawHelp:typeof Di=="string"?Di:void 0,errors:cl,rawErrors:si?void 0:di,id:hs,label:Bs,hidden:ui,onChange:le,onKeyChange:Fe,onDropPropertyClick:Ve,required:qe,disabled:Ln,readonly:Kn,hideError:si,displayLabel:ai,classNames:rs.join(" ").trim(),style:Dt.style,formContext:St,formData:S,schema:pr,uiSchema:E,registry:be},Ml=be.fields.AnyOfField,$l=be.fields.OneOfField,wl=(E==null?void 0:E["ui:field"])&&(E==null?void 0:E["ui:fieldReplacesAnyOrOneOf"])===!0;return(0,ht.jsx)(ir,Rr({},pl,{children:(0,ht.jsxs)(ht.Fragment,{children:[Xi,pr.anyOf&&!wl&&!Rt.isSelect(pr)&&(0,ht.jsx)(Ml,{name:me,disabled:Ln,readonly:Kn,hideError:si,errorSchema:_,formData:S,formContext:St,idPrefix:H,idSchema:vn,idSeparator:ie,onBlur:r.onBlur,onChange:r.onChange,onFocus:r.onFocus,options:pr.anyOf.map(function(sl){return Rt.retrieveSchema((0,ho.Z)(sl)?sl:{},S)}),baseType:pr.type,registry:be,schema:pr,uiSchema:E}),pr.oneOf&&!wl&&!Rt.isSelect(pr)&&(0,ht.jsx)($l,{name:me,disabled:Ln,readonly:Kn,hideError:si,errorSchema:_,formData:S,formContext:St,idPrefix:H,idSchema:vn,idSeparator:ie,onBlur:r.onBlur,onChange:r.onChange,onFocus:r.onFocus,options:pr.oneOf.map(function(sl){return Rt.retrieveSchema((0,ho.Z)(sl)?sl:{},S)}),baseType:pr.type,registry:be,schema:pr,uiSchema:E})]})}))}var v=function(r){ds(u,r);function u(){return r.apply(this,arguments)||this}var d=u.prototype;return d.shouldComponentUpdate=function(S){return!(0,at.qt)(this.props,S)},d.render=function(){return(0,ht.jsx)(c,Rr({},this.props))},u}(F.Component),P=["widget","placeholder","title"];function W(r){var u,d=r.schema,E=r.name,S=r.uiSchema,_=r.idSchema,H=r.formData,ie=r.required,me=r.disabled,le=me===void 0?!1:me,Fe=r.readonly,Ve=Fe===void 0?!1:Fe,qe=r.autofocus,be=qe===void 0?!1:qe,Ge=r.onChange,Ue=r.onBlur,St=r.onFocus,Rt=r.registry,Ht=r.rawErrors,Dt=d.title,ir=d.format,gr=Rt.widgets,Fr=Rt.formContext,xr=Rt.schemaUtils,pr=Rt.globalUiOptions,tn=xr.isSelect(d)?(0,at.pp)(d):void 0,vn=tn?"select":"text";ir&&(0,at.H7)(d,ir,gr)&&(vn=ir);var Ir=(0,at.LI)(S),dn=Ir.widget,Ln=dn===void 0?vn:dn,Kn=Ir.placeholder,Rn=Kn===void 0?"":Kn,si=Ir.title,_i=Ci(Ir,P),ai=xr.getDisplayLabel(d,S,pr),li=(u=si!=null?si:Dt)!=null?u:E,di=(0,at.us)(d,Ln,gr);return(0,ht.jsx)(di,{options:Rr({},_i,{enumOptions:tn}),schema:d,uiSchema:S,id:_.$id,name:E,label:li,hideLabel:!ai,value:H,onChange:Ge,onBlur:Ue,onFocus:St,required:ie,disabled:le,readonly:Ve,formContext:Fr,autofocus:be,registry:Rt,placeholder:Rn,rawErrors:Ht})}function X(r){var u=r.formData,d=r.onChange;return(0,F.useEffect)(function(){u===void 0&&d(null)},[u,d]),null}function he(){return{AnyOfField:vt,ArrayField:Qe,BooleanField:lt,NumberField:ar,ObjectField:l,OneOfField:vt,SchemaField:v,StringField:W,NullField:X}}function ue(r){var u=r.idSchema,d=r.description,E=r.registry,S=r.schema,_=r.uiSchema,H=(0,at.LI)(_,E.globalUiOptions),ie=H.label,me=ie===void 0?!0:ie;if(!d||!me)return null;var le=(0,at.t4)("DescriptionFieldTemplate",E,H);return(0,ht.jsx)(le,{id:(0,at.Si)(u),description:d,schema:S,uiSchema:_,registry:E})}function je(r){var u=r.children,d=r.className,E=r.disabled,S=r.hasToolbar,_=r.hasMoveDown,H=r.hasMoveUp,ie=r.hasRemove,me=r.hasCopy,le=r.index,Fe=r.onCopyIndexClick,Ve=r.onDropIndexClick,qe=r.onReorderClick,be=r.readonly,Ge=r.registry,Ue=r.uiSchema,St=Ge.templates.ButtonTemplates,Rt=St.CopyButton,Ht=St.MoveDownButton,Dt=St.MoveUpButton,ir=St.RemoveButton,gr={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,ht.jsxs)("div",{className:d,children:[(0,ht.jsx)("div",{className:S?"col-xs-9":"col-xs-12",children:u}),S&&(0,ht.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,ht.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(H||_)&&(0,ht.jsx)(Dt,{style:gr,disabled:E||be||!H,onClick:qe(le,le-1),uiSchema:Ue,registry:Ge}),(H||_)&&(0,ht.jsx)(Ht,{style:gr,disabled:E||be||!_,onClick:qe(le,le+1),uiSchema:Ue,registry:Ge}),me&&(0,ht.jsx)(Rt,{style:gr,disabled:E||be,onClick:Fe(le),uiSchema:Ue,registry:Ge}),ie&&(0,ht.jsx)(ir,{style:gr,disabled:E||be,onClick:Ve(le),uiSchema:Ue,registry:Ge})]})})]})}var ft=["key"];function Et(r){var u=r.canAdd,d=r.className,E=r.disabled,S=r.idSchema,_=r.uiSchema,H=r.items,ie=r.onAddClick,me=r.readonly,le=r.registry,Fe=r.required,Ve=r.schema,qe=r.title,be=(0,at.LI)(_),Ge=(0,at.t4)("ArrayFieldDescriptionTemplate",le,be),Ue=(0,at.t4)("ArrayFieldItemTemplate",le,be),St=(0,at.t4)("ArrayFieldTitleTemplate",le,be),Rt=le.templates.ButtonTemplates.AddButton;return(0,ht.jsxs)("fieldset",{className:d,id:S.$id,children:[(0,ht.jsx)(St,{idSchema:S,title:be.title||qe,required:Fe,schema:Ve,uiSchema:_,registry:le}),(0,ht.jsx)(Ge,{idSchema:S,description:be.description||Ve.description,schema:Ve,uiSchema:_,registry:le}),(0,ht.jsx)("div",{className:"row array-item-list",children:H&&H.map(function(Ht){var Dt=Ht.key,ir=Ci(Ht,ft);return(0,ht.jsx)(Ue,Rr({},ir),Dt)})}),u&&(0,ht.jsx)(Rt,{className:"array-item-add",onClick:ie,disabled:E||me,uiSchema:_,registry:le})]})}function Nt(r){var u=r.idSchema,d=r.title,E=r.schema,S=r.uiSchema,_=r.required,H=r.registry,ie=(0,at.LI)(S,H.globalUiOptions),me=ie.label,le=me===void 0?!0:me;if(!d||!le)return null;var Fe=(0,at.t4)("TitleFieldTemplate",H,ie);return(0,ht.jsx)(Fe,{id:(0,at.Vt)(u),title:d,required:_,schema:E,uiSchema:S,registry:H})}var Pt=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function Zt(r){var u=r.id,d=r.value,E=r.readonly,S=r.disabled,_=r.autofocus,H=r.onBlur,ie=r.onFocus,me=r.onChange,le=r.onChangeOverride,Fe=r.options,Ve=r.schema,qe=r.type,be=Ci(r,Pt);if(!u)throw console.log("No id for",r),new Error("no id for props "+JSON.stringify(r));var Ge=Rr({},be,(0,at.TC)(Ve,qe,Fe)),Ue;Ge.type==="number"||Ge.type==="integer"?Ue=d||d===0?d:"":Ue=d==null?"":d;var St=(0,F.useCallback)(function(Dt){var ir=Dt.target.value;return me(ir===""?Fe.emptyValue:ir)},[me,Fe]),Rt=(0,F.useCallback)(function(Dt){var ir=Dt.target.value;return H(u,ir)},[H,u]),Ht=(0,F.useCallback)(function(Dt){var ir=Dt.target.value;return ie(u,ir)},[ie,u]);return(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("input",Rr({id:u,name:u,className:"form-control",readOnly:E,disabled:S,autoFocus:_,value:Ue},Ge,{list:Ve.examples?(0,at.RS)(u):void 0,onChange:le||St,onBlur:Rt,onFocus:Ht,"aria-describedby":(0,at.Jx)(u,!!Ve.examples)})),Array.isArray(Ve.examples)&&(0,ht.jsx)("datalist",{id:(0,at.RS)(u),children:Ve.examples.concat(Ve.default&&!Ve.examples.includes(Ve.default)?[Ve.default]:[]).map(function(Dt){return(0,ht.jsx)("option",{value:Dt},Dt)})},"datalist_"+u)]})}function qt(r){var u=r.uiSchema,d=(0,at.rF)(u),E=d.submitText,S=d.norender,_=d.props,H=_===void 0?{}:_;return S?null:(0,ht.jsx)("div",{children:(0,ht.jsx)("button",Rr({type:"submit"},H,{className:"btn btn-info "+(H.className||""),children:E}))})}var Qr=["iconType","icon","className","uiSchema","registry"];function en(r){var u=r.iconType,d=u===void 0?"default":u,E=r.icon,S=r.className,_=Ci(r,Qr);return(0,ht.jsx)("button",Rr({type:"button",className:"btn btn-"+d+" "+S},_,{children:(0,ht.jsx)("i",{className:"glyphicon glyphicon-"+E})}))}function hn(r){var u=r.registry.translateString;return(0,ht.jsx)(en,Rr({title:u(at.g8.CopyButton),className:"array-item-copy"},r,{icon:"copy"}))}function Dn(r){var u=r.registry.translateString;return(0,ht.jsx)(en,Rr({title:u(at.g8.MoveDownButton),className:"array-item-move-down"},r,{icon:"arrow-down"}))}function Vn(r){var u=r.registry.translateString;return(0,ht.jsx)(en,Rr({title:u(at.g8.MoveUpButton),className:"array-item-move-up"},r,{icon:"arrow-up"}))}function Ii(r){var u=r.registry.translateString;return(0,ht.jsx)(en,Rr({title:u(at.g8.RemoveButton),className:"array-item-remove"},r,{iconType:"danger",icon:"remove"}))}function $o(r){var u=r.className,d=r.onClick,E=r.disabled,S=r.registry,_=S.translateString;return(0,ht.jsx)("div",{className:"row",children:(0,ht.jsx)("p",{className:"col-xs-3 col-xs-offset-9 text-right "+u,children:(0,ht.jsx)(en,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:_(at.g8.AddButton),onClick:d,disabled:E,registry:S})})})}function Jo(){return{SubmitButton:qt,AddButton:$o,CopyButton:hn,MoveDownButton:Dn,MoveUpButton:Vn,RemoveButton:Ii}}function Ka(r){var u=r.id,d=r.description;return d?typeof d=="string"?(0,ht.jsx)("p",{id:u,className:"field-description",children:d}):(0,ht.jsx)("div",{id:u,className:"field-description",children:d}):null}function Xa(r){var u=r.errors,d=r.registry,E=d.translateString;return(0,ht.jsxs)("div",{className:"panel panel-danger errors",children:[(0,ht.jsx)("div",{className:"panel-heading",children:(0,ht.jsx)("h3",{className:"panel-title",children:E(at.g8.ErrorsLabel)})}),(0,ht.jsx)("ul",{className:"list-group",children:u.map(function(S,_){return(0,ht.jsx)("li",{className:"list-group-item text-danger",children:S.stack},_)})})]})}var Qa="*";function Ma(r){var u=r.label,d=r.required,E=r.id;return u?(0,ht.jsxs)("label",{className:"control-label",htmlFor:E,children:[u,d&&(0,ht.jsx)("span",{className:"required",children:Qa})]}):null}function $a(r){var u=r.id,d=r.label,E=r.children,S=r.errors,_=r.help,H=r.description,ie=r.hidden,me=r.required,le=r.displayLabel,Fe=r.registry,Ve=r.uiSchema,qe=(0,at.LI)(Ve),be=(0,at.t4)("WrapIfAdditionalTemplate",Fe,qe);return ie?(0,ht.jsx)("div",{className:"hidden",children:E}):(0,ht.jsxs)(be,Rr({},r,{children:[le&&(0,ht.jsx)(Ma,{label:d,required:me,id:u}),le&&H?H:null,E,S,_]}))}function qs(r){var u=r.errors,d=u===void 0?[]:u,E=r.idSchema;if(d.length===0)return null;var S=(0,at.UR)(E);return(0,ht.jsx)("div",{children:(0,ht.jsx)("ul",{id:S,className:"error-detail bs-callout bs-callout-info",children:d.filter(function(_){return!!_}).map(function(_,H){return(0,ht.jsx)("li",{className:"text-danger",children:_},H)})})})}function nl(r){var u=r.idSchema,d=r.help;if(!d)return null;var E=(0,at.JL)(u);return typeof d=="string"?(0,ht.jsx)("p",{id:E,className:"help-block",children:d}):(0,ht.jsx)("div",{id:E,className:"help-block",children:d})}function za(r){var u=r.description,d=r.disabled,E=r.formData,S=r.idSchema,_=r.onAddClick,H=r.properties,ie=r.readonly,me=r.registry,le=r.required,Fe=r.schema,Ve=r.title,qe=r.uiSchema,be=(0,at.LI)(qe),Ge=(0,at.t4)("TitleFieldTemplate",me,be),Ue=(0,at.t4)("DescriptionFieldTemplate",me,be),St=me.templates.ButtonTemplates.AddButton;return(0,ht.jsxs)("fieldset",{id:S.$id,children:[Ve&&(0,ht.jsx)(Ge,{id:(0,at.Vt)(S),title:Ve,required:le,schema:Fe,uiSchema:qe,registry:me}),u&&(0,ht.jsx)(Ue,{id:(0,at.Si)(S),description:u,schema:Fe,uiSchema:qe,registry:me}),H.map(function(Rt){return Rt.content}),(0,at.Rc)(Fe,qe,E)&&(0,ht.jsx)(St,{className:"object-property-expand",onClick:_(Fe),disabled:d||ie,uiSchema:qe,registry:me})]})}var il="*";function ya(r){var u=r.id,d=r.title,E=r.required;return(0,ht.jsxs)("legend",{id:u,children:[d,E&&(0,ht.jsx)("span",{className:"required",children:il})]})}function va(r){var u=r.schema,d=r.idSchema,E=r.reason,S=r.registry,_=S.translateString,H=at.g8.UnsupportedField,ie=[];return d&&d.$id&&(H=at.g8.UnsupportedFieldWithId,ie.push(d.$id)),E&&(H=H===at.g8.UnsupportedField?at.g8.UnsupportedFieldWithReason:at.g8.UnsupportedFieldWithIdAndReason,ie.push(E)),(0,ht.jsxs)("div",{className:"unsupported-field",children:[(0,ht.jsx)("p",{children:(0,ht.jsx)(xn,{children:_(H,ie)})}),u&&(0,ht.jsx)("pre",{children:JSON.stringify(u,null,2)})]})}function Ol(r){var u=r.id,d=r.classNames,E=r.style,S=r.disabled,_=r.label,H=r.onKeyChange,ie=r.onDropPropertyClick,me=r.readonly,le=r.required,Fe=r.schema,Ve=r.children,qe=r.uiSchema,be=r.registry,Ge=be.templates,Ue=be.translateString,St=Ge.ButtonTemplates.RemoveButton,Rt=Ue(at.g8.KeyLabel,[_]),Ht=at.jk in Fe;return Ht?(0,ht.jsx)("div",{className:d,style:E,children:(0,ht.jsxs)("div",{className:"row",children:[(0,ht.jsx)("div",{className:"col-xs-5 form-additional",children:(0,ht.jsxs)("div",{className:"form-group",children:[(0,ht.jsx)(Ma,{label:Rt,required:le,id:u+"-key"}),(0,ht.jsx)("input",{className:"form-control",type:"text",id:u+"-key",onBlur:function(ir){return H(ir.target.value)},defaultValue:_})]})}),(0,ht.jsx)("div",{className:"form-additional form-group col-xs-5",children:Ve}),(0,ht.jsx)("div",{className:"col-xs-2",children:(0,ht.jsx)(St,{className:"array-item-remove btn-block",style:{border:"0"},disabled:S||me,onClick:ie(_),uiSchema:qe,registry:be})})]})}):(0,ht.jsx)("div",{className:d,style:E,children:Ve})}function vl(){return{ArrayFieldDescriptionTemplate:ue,ArrayFieldItemTemplate:je,ArrayFieldTemplate:Et,ArrayFieldTitleTemplate:Nt,ButtonTemplates:Jo(),BaseInputTemplate:Zt,DescriptionFieldTemplate:Ka,ErrorListTemplate:Xa,FieldTemplate:$a,FieldErrorTemplate:qs,FieldHelpTemplate:nl,ObjectFieldTemplate:za,TitleFieldTemplate:ya,UnsupportedFieldTemplate:va,WrapIfAdditionalTemplate:Ol}}function xl(r,u){for(var d=[],E=r;E<=u;E++)d.push({value:E,label:(0,at.vk)(E,2)});return d}function Cl(r){return Object.values(r).every(function(u){return u!==-1})}function Pl(r,u,d){d===void 0&&(d=[1900,new Date().getFullYear()+2]);var E=r.year,S=r.month,_=r.day,H=r.hour,ie=r.minute,me=r.second,le=[{type:"year",range:d,value:E},{type:"month",range:[1,12],value:S},{type:"day",range:[1,31],value:_}];return u&&le.push({type:"hour",range:[0,23],value:H},{type:"minute",range:[0,59],value:ie},{type:"second",range:[0,59],value:me}),le}function bl(r){var u=r.type,d=r.range,E=r.value,S=r.select,_=r.rootId,H=r.name,ie=r.disabled,me=r.readonly,le=r.autofocus,Fe=r.registry,Ve=r.onBlur,qe=r.onFocus,be=_+"_"+u,Ge=Fe.widgets.SelectWidget;return(0,ht.jsx)(Ge,{schema:{type:"integer"},id:be,name:H,className:"form-control",options:{enumOptions:xl(d[0],d[1])},placeholder:u,value:E,disabled:ie,readonly:me,autofocus:le,onChange:function(St){return S(u,St)},onBlur:Ve,onFocus:qe,registry:Fe,label:"","aria-describedby":(0,at.Jx)(_)})}function Al(r){var u=r.time,d=u===void 0?!1:u,E=r.disabled,S=E===void 0?!1:E,_=r.readonly,H=_===void 0?!1:_,ie=r.autofocus,me=ie===void 0?!1:ie,le=r.options,Fe=r.id,Ve=r.name,qe=r.registry,be=r.onBlur,Ge=r.onFocus,Ue=r.onChange,St=r.value,Rt=qe.translateString,Ht=(0,F.useState)(St),Dt=Ht[0],ir=Ht[1],gr=(0,F.useReducer)(function(Ir,dn){return Rr({},Ir,dn)},(0,at.xk)(St,d)),Fr=gr[0],xr=gr[1];(0,F.useEffect)(function(){var Ir=(0,at.tC)(Fr,d);Cl(Fr)&&Ir!==St?Ue(Ir):Dt!==St&&(ir(St),xr((0,at.xk)(St,d)))},[d,St,Ue,Fr,Dt]);var pr=(0,F.useCallback)(function(Ir,dn){var Ln;xr((Ln={},Ln[Ir]=dn,Ln))},[]),tn=(0,F.useCallback)(function(Ir){if(Ir.preventDefault(),!(S||H)){var dn=(0,at.xk)(new Date().toJSON(),d);Ue((0,at.tC)(dn,d))}},[S,H,d]),vn=(0,F.useCallback)(function(Ir){Ir.preventDefault(),!(S||H)&&Ue(void 0)},[S,H,Ue]);return(0,ht.jsxs)("ul",{className:"list-inline",children:[Pl(Fr,d,le.yearsRange).map(function(Ir,dn){return(0,ht.jsx)("li",{className:"list-inline-item",children:(0,ht.jsx)(bl,Rr({rootId:Fe,name:Ve,select:pr},Ir,{disabled:S,readonly:H,registry:qe,onBlur:be,onFocus:Ge,autofocus:me&&dn===0}))},dn)}),(le.hideNowButton!=="undefined"?!le.hideNowButton:!0)&&(0,ht.jsx)("li",{className:"list-inline-item",children:(0,ht.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:tn,children:Rt(at.g8.NowLabel)})}),(le.hideClearButton!=="undefined"?!le.hideClearButton:!0)&&(0,ht.jsx)("li",{className:"list-inline-item",children:(0,ht.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:vn,children:Rt(at.g8.ClearLabel)})})]})}var f=["time"];function i(r){var u=r.time,d=u===void 0?!0:u,E=Ci(r,f),S=E.registry.widgets.AltDateWidget;return(0,ht.jsx)(S,Rr({time:d},E))}function m(r){var u,d=r.schema,E=r.uiSchema,S=r.options,_=r.id,H=r.value,ie=r.disabled,me=r.readonly,le=r.label,Fe=r.hideLabel,Ve=r.autofocus,qe=Ve===void 0?!1:Ve,be=r.onBlur,Ge=r.onFocus,Ue=r.onChange,St=r.registry,Rt=(0,at.t4)("DescriptionFieldTemplate",St,S),Ht=(0,at.iE)(d),Dt=(0,F.useCallback)(function(xr){return Ue(xr.target.checked)},[Ue]),ir=(0,F.useCallback)(function(xr){return be(_,xr.target.checked)},[be,_]),gr=(0,F.useCallback)(function(xr){return Ge(_,xr.target.checked)},[Ge,_]),Fr=(u=S.description)!=null?u:d.description;return(0,ht.jsxs)("div",{className:"checkbox "+(ie||me?"disabled":""),children:[!Fe&&!!Fr&&(0,ht.jsx)(Rt,{id:(0,at.Si)(_),description:Fr,schema:d,uiSchema:E,registry:St}),(0,ht.jsxs)("label",{children:[(0,ht.jsx)("input",{type:"checkbox",id:_,name:_,checked:typeof H=="undefined"?!1:H,required:Ht,disabled:ie||me,autoFocus:qe,onChange:Dt,onBlur:ir,onFocus:gr,"aria-describedby":(0,at.Jx)(_)}),(0,at.RY)((0,ht.jsx)("span",{children:le}),Fe)]})]})}function b(r){var u=r.id,d=r.disabled,E=r.options,S=E.inline,_=S===void 0?!1:S,H=E.enumOptions,ie=E.enumDisabled,me=E.emptyValue,le=r.value,Fe=r.autofocus,Ve=Fe===void 0?!1:Fe,qe=r.readonly,be=r.onChange,Ge=r.onBlur,Ue=r.onFocus,St=Array.isArray(le)?le:[le],Rt=(0,F.useCallback)(function(Dt){var ir=Dt.target.value;return Ge(u,(0,at.QP)(ir,H,me))},[Ge,u]),Ht=(0,F.useCallback)(function(Dt){var ir=Dt.target.value;return Ue(u,(0,at.QP)(ir,H,me))},[Ue,u]);return(0,ht.jsx)("div",{className:"checkboxes",id:u,children:Array.isArray(H)&&H.map(function(Dt,ir){var gr=(0,at.TR)(Dt.value,St),Fr=Array.isArray(ie)&&ie.indexOf(Dt.value)!==-1,xr=d||Fr||qe?"disabled":"",pr=function(Ir){Ir.target.checked?be((0,at.U3)(ir,St,H)):be((0,at.aI)(ir,St,H))},tn=(0,ht.jsxs)("span",{children:[(0,ht.jsx)("input",{type:"checkbox",id:(0,at.DK)(u,ir),name:u,checked:gr,value:String(ir),disabled:d||Fr||qe,autoFocus:Ve&&ir===0,onChange:pr,onBlur:Rt,onFocus:Ht,"aria-describedby":(0,at.Jx)(u)}),(0,ht.jsx)("span",{children:Dt.label})]});return _?(0,ht.jsx)("label",{className:"checkbox-inline "+xr,children:tn},ir):(0,ht.jsx)("div",{className:"checkbox "+xr,children:(0,ht.jsx)("label",{children:tn})},ir)})})}function A(r){var u=r.disabled,d=r.readonly,E=r.options,S=r.registry,_=(0,at.t4)("BaseInputTemplate",S,E);return(0,ht.jsx)(_,Rr({type:"color"},r,{disabled:u||d}))}function B(r){var u=r.onChange,d=r.options,E=r.registry,S=(0,at.t4)("BaseInputTemplate",E,d),_=(0,F.useCallback)(function(H){return u(H||void 0)},[u]);return(0,ht.jsx)(S,Rr({type:"date"},r,{onChange:_}))}function se(r){var u=r.onChange,d=r.value,E=r.options,S=r.registry,_=(0,at.t4)("BaseInputTemplate",S,E);return(0,ht.jsx)(_,Rr({type:"datetime-local"},r,{value:(0,at.Yp)(d),onChange:function(ie){return u((0,at._4)(ie))}}))}function Ce(r){var u=r.options,d=r.registry,E=(0,at.t4)("BaseInputTemplate",d,u);return(0,ht.jsx)(E,Rr({type:"email"},r))}function $e(r,u){return r===null?null:r.replace(";base64",";name="+encodeURIComponent(u)+";base64")}function yt(r){var u=r.name,d=r.size,E=r.type;return new Promise(function(S,_){var H=new window.FileReader;H.onerror=_,H.onload=function(ie){var me;typeof((me=ie.target)===null||me===void 0?void 0:me.result)=="string"?S({dataURL:$e(ie.target.result,u),name:u,size:d,type:E}):S({dataURL:null,name:u,size:d,type:E})},H.readAsDataURL(r)})}function _t(r){return Promise.all(Array.from(r).map(yt))}function sr(r){var u=r.fileInfo,d=r.registry,E=d.translateString,S=u.dataURL,_=u.type,H=u.name;return S?_.indexOf("image")!==-1?(0,ht.jsx)("img",{src:S,style:{maxWidth:"100%"},className:"file-preview"}):(0,ht.jsxs)(ht.Fragment,{children:[" ",(0,ht.jsx)("a",{download:"preview-"+H,href:S,className:"file-download",children:E(at.g8.PreviewLabel)})]}):null}function on(r){var u=r.filesInfo,d=r.registry,E=r.preview;if(u.length===0)return null;var S=d.translateString;return(0,ht.jsx)("ul",{className:"file-info",children:u.map(function(_,H){var ie=_.name,me=_.size,le=_.type;return(0,ht.jsxs)("li",{children:[(0,ht.jsx)(xn,{children:S(at.g8.FilesInfo,[ie,le,String(me)])}),E&&(0,ht.jsx)(sr,{fileInfo:_,registry:d})]},H)})})}function In(r){return r.filter(function(u){return u}).map(function(u){var d=(0,at.OP)(u),E=d.blob,S=d.name;return{dataURL:u,name:S,size:E.size,type:E.type}})}function Li(r){var u=r.disabled,d=r.readonly,E=r.required,S=r.multiple,_=r.onChange,H=r.value,ie=r.options,me=r.registry,le=(0,at.t4)("BaseInputTemplate",me,ie),Fe=(0,F.useState)(Array.isArray(H)?In(H):In([H])),Ve=Fe[0],qe=Fe[1],be=(0,F.useCallback)(function(Ge){Ge.target.files&&_t(Ge.target.files).then(function(Ue){var St=Ue.map(function(Rt){return Rt.dataURL});S?(qe(Ve.concat(Ue[0])),_(H.concat(St[0]))):(qe(Ue),_(St[0]))})},[S,H,Ve,_]);return(0,ht.jsxs)("div",{children:[(0,ht.jsx)(le,Rr({},r,{disabled:u||d,type:"file",required:H?!1:E,onChangeOverride:be,value:"",accept:ie.accept?String(ie.accept):void 0})),(0,ht.jsx)(on,{filesInfo:Ve,registry:me,preview:ie.filePreview})]})}function ea(r){var u=r.id,d=r.value;return(0,ht.jsx)("input",{type:"hidden",id:u,name:u,value:typeof d=="undefined"?"":d})}function al(r){var u=r.options,d=r.registry,E=(0,at.t4)("BaseInputTemplate",d,u);return(0,ht.jsx)(E,Rr({type:"password"},r))}function qa(r){var u=r.options,d=r.value,E=r.required,S=r.disabled,_=r.readonly,H=r.autofocus,ie=H===void 0?!1:H,me=r.onBlur,le=r.onFocus,Fe=r.onChange,Ve=r.id,qe=u.enumOptions,be=u.enumDisabled,Ge=u.inline,Ue=u.emptyValue,St=(0,F.useCallback)(function(Ht){var Dt=Ht.target.value;return me(Ve,(0,at.QP)(Dt,qe,Ue))},[me,Ve]),Rt=(0,F.useCallback)(function(Ht){var Dt=Ht.target.value;return le(Ve,(0,at.QP)(Dt,qe,Ue))},[le,Ve]);return(0,ht.jsx)("div",{className:"field-radio-group",id:Ve,children:Array.isArray(qe)&&qe.map(function(Ht,Dt){var ir=(0,at.TR)(Ht.value,d),gr=Array.isArray(be)&&be.indexOf(Ht.value)!==-1,Fr=S||gr||_?"disabled":"",xr=function(){return Fe(Ht.value)},pr=(0,ht.jsxs)("span",{children:[(0,ht.jsx)("input",{type:"radio",id:(0,at.DK)(Ve,Dt),checked:ir,name:Ve,required:E,value:String(Dt),disabled:S||gr||_,autoFocus:ie&&Dt===0,onChange:xr,onBlur:St,onFocus:Rt,"aria-describedby":(0,at.Jx)(Ve)}),(0,ht.jsx)("span",{children:Ht.label})]});return Ge?(0,ht.jsx)("label",{className:"radio-inline "+Fr,children:pr},Dt):(0,ht.jsx)("div",{className:"radio "+Fr,children:(0,ht.jsx)("label",{children:pr})},Dt)})})}function so(r){var u=r.value,d=r.registry.templates.BaseInputTemplate;return(0,ht.jsxs)("div",{className:"field-range-wrapper",children:[(0,ht.jsx)(d,Rr({type:"range"},r)),(0,ht.jsx)("span",{className:"range-view",children:u})]})}function Ls(r,u){return u?Array.from(r.target.options).slice().filter(function(d){return d.selected}).map(function(d){return d.value}):r.target.value}function Os(r){var u=r.schema,d=r.id,E=r.options,S=r.value,_=r.required,H=r.disabled,ie=r.readonly,me=r.multiple,le=me===void 0?!1:me,Fe=r.autofocus,Ve=Fe===void 0?!1:Fe,qe=r.onChange,be=r.onBlur,Ge=r.onFocus,Ue=r.placeholder,St=E.enumOptions,Rt=E.enumDisabled,Ht=E.emptyValue,Dt=le?[]:"",ir=(0,F.useCallback)(function(pr){var tn=Ls(pr,le);return Ge(d,(0,at.QP)(tn,St,Ht))},[Ge,d,u,le,E]),gr=(0,F.useCallback)(function(pr){var tn=Ls(pr,le);return be(d,(0,at.QP)(tn,St,Ht))},[be,d,u,le,E]),Fr=(0,F.useCallback)(function(pr){var tn=Ls(pr,le);return qe((0,at.QP)(tn,St,Ht))},[qe,u,le,E]),xr=(0,at.Rt)(S,St,le);return(0,ht.jsxs)("select",{id:d,name:d,multiple:le,className:"form-control",value:typeof xr=="undefined"?Dt:xr,required:_,disabled:H||ie,autoFocus:Ve,onBlur:gr,onFocus:ir,onChange:Fr,"aria-describedby":(0,at.Jx)(d),children:[!le&&u.default===void 0&&(0,ht.jsx)("option",{value:"",children:Ue}),Array.isArray(St)&&St.map(function(pr,tn){var vn=pr.value,Ir=pr.label,dn=Rt&&Rt.indexOf(vn)!==-1;return(0,ht.jsx)("option",{value:String(tn),disabled:dn,children:Ir},tn)})]})}function To(r){var u=r.id,d=r.options,E=d===void 0?{}:d,S=r.placeholder,_=r.value,H=r.required,ie=r.disabled,me=r.readonly,le=r.autofocus,Fe=le===void 0?!1:le,Ve=r.onChange,qe=r.onBlur,be=r.onFocus,Ge=(0,F.useCallback)(function(Rt){var Ht=Rt.target.value;return Ve(Ht===""?E.emptyValue:Ht)},[Ve,E.emptyValue]),Ue=(0,F.useCallback)(function(Rt){var Ht=Rt.target.value;return qe(u,Ht)},[qe,u]),St=(0,F.useCallback)(function(Rt){var Ht=Rt.target.value;return be(u,Ht)},[u,be]);return(0,ht.jsx)("textarea",{id:u,name:u,className:"form-control",value:_||"",placeholder:S,required:H,disabled:ie,readOnly:me,autoFocus:Fe,rows:E.rows,onBlur:Ue,onFocus:St,onChange:Ge,"aria-describedby":(0,at.Jx)(u)})}To.defaultProps={autofocus:!1,options:{}};function Ia(r){var u=r.options,d=r.registry,E=(0,at.t4)("BaseInputTemplate",d,u);return(0,ht.jsx)(E,Rr({},r))}function Ra(r){var u=r.onChange,d=r.options,E=r.registry,S=(0,at.t4)("BaseInputTemplate",E,d),_=(0,F.useCallback)(function(H){return u(H?H+":00":void 0)},[u]);return(0,ht.jsx)(S,Rr({type:"time"},r,{onChange:_}))}function hl(r){var u=r.options,d=r.registry,E=(0,at.t4)("BaseInputTemplate",d,u);return(0,ht.jsx)(E,Rr({type:"url"},r))}function Io(r){var u=r.options,d=r.registry,E=(0,at.t4)("BaseInputTemplate",d,u);return(0,ht.jsx)(E,Rr({type:"number"},r))}function Ha(){return{AltDateWidget:Al,AltDateTimeWidget:i,CheckboxWidget:m,CheckboxesWidget:b,ColorWidget:A,DateWidget:B,DateTimeWidget:se,EmailWidget:Ce,FileWidget:Li,HiddenWidget:ea,PasswordWidget:al,RadioWidget:qa,RangeWidget:so,SelectWidget:Os,TextWidget:Ia,TextareaWidget:To,TimeWidget:Ra,UpDownWidget:Io,URLWidget:hl}}function ll(){return{fields:he(),templates:vl(),widgets:Ha(),rootSchema:{},formContext:{},translateString:at.XG}}var ul=function(r){ds(u,r);function u(E){var S;if(S=r.call(this,E)||this,S.formElement=void 0,S.getUsedFormData=function(_,H){if(H.length===0&&typeof _!="object")return _;var ie=Un(_,H);return Array.isArray(_)?Object.keys(ie).map(function(me){return ie[me]}):ie},S.getFieldNames=function(_,H){var ie=function me(le,Fe,Ve){return Fe===void 0&&(Fe=[]),Ve===void 0&&(Ve=[[]]),Object.keys(le).forEach(function(qe){if(typeof le[qe]=="object"){var be=Ve.map(function(Ge){return[].concat(Ge,[qe])});le[qe][at.g$]&&le[qe][at.PK]!==""?Fe.push(le[qe][at.PK]):me(le[qe],Fe,be)}else qe===at.PK&&le[qe]!==""&&Ve.forEach(function(Ge){var Ue=(0,Ti.Z)(H,Ge);(typeof Ue!="object"||(0,Ei.Z)(Ue))&&Fe.push(Ge)})}),Fe};return ie(_)},S.onChange=function(_,H,ie){var me=S.props,le=me.extraErrors,Fe=me.omitExtraData,Ve=me.liveOmit,qe=me.noValidate,be=me.liveValidate,Ge=me.onChange,Ue=S.state,St=Ue.schemaUtils,Rt=Ue.schema;if((0,at.Kn)(_)||Array.isArray(_)){var Ht=S.getStateFromProps(S.props,_);_=Ht.formData}var Dt=!qe&&be,ir={formData:_,schema:Rt},gr=_;if(Fe===!0&&Ve===!0){var Fr=St.retrieveSchema(Rt,_),xr=St.toPathSchema(Fr,"",_),pr=S.getFieldNames(xr,_);gr=S.getUsedFormData(_,pr),ir={formData:gr}}if(Dt){var tn=S.validate(gr),vn=tn.errors,Ir=tn.errorSchema,dn=vn,Ln=Ir;if(le){var Kn=(0,at.J0)(tn,le);Ir=Kn.errorSchema,vn=Kn.errors}ir={formData:gr,errors:vn,errorSchema:Ir,schemaValidationErrors:dn,schemaValidationErrorSchema:Ln}}else if(!qe&&H){var Rn=le?(0,at.PM)(H,le,"preventDuplicates"):H;ir={formData:gr,errorSchema:Rn,errors:(0,at.mp)(Rn)}}S.setState(ir,function(){return Ge&&Ge(Rr({},S.state,ir),ie)})},S.reset=function(){var _=S.props.onChange,H=S.getStateFromProps(S.props,void 0),ie=H.formData,me={formData:ie,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};S.setState(me,function(){return _&&_(Rr({},S.state,me))})},S.onBlur=function(_,H){var ie=S.props.onBlur;ie&&ie(_,H)},S.onFocus=function(_,H){var ie=S.props.onFocus;ie&&ie(_,H)},S.onSubmit=function(_){if(_.preventDefault(),_.target===_.currentTarget){_.persist();var H=S.props,ie=H.omitExtraData,me=H.extraErrors,le=H.noValidate,Fe=H.onSubmit,Ve=S.state.formData,qe=S.state,be=qe.schema,Ge=qe.schemaUtils;if(ie===!0){var Ue=Ge.retrieveSchema(be,Ve),St=Ge.toPathSchema(Ue,"",Ve),Rt=S.getFieldNames(St,Ve);Ve=S.getUsedFormData(Ve,Rt)}if(le||S.validateForm()){var Ht=me||{},Dt=me?(0,at.mp)(me):[];S.setState({formData:Ve,errors:Dt,errorSchema:Ht,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){Fe&&Fe(Rr({},S.state,{formData:Ve,status:"submitted"}),_)})}}},!E.validator)throw new Error("A validator is required for Form functionality to work");return S.state=S.getStateFromProps(E,E.formData),S.props.onChange&&!(0,at.qt)(S.state.formData,S.props.formData)&&S.props.onChange(S.state),S.formElement=(0,F.createRef)(),S}var d=u.prototype;return d.UNSAFE_componentWillReceiveProps=function(S){var _=this.getStateFromProps(S,S.formData);!(0,at.qt)(_.formData,S.formData)&&!(0,at.qt)(_.formData,this.state.formData)&&S.onChange&&S.onChange(_),this.setState(_)},d.getStateFromProps=function(S,_){var H=this.state||{},ie="schema"in S?S.schema:this.props.schema,me=("uiSchema"in S?S.uiSchema:this.props.uiSchema)||{},le=typeof _!="undefined",Fe="liveValidate"in S?S.liveValidate:this.props.liveValidate,Ve=le&&!S.noValidate&&Fe,qe=ie,be="experimental_defaultFormStateBehavior"in S?S.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,Ge=H.schemaUtils;(!Ge||Ge.doesSchemaUtilsDiffer(S.validator,qe,be))&&(Ge=(0,at.hf)(S.validator,qe,be));var Ue=Ge.getDefaultFormState(ie,_),St=Ge.retrieveSchema(ie,Ue),Rt=function(){return S.noValidate?{errors:[],errorSchema:{}}:S.liveValidate?{errors:H.errors||[],errorSchema:H.errorSchema||{}}:{errors:H.schemaValidationErrors||[],errorSchema:H.schemaValidationErrorSchema||{}}},Ht,Dt,ir=H.schemaValidationErrors,gr=H.schemaValidationErrorSchema;if(Ve){var Fr=this.validate(Ue,ie,Ge);Ht=Fr.errors,Dt=Fr.errorSchema,ir=Ht,gr=Dt}else{var xr=Rt();Ht=xr.errors,Dt=xr.errorSchema}if(S.extraErrors){var pr=(0,at.J0)({errorSchema:Dt,errors:Ht},S.extraErrors);Dt=pr.errorSchema,Ht=pr.errors}var tn=Ge.toIdSchema(St,me["ui:rootFieldId"],Ue,S.idPrefix,S.idSeparator),vn={schemaUtils:Ge,schema:ie,uiSchema:me,idSchema:tn,formData:Ue,edit:le,errors:Ht,errorSchema:Dt,schemaValidationErrors:ir,schemaValidationErrorSchema:gr};return vn},d.shouldComponentUpdate=function(S,_){return(0,at.N0)(this,S,_)},d.validate=function(S,_,H){_===void 0&&(_=this.props.schema);var ie=H||this.state.schemaUtils,me=this.props,le=me.customValidate,Fe=me.transformErrors,Ve=me.uiSchema,qe=ie.retrieveSchema(_,S);return ie.getValidator().validateFormData(S,qe,le,Fe,Ve)},d.renderErrors=function(S){var _=this.state,H=_.errors,ie=_.errorSchema,me=_.schema,le=_.uiSchema,Fe=this.props.formContext,Ve=(0,at.LI)(le),qe=(0,at.t4)("ErrorListTemplate",S,Ve);return H&&H.length?(0,ht.jsx)(qe,{errors:H,errorSchema:ie||{},schema:me,uiSchema:le,formContext:Fe,registry:S}):null},d.getRegistry=function(){var S,_=this.props,H=_.translateString,ie=_.uiSchema,me=ie===void 0?{}:ie,le=this.state.schemaUtils,Fe=ll(),Ve=Fe.fields,qe=Fe.templates,be=Fe.widgets,Ge=Fe.formContext,Ue=Fe.translateString;return{fields:Rr({},Ve,this.props.fields),templates:Rr({},qe,this.props.templates,{ButtonTemplates:Rr({},qe.ButtonTemplates,(S=this.props.templates)===null||S===void 0?void 0:S.ButtonTemplates)}),widgets:Rr({},be,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||Ge,schemaUtils:le,translateString:H||Ue,globalUiOptions:me[at.J1]}},d.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},d.focusOnError=function(S){var _=this.props,H=_.idPrefix,ie=H===void 0?"root":H,me=_.idSeparator,le=me===void 0?"_":me,Fe=S.property,Ve=(0,Ji.Z)(Fe);Ve[0]===""?Ve[0]=ie:Ve.unshift(ie);var qe=Ve.join(le),be=this.formElement.current.elements[qe];be||(be=this.formElement.current.querySelector("input[id^="+qe)),be&&be.length&&(be=be[0]),be&&be.focus()},d.validateForm=function(){var S=this.props,_=S.extraErrors,H=S.focusOnFirstError,ie=S.onError,me=this.state.formData,le=this.validate(me),Fe=le.errors,Ve=le.errorSchema,qe=Fe,be=Ve;if(Fe.length>0){if(_){var Ge=(0,at.J0)(le,_);Ve=Ge.errorSchema,Fe=Ge.errors}return H&&(typeof H=="function"?H(le.errors[0]):this.focusOnError(le.errors[0])),this.setState({errors:Fe,errorSchema:Ve,schemaValidationErrors:qe,schemaValidationErrorSchema:be},function(){ie?ie(Fe):console.error("Form validation failed",Fe)}),!1}return!0},d.render=function(){var S,_,H=this.props,ie=H.children,me=H.id,le=H.idPrefix,Fe=H.idSeparator,Ve=H.className,qe=Ve===void 0?"":Ve,be=H.tagName,Ge=H.name,Ue=H.method,St=H.target,Rt=H.action,Ht=H.autoComplete,Dt=H.enctype,ir=H.acceptcharset,gr=H.noHtml5Validate,Fr=gr===void 0?!1:gr,xr=H.disabled,pr=xr===void 0?!1:xr,tn=H.readonly,vn=tn===void 0?!1:tn,Ir=H.formContext,dn=H.showErrorList,Ln=dn===void 0?"top":dn,Kn=H._internalFormWrapper,Rn=this.state,si=Rn.schema,_i=Rn.uiSchema,ai=Rn.formData,li=Rn.errorSchema,di=Rn.idSchema,Ui=this.getRegistry(),Ro=Ui.fields.SchemaField,Xi=Ui.templates.ButtonTemplates.SubmitButton,hs=Kn?be:void 0,Bs=Kn||be||"form",Fo=(0,at.LI)(_i),Di=Fo[at.t5],ui=Di===void 0?{}:Di;pr&&(ui=Rr({},ui,{props:Rr({},ui.props,{disabled:!0})}));var rs=(_={},_[at.ji]=(S={},S[at.t5]=ui,S),_);return(0,ht.jsxs)(Bs,{className:qe||"rjsf",id:me,name:Ge,method:Ue,target:St,action:Rt,autoComplete:Ht,encType:Dt,acceptCharset:ir,noValidate:Fr,onSubmit:this.onSubmit,as:hs,ref:this.formElement,children:[Ln==="top"&&this.renderErrors(Ui),(0,ht.jsx)(Ro,{name:"",schema:si,uiSchema:_i,errorSchema:li,idSchema:di,idPrefix:le,idSeparator:Fe,formContext:Ir,formData:ai,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Ui,disabled:pr,readonly:vn}),ie||(0,ht.jsx)(Xi,{uiSchema:rs,registry:Ui}),Ln==="bottom"&&this.renderErrors(Ui)]})},u}(F.Component),gl=["fields","widgets","templates"];function yl(r){return(0,F.forwardRef)(function(u,d){var E,S,_=u.fields,H=u.widgets,ie=u.templates,me=Ci(u,gl);return _=Rr({},r==null?void 0:r.fields,_),H=Rr({},r==null?void 0:r.widgets,H),ie=Rr({},r==null?void 0:r.templates,ie,{ButtonTemplates:Rr({},r==null||(E=r.templates)===null||E===void 0?void 0:E.ButtonTemplates,(S=ie)===null||S===void 0?void 0:S.ButtonTemplates)}),(0,ht.jsx)(ul,Rr({},r,me,{fields:_,widgets:H,templates:ie,ref:d}))})}var ml=a(34520),Fa=a(64304),ta=a(52160),fl=a(67898),dl=a(27057),Tl=a(71140),Bl=a(34063),Wl=a(72779),Zl=a.n(Wl),Ul=a(34812),Vl=a(91750),Kl=a(70218),Sl=a(26228),zl=a(75951),Hl=a.n(zl),Jl=a(52084),Gl=a(82108),Yl=a.n(Gl),Xl=a(19996),Ql=a(25505),ql=a(38016),eu=a(88013),tu=a(61837),_l=a(86136),Dl=a(49378),kl=a(12231),ru=a(50758),nu=a(79784),iu=a(30254),ou=a(27604),su=a(5075),au=a(43054),ec=a(18473);function Ja(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function ol(r,u){if(!Ja(r))return;const{properties:d,items:E,anyOf:S,oneOf:_,allOf:H,dependencies:ie,then:me,else:le}=r;for(const Fe in r)r.hasOwnProperty(Fe)&&Fe.startsWith("ui:")&&(u[Fe]=r[Fe],delete r[Fe]);if(Ja(d))for(const Fe in d){if(!d.hasOwnProperty(Fe))continue;const Ve=d[Fe];if(!Ja(Ve))continue;const qe={};u[Fe]=qe,ol(Ve,qe)}if(Ja(E)){const Fe={};u.items=Fe,ol(E,Fe)}if(Array.isArray(S))for(const Fe of S)Ja(Fe)&&ol(Fe,u);if(Array.isArray(_))for(const Fe of _)Ja(Fe)&&ol(Fe,u);if(Array.isArray(H))for(const Fe of H)Ja(Fe)&&ol(Fe,u);if(Ja(ie))for(const Fe of Object.keys(ie)){const Ve=ie[Fe];Ja(Ve)&&ol(Ve,u)}Ja(me)&&ol(me,u),Ja(le)&&ol(le,u)}const El=r=>{const u={},d=JSON.parse(JSON.stringify(r));return ol(d,u),{uiSchema:u,schema:d}},lu=()=>{const r={__errors:[],addError:u=>{var d;(d=r.__errors)==null||d.push(u)}};return r};function uu(r){return!!r&&"__errors"in r}function Il(r){var u;if(!r)return!1;for(const d of Object.values(r)){if(uu(d)){if(((u=d.__errors)!=null?u:[]).length>0)return!0;continue}if(Il(d))return!0}return!1}function cu(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}const fu=(r,u,d)=>{async function E(S,_="#",H=S){var ie,me;const le=new Hn(r),Fe={},Ve=async(qe,be,Ge,Ue,St)=>{const Rt=u[qe];if(Rt){const Ht=lu();try{await Rt(Ge,Ht,{...d,formData:S,schema:Ue,uiSchema:St})}catch(Dt){Ht.addError(Dt.message)}Fe[be]=Ht}};for(const[qe,be]of Object.entries(H)){const Ge=`${_}/${qe}`,Ue=le.getSchema(Ge,S),{schema:St,uiSchema:Rt}=El(Ue),Ht=Ue&&Ue.items,Dt=async(gr,Fr,xr)=>{await Ve(gr["ui:field"],qe,be,Fr,xr)},ir=async gr=>{if("ui:field"in gr){const{schema:Fr,uiSchema:xr}=El(Ue.items);await Dt(gr,Fr,xr)}};if(Ue&&"ui:field"in Ue)await Dt(Ue,St,Rt);else if(Ht&&"ui:field"in Ue.items)await ir(Ue.items);else if(Ht&&Ue.items.type==="object"){const gr=(me=(ie=Ue.items)==null?void 0:ie.properties)!=null?me:[];for(const[,Fr]of Object.entries(gr))await ir(Fr)}else cu(be)&&(Fe[qe]=await E(S,Ge,be))}return Fe}return async S=>await E(S)},du=r=>{const u=Object.fromEntries(Object.entries(r.formState).map(([d,E])=>{var S;for(const _ of r.schemas){const ie=new Hn(_.mergedSchema).getSchema(`#/${d}`,r.formState);if(ie){const me=(S=ie["ui:backstage"])==null?void 0:S.review;if(me){if(me.mask)return[d,me.mask];if(me.show===!1)return[]}if(ie["ui:widget"]==="password")return[d,"******"]}}return[d,E]}));return F.createElement(ti.xT,{metadata:u})},hu=r=>{const u=(0,n.h_)(n.W0);return{steps:r.steps.map(({title:S,description:_,schema:H})=>({title:S,description:_,mergedSchema:H,...El(H)})).filter(S=>{var _;const H=(_=S.uiSchema["ui:backstage"])==null?void 0:_.featureFlag;return H?u.isActive(H):!0}).map(S=>{var _,H;return{...S,schema:{...S.schema,title:void 0,properties:Object.fromEntries(Object.entries((H=(_=S.schema)==null?void 0:_.properties)!=null?H:[]).filter(([ie])=>{var me,le;const Fe=(le=(me=S.uiSchema[ie])==null?void 0:me["ui:backstage"])==null?void 0:le.featureFlag;return Fe?u.isActive(Fe):!0}))}}})}},mu=r=>(0,F.useState)(()=>{if(r)return r;const u=Hi().parse(window.location.search,{ignoreQueryPrefix:!0});try{return JSON.parse(u.formData)}catch{return{}}}),pu=r=>{const u=(0,n.h_)(ps.s),{value:d,loading:E,error:S}=(0,wo.default)(()=>u.getTemplateParameterSchema(r),[u,r]);return{manifest:d,loading:E,error:S}},gu=(r,u={})=>{var d;const{layouts:E=[]}=u,S=r==null?void 0:r.uiSchema["ui:ObjectFieldTemplate"];if(typeof S!="string")return r;const _=(d=E.find(H=>H.name===S))==null?void 0:d.component;return _?{...r,uiSchema:{...r.uiSchema,["ui:ObjectFieldTemplate"]:_}}:r};var yu=Object.freeze({__proto__:null,DescriptionField:({description:r})=>r&&F.createElement(ti.SA,{content:r,linkTarget:"_blank"})});const vu=(0,p.Z)(r=>({markdownDescription:{fontSize:r.typography.caption.fontSize,margin:0,color:r.palette.text.secondary,"& :first-child":{margin:0,marginTop:"3px"}}})),bu=r=>{const{children:u,displayLabel:d=!0,rawErrors:E=[],errors:S,help:_,rawDescription:H,required:ie,disabled:me}=r,le=vu();return F.createElement(I.Z,{fullWidth:!0,error:!!E.length,required:ie,disabled:me},u,d&&H?F.createElement(ti.SA,{content:H,className:le.markdownDescription}):null,S,_)},Su=r=>{const{id:u,children:d,classNames:E,style:S,disabled:_,displayLabel:H,hidden:ie,label:me,onDropPropertyClick:le,onKeyChange:Fe,readonly:Ve,required:qe,rawErrors:be=[],errors:Ge,help:Ue,rawDescription:St,schema:Rt,uiSchema:Ht,registry:Dt}=r,ir=(0,at.LI)(Ht),gr=(0,at.t4)("WrapIfAdditionalTemplate",Dt,ir);return ie?F.createElement("div",{style:{display:"none"}},d):F.createElement(gr,{classNames:E,style:S,disabled:_,id:u,label:me,onDropPropertyClick:le,onKeyChange:Fe,readonly:Ve,required:qe,schema:Rt,uiSchema:Ht,registry:Dt},F.createElement(bu,{displayLabel:H,rawErrors:be,help:Ue,disabled:_,rawDescription:St,errors:Ge,required:qe},d))},Eu=(0,p.Z)(r=>({markdownDescription:{fontSize:r.typography.caption.fontSize,margin:0,color:r.palette.text.secondary,"& :first-child":{margin:0,marginTop:"3px"}}})),wu=r=>{const{id:u,description:d}=r,E=Eu();return d?typeof d=="string"?F.createElement(ti.SA,{content:d,className:E.markdownDescription}):F.createElement(O.Z,{id:u,variant:"subtitle2",style:{marginTop:"5px"}},d):null},Ou=yl(a(80070).Q2),Rl=r=>{const u={FieldTemplate:Su,DescriptionFieldTemplate:wu,...r.templates};return F.createElement(Ou,{...r,templates:u})},xu=(0,p.Z)(r=>({backButton:{marginRight:r.spacing(1)},footer:{display:"flex",flexDirection:"row",justifyContent:"right",marginTop:r.spacing(2)},formWrapper:{padding:r.spacing(2)}})),Fl=r=>{var u;const{layouts:d=[],components:E={},...S}=r,{ReviewStateComponent:_=du,createButtonText:H="Create",reviewButtonText:ie="Review"}=E,me=(0,n.z$)(),{steps:le}=hu(S.manifest),Fe=(0,n.I_)(),[Ve,qe]=(0,F.useState)(0),[be,Ge]=(0,F.useState)(!1),[Ue,St]=mu(S.initialState),[Rt,Ht]=(0,F.useState)(),Dt=xu(),ir=(0,F.useMemo)(()=>Object.fromEntries(S.extensions.map(({name:Ir,component:dn})=>[Ir,dn])),[S.extensions]),gr=(0,F.useMemo)(()=>Object.fromEntries(S.extensions.map(({name:Ir,validation:dn})=>[Ir,dn])),[S.extensions]),Fr=(0,F.useMemo)(()=>{var Ir;return fu((Ir=le[Ve])==null?void 0:Ir.mergedSchema,gr,{apiHolder:Fe})},[le,Ve,gr,Fe]),xr=()=>{qe(Ir=>Ir-1)},pr=(0,F.useCallback)(Ir=>St(dn=>({...dn,...Ir.formData})),[St]),tn=gu(le[Ve],{layouts:d}),vn=async({formData:Ir={}})=>{Ht(void 0),Ge(!0);const dn=await Fr(Ir);Ge(!1),Il(dn)?Ht(dn):(Ht(void 0),qe(Ln=>{const Kn=Ln+1;return me.captureEvent("click",`Next Step (${Kn})`),Kn})),St(Ln=>({...Ln,...Ir}))};return F.createElement(F.Fragment,null,be&&F.createElement(D.Z,{variant:"indeterminate"}),F.createElement(k.Z,{activeStep:Ve,alternativeLabel:!0,variant:"elevation"},le.map((Ir,dn)=>F.createElement(L.Z,{key:dn},F.createElement(M.Z,null,Ir.title))),F.createElement(L.Z,null,F.createElement(M.Z,null,"Review"))),F.createElement("div",{className:Dt.formWrapper},Ve<le.length?F.createElement(Rl,{validator:Mi.ZP,extraErrors:Rt,formData:Ue,formContext:{formData:Ue},schema:tn.schema,uiSchema:tn.uiSchema,onSubmit:vn,fields:{...yu,...ir},showErrorList:!1,onChange:pr,...(u=S.FormProps)!=null?u:{}},F.createElement("div",{className:Dt.footer},F.createElement($.Z,{onClick:xr,className:Dt.backButton,disabled:Ve<1||be},"Back"),F.createElement($.Z,{variant:"contained",color:"primary",type:"submit",disabled:be},Ve===le.length-1?ie:"Next"))):F.createElement(F.Fragment,null,F.createElement(_,{formState:Ue,schemas:le}),F.createElement("div",{className:Dt.footer},F.createElement($.Z,{onClick:xr,className:Dt.backButton,disabled:Ve<1},"Back"),F.createElement($.Z,{variant:"contained",color:"primary",onClick:()=>{var Ir;S.onCreate(Ue);const dn=typeof Ue.name=="string"?Ue.name:void 0;me.captureEvent("create",(Ir=dn!=null?dn:S.templateName)!=null?Ir:"unknown")}},H)))))},Cu=(0,p.Z)(()=>({header:{backgroundImage:({cardBackgroundImage:r})=>r,color:({cardFontColor:r})=>r},subtitleWrapper:{display:"flex",justifyContent:"space-between"}})),Pu=r=>{const{template:{metadata:{title:u,name:d},spec:{type:E}}}=r,{getPageTheme:S}=(0,z.Z)(),_=S({themeId:E}),H=Cu({cardFontColor:_.fontColor,cardBackgroundImage:_.backgroundImage}),ie=F.createElement("div",{className:H.subtitleWrapper},F.createElement("div",null,E),F.createElement("div",null,F.createElement(Fa.LH,{entity:r.template,style:{padding:0}})));return F.createElement(ti.hu,{title:u!=null?u:d,subtitle:ie,classes:{root:H.header}})},Au=(0,p.Z)(()=>({linkText:{display:"inline-flex",alignItems:"center"}})),Nl=({icon:r,text:u,url:d})=>{const E=Au();return F.createElement("div",{className:E.linkText},F.createElement(r,{fontSize:"small"}),F.createElement(ti.rU,{style:{marginLeft:"8px"},to:d},u||d))},Tu=(0,p.Z)(r=>({box:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":10,"-webkit-box-orient":"vertical"},markdown:{"& :first-child":{margin:0}},label:{color:r.palette.text.secondary,textTransform:"uppercase",fontWeight:"bold",letterSpacing:.5,lineHeight:1,fontSize:"0.75rem"},footer:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"center"},ownedBy:{display:"flex",alignItems:"center",flex:1,color:r.palette.link}})),_u=r=>{var u,d,E,S,_,H,ie;const{template:me}=r,le=Tu(),Fe=(0,Fa.hF)(me,ml.S4),Ve=(0,n.qD)(),qe=be=>{var Ge;return be&&(Ge=Ve.getSystemIcon(be))!=null?Ge:ta.Z};return F.createElement(J.Z,null,F.createElement(Pu,{template:me}),F.createElement(ne.Z,null,F.createElement(te.Z,{container:!0,spacing:2},F.createElement(te.Z,{item:!0,xs:12},F.createElement(oe.Z,{className:le.box},F.createElement(ti.SA,{className:le.markdown,content:(u=me.metadata.description)!=null?u:"No description"}))),((E=(d=me.metadata.tags)==null?void 0:d.length)!=null?E:0)>0&&F.createElement(F.Fragment,null,F.createElement(te.Z,{item:!0,xs:12},F.createElement(we.Z,null)),F.createElement(te.Z,{item:!0,xs:12},F.createElement(te.Z,{container:!0,spacing:2},(S=me.metadata.tags)==null?void 0:S.map(be=>F.createElement(te.Z,{item:!0},F.createElement(U.Z,{style:{margin:0},size:"small",label:be,key:be})))))),(r.additionalLinks||((_=me.metadata.links)==null?void 0:_.length))&&F.createElement(F.Fragment,null,F.createElement(te.Z,{item:!0,xs:12},F.createElement(we.Z,null)),F.createElement(te.Z,{item:!0,xs:12},F.createElement(te.Z,{container:!0,spacing:2},(H=r.additionalLinks)==null?void 0:H.map(({icon:be,text:Ge,url:Ue},St)=>F.createElement(te.Z,{className:le.linkText,item:!0,xs:6,key:St},F.createElement(Nl,{icon:be,text:Ge,url:Ue}))),(ie=me.metadata.links)==null?void 0:ie.map(({url:be,icon:Ge,title:Ue},St)=>F.createElement(te.Z,{className:le.linkText,item:!0,xs:6,key:St},F.createElement(Nl,{icon:qe(Ge),text:Ue||be,url:be})))))))),F.createElement(q.Z,{style:{padding:"16px",flex:1,alignItems:"flex-end"}},F.createElement("div",{className:le.footer},F.createElement("div",{className:le.ownedBy},Fe.length>0&&F.createElement(F.Fragment,null,F.createElement(ti.tB,{fontSize:"small"}),F.createElement(Fa.rI,{style:{marginLeft:"8px"},entityRefs:Fe,defaultKind:"Group"}))),F.createElement($.Z,{size:"small",variant:"outlined",color:"primary",onClick:()=>{var be;return(be=r.onSelected)==null?void 0:be.call(r,me)}},"Choose"))))},jl=r=>{const{templates:u,title:d,components:{CardComponent:E}={},onSelected:S}=r,_=typeof d=="string"?F.createElement(ti.yW,{title:d}):d;if(u.length===0)return null;const H=E||_u;return F.createElement(ti.VY,null,_,F.createElement(ti.Oh,null,u.map(({template:ie,additionalLinks:me})=>F.createElement(H,{key:(0,ml.eE)(ie),additionalLinks:me,template:ie,onSelected:S}))))},Du=r=>{const{loading:u,error:d,entities:E}=(0,Fa.wp)(),{groups:S,templateFilter:_,TemplateCardComponent:H,onTemplateSelected:ie}=r,me=(0,n.h_)(n.VE),le=(0,F.useCallback)(Fe=>{ie==null||ie(Fe)},[ie]);return u?F.createElement(ti.Ex,null):d?(me.post(d),null):!E||!E.length?F.createElement(O.Z,{variant:"body2"},"No templates found that match your filter. Learn more about"," ",F.createElement(ti.rU,{to:"https://backstage.io/docs/features/software-templates/adding-templates"},"adding templates"),"."):F.createElement(F.Fragment,null,S.map(({title:Fe,filter:Ve},qe)=>{const be=E.filter(fl.t).filter(Ge=>_?_(Ge):!0).filter(Ve).map(Ge=>{var Ue,St;const Rt=(St=(Ue=r.additionalLinksForEntity)==null?void 0:Ue.call(r,Ge))!=null?St:[];return{template:Ge,additionalLinks:Rt}});return F.createElement(jl,{key:qe,templates:be,title:Fe,components:{CardComponent:H},onSelected:le})}))},ku=(0,p.Z)(()=>({markdown:{"& :first-child":{marginTop:0},"& :last-child":{marginBottom:0}}})),Ll=r=>{var u;const{title:d,description:E,namespace:S,templateName:_,...H}=r,ie=ku(),me=(0,ml.eE)({kind:"Template",namespace:S,name:_}),le=(0,n.h_)(n.VE),{loading:Fe,manifest:Ve,error:qe}=pu(me);return(0,F.useEffect)(()=>{qe&&le.post(new Error(`Failed to load template, ${qe}`))},[qe,le]),qe?H.onError(qe):F.createElement(ti.VY,null,Fe&&F.createElement(ti.Ex,null),Ve&&F.createElement(ti.rJ,{title:d!=null?d:Ve.title,subheader:F.createElement(ti.SA,{className:ie.markdown,content:(u=E!=null?E:Ve.description)!=null?u:"No description"}),noPadding:!0,titleTypographyProps:{component:"h2"}},F.createElement(Fl,{manifest:Ve,templateName:_,...H})))},rc=r=>React.createElement(SecretsContextProvider,null,React.createElement(Ll,{...r})),Mu=(0,p.Z)({root:{"&:hover":{textDecoration:"none"}}}),$u=r=>{const{links:u=[]}=r.output,d=Mu(),E=(0,n.qD)(),S=(0,n.tg)(Fa.wi),_=H=>{var ie;return(ie=E.getSystemIcon(H))!=null?ie:dl.Z};return F.createElement(F.Fragment,null,u.filter(({url:H,entityRef:ie})=>H||ie).map(({url:H,entityRef:ie,title:me,icon:le})=>{if(ie){const Fe=(0,ml.of)(ie),Ve=S(Fe);return{title:me,icon:le,url:Ve}}return{title:me,icon:le,url:H}}).map(({url:H,title:ie,icon:me},le)=>{const Fe=_(me);return F.createElement(ti.rU,{to:H,key:le,classes:{root:d.root}},F.createElement($.Z,{startIcon:F.createElement(Fe,null),component:"div",color:"primary"},ie))}))},Iu=r=>{const{output:{text:u=[]},index:d,setIndex:E}=r,S=(0,n.qD)(),_=H=>{var ie;return(ie=S.getSystemIcon(H))!=null?ie:dl.Z};return F.createElement(F.Fragment,null,u.filter(({content:H})=>H!==void 0).map(({title:H,icon:ie},me)=>{const le=_(ie);return F.createElement($.Z,{key:me,startIcon:F.createElement(le,null),component:"div",color:"primary",onClick:()=>E==null?void 0:E(d!==me?me:void 0),variant:d===me?"outlined":void 0},H)}))},Ru=r=>{var u,d;const[E,S]=(0,F.useState)(),_=(0,F.useMemo)(()=>{var H,ie;return E!==void 0?(ie=(H=r.output)==null?void 0:H.text)==null?void 0:ie[E]:null},[r.output,E]);return r.output?F.createElement(F.Fragment,null,F.createElement(oe.Z,{paddingBottom:2},F.createElement(Oe.Z,null,F.createElement(oe.Z,{padding:2,justifyContent:"center",display:"flex",gridGap:16},F.createElement(Iu,{output:r.output,index:E,setIndex:S}),F.createElement($u,{output:r.output})))),_?F.createElement(oe.Z,{paddingBottom:2},F.createElement(ti.rJ,{title:(u=_.title)!=null?u:"Text Output",noPadding:!0,titleTypographyProps:{component:"h2"}},F.createElement(oe.Z,{padding:2,height:"100%"},F.createElement(ti.SA,{content:(d=_.content)!=null?d:""})))):null):null},Fu=(0,p.Z)(r=>({root:{color:r.palette.text.disabled},completed:{color:r.palette.status.ok},error:{color:r.palette.status.error}})),Nu=r=>{const u=Fu(),{active:d,completed:E,error:S,skipped:_}=r,H=()=>d?F.createElement(ae.Z,{size:"20px"}):E?F.createElement(Ul.Z,null):S?F.createElement(Vl.Z,null):_?F.createElement(Tl.Z,null):F.createElement(Bl.Z,null);return F.createElement("div",{className:Zl()(u.root,{[u.completed]:E,[u.error]:S})},H())},ju=r=>{const[u,d]=(0,F.useState)(""),{step:E}=r,S=(0,F.useCallback)(()=>{if(!E.startedAt){d("");return}const _=E.endedAt?Sl.ou.fromISO(E.endedAt):Sl.ou.local(),H=Sl.ou.fromISO(E.startedAt),ie=Sl.Xp.fromDateTimes(H,_).toDuration().valueOf();d(Hl()(ie,{round:!0}))},[E.endedAt,E.startedAt]);return(0,Jl.n)(()=>S()),(0,Kl.Z)(()=>!E.endedAt&&S(),1e3),F.createElement(O.Z,{variant:"caption"},u)},Lu=(0,p.Z)(r=>({failed:{backgroundColor:r.palette.error.main},success:{backgroundColor:r.palette.success.main}})),Bu=r=>{const u=Lu();return r.isComplete?F.createElement(D.Z,{variant:"determinate",classes:{bar:r.isError?u.failed:u.success},value:100}):F.createElement(D.Z,{variant:"indeterminate"})},Wu=r=>{var u,d;return F.createElement(Oe.Z,{style:{position:"relative",overflow:"hidden"}},F.createElement(Bu,{isComplete:(u=r.isComplete)!=null?u:!1,isError:(d=r.isError)!=null?d:!1}),F.createElement(oe.Z,{padding:2},F.createElement(k.Z,{activeStep:r.activeStep,alternativeLabel:!0,variant:"elevation"},r.steps.map((E,S)=>{const _=E.status==="completed",H=E.status==="failed",ie=E.status==="processing",me=E.status==="skipped",le={completed:_,error:H,active:ie,skipped:me};return F.createElement(L.Z,{key:S},F.createElement(ve.Z,null,F.createElement(M.Z,{StepIconProps:le,StepIconComponent:Nu,"data-testid":"step-label"},F.createElement(oe.Z,null,E.name),!me&&F.createElement(ju,{step:E}))))}))))},Zu=(0,p.Z)({root:{width:"100%",height:"100%",position:"relative"}}),Uu=r=>{const u=Zu();return F.createElement("div",{className:u.root},F.createElement(ti.nU,{text:Object.values(r.logs).map(d=>d.join(`
`)).filter(Boolean).join(`
`)}))},Vu=F.createElement(Ql.Z,{fontSize:"small"}),Ku=F.createElement(Xl.Z,{fontSize:"small"}),zu=()=>{const r=(0,n.h_)(n.$v),{error:u,loading:d,availableTypes:E,selectedTypes:S,setSelectedTypes:_}=(0,Fa.Uh)();return d?F.createElement(ti.Ex,null):u?(r.post({message:`Failed to load entity types with error: ${u}`,severity:"error"}),null):E?F.createElement(oe.Z,{pb:1,pt:1},F.createElement(O.Z,{variant:"button",component:"label",htmlFor:"categories-picker"},"Categories"),F.createElement(eu.ZP,{multiple:!0,id:"categories-picker",options:E,value:S,onChange:(H,ie)=>_(ie),renderOption:(H,{selected:ie})=>F.createElement(Te.Z,{control:F.createElement(re.Z,{icon:Vu,checkedIcon:Ku,checked:ie}),label:Yl()(H)}),size:"small",popupIcon:F.createElement(ql.Z,null),renderInput:H=>F.createElement(ce.Z,{...H,variant:"outlined"})})):null},Hu=(0,p.Z)(r=>({button:{color:r.page.fontColor}}));function Ju(r){const{onEditorClicked:u,onActionsClicked:d,onTasksClicked:E}=r,S=Hu(),[_,H]=(0,F.useState)();if(!u&&!d)return null;const ie=le=>{H(le.currentTarget)},me=()=>{H(void 0)};return F.createElement(F.Fragment,null,F.createElement(tu.Z,{id:"long-menu","aria-label":"more","aria-controls":"long-menu","aria-expanded":!!_,"aria-haspopup":"true",role:"button",onClick:ie,"data-testid":"menu-button",color:"inherit",className:S.button},F.createElement(au.Z,null)),F.createElement(nu.ZP,{"aria-labelledby":"long-menu",open:Boolean(_),onClose:me,anchorEl:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},F.createElement(ru.Z,null,u&&F.createElement(kl.Z,{onClick:u},F.createElement(_l.Z,null,F.createElement(ou.Z,{fontSize:"small"})),F.createElement(Dl.Z,{primary:"Template Editor"})),d&&F.createElement(kl.Z,{onClick:d},F.createElement(_l.Z,null,F.createElement(iu.Z,{fontSize:"small"})),F.createElement(Dl.Z,{primary:"Installed Actions"})),E&&F.createElement(kl.Z,{onClick:E},F.createElement(_l.Z,null,F.createElement(su.Z,{fontSize:"small"})),F.createElement(Dl.Z,{primary:"Task List"})))))}function nc(r){return{expose(){const u=()=>null;return attachComponentData(u,FIELD_EXTENSION_KEY,r),u}}}},83327:function(_e,w,a){"use strict";a.d(w,{A:function(){return Bi},D:function(){return tr},L:function(){return Yo},T:function(){return Wn},W:function(){return V},a:function(){return No},b:function(){return Ze},c:function(){return Cs},d:function(){return Us},e:function(){return Kt},f:function(){return Ea},u:function(){return rt}});var n=a(2784),p=a(64279),I=a(12053),O=a(79692),D=a(60905),k=a(95544),L=a(90436),M=a(91256),$=a(27556),z=a(37390),J=a(58987),ne=a(89571),te=a(15584),oe=a(97485),we=a(82113),U=a(27616),q=a(8284),Oe=a(70660),ae=a(80030),ve=a(61837),Te=a(85256),re=a(94339),ce=a(11776),F=a(12231),We=a(86136),xe=a(49378),Be=a(72779),Ye=a.n(Be),kt=a(38016),Le=a(84905),ut=a(30705),gt=a(80236),Ut=a(7089),wt=a(25417),Ot=a(24579),pt=a(82726),Ne=a(78887),bt=function(it){return(it+1)%Number.MAX_SAFE_INTEGER};function ot(){var it=(0,Ne.F)(0),Xe=it[1];return(0,n.useCallback)(function(){Xe(bt)},[])}var fe=a(51967);function Re(it){var Xe=(0,n.useRef)();return(0,n.useEffect)(function(){Xe.current=it}),Xe.current}var ct=a(77246),$t=a(29862),er=a(16303),Cr=function(it,Xe,Mt){if(Mt||arguments.length===2)for(var Wt=0,rr=Xe.length,Tr;Wt<rr;Wt++)(Tr||!(Wt in Xe))&&(Tr||(Tr=Array.prototype.slice.call(Xe,0,Wt)),Tr[Wt]=Xe[Wt]);return it.concat(Tr||Array.prototype.slice.call(Xe))};function ze(it){for(var Xe=[],Mt=1;Mt<arguments.length;Mt++)Xe[Mt-1]=arguments[Mt];var Wt=(0,$t.t)(),rr=(0,ct.x)(Xe[1]),Tr=(0,n.useMemo)(function(){return function(){for(var cr=[],cn=0;cn<arguments.length;cn++)cr[cn]=arguments[cn];Wt()&&(typeof rr.current=="function"?rr.current.apply(this,cr):typeof rr.current.handleEvent=="function"&&rr.current.handleEvent.apply(this,cr))}},[]);(0,n.useEffect)(function(){var cr=it&&(0,er.nr)(it,"current")?it.current:it;if(cr){var cn=Xe.slice(2);return er.on.apply(void 0,Cr([cr,Xe[0],Tr],cn,!1)),function(){return er.S1.apply(void 0,Cr([cr,Xe[0],Tr],cn,!1))}}},[it,Xe[0]])}var K=a(24947),Z=function(it){return typeof it=="function"?it:typeof it=="string"?function(Xe){return Xe.key===it}:it?er.cI:er.Vp},Q=K.jU?window:null;function pe(it,Xe,Mt,Wt){Wt===void 0&&(Wt={});var rr=Wt.event,Tr=rr===void 0?"keydown":rr,cr=Wt.target,cn=cr===void 0?Q:cr,qn=Wt.eventOptions,Pn=(0,ct.x)(Xe),an=(0,n.useMemo)(function(){var Hr=Z(it);return function(Nn){Hr(Nn)&&Pn.current.call(this,Nn)}},Mt);ze(cn,Tr,an,qn)}var ke=a(10921),tt=a(38402),Ke=a(9520),jt=a(49166),lr=a(98281),Jt=a(22983),Yt=a(77120),Qt=a(42123),nt=a(6487),Tt=a(99152),Vt=a(31060),yr=a(20082),_r=a(87685),wr=a(49423),vr=a(96401),Ft=a(7896),Kr=a(96234),Or=a(59740),Nr=a(6277),Dr=a(15459),Gr=a(24514),Yr=n.createContext({}),hr=Yr,Ie={root:{padding:0,margin:0,listStyle:"none"}};function Gt(it,Xe){if(it.length!==Xe.length)return!0;for(var Mt=0;Mt<it.length;Mt+=1)if(it[Mt]!==Xe[Mt])return!0;return!1}var ur=function(Xe,Mt,Wt){for(var rr=Mt;rr<Xe.length;rr+=1)if(Wt===Xe[rr])return rr;return-1},dr=[],Wr=[],jr=n.forwardRef(function(Xe,Mt){var Wt=Xe.children,rr=Xe.classes,Tr=Xe.className,cr=Xe.defaultCollapseIcon,cn=Xe.defaultEndIcon,qn=Xe.defaultExpanded,Pn=qn===void 0?dr:qn,an=Xe.defaultExpandIcon,Hr=Xe.defaultParentIcon,rn=Xe.defaultSelected,Nn=rn===void 0?Wr:rn,mi=Xe.disableSelection,gi=mi===void 0?!1:mi,Fi=Xe.multiSelect,Wi=Fi===void 0?!1:Fi,eo=Xe.expanded,yi=Xe.onNodeSelect,Ni=Xe.onNodeToggle,Lo=Xe.selected,zn=(0,Or.Z)(Xe,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),ns=n.useState(null),to=ns[0],Zn=ns[1],So=n.useState(null),Si=So[0],is=So[1],pi=n.useRef({}),En=n.useRef({}),xi=n.useRef([]),_o=(0,Gr.Z)({controlled:eo,default:Pn,name:"TreeView",state:"expanded"}),ao=(0,Kr.Z)(_o,2),Cn=ao[0],lo=ao[1],fi=(0,Gr.Z)({controlled:Lo,default:Nn,name:"TreeView",state:"selected"}),Xo=(0,Kr.Z)(fi,2),Bn=Xo[0],Hn=Xo[1],Eo=n.useCallback(function(ln){return Array.isArray(Cn)?Cn.indexOf(ln)!==-1:!1},[Cn]),ro=n.useCallback(function(ln){return Array.isArray(Bn)?Bn.indexOf(ln)!==-1:Bn===ln},[Bn]),Ts=function(br){return to===br},uo=function(br){return Si===br},ki=function(br){var fr=xi.current.indexOf(br);return fr!==-1&&fr+1<xi.current.length?xi.current[fr+1]:null},Qo=function(br){var fr=xi.current.indexOf(br);return fr!==-1&&fr-1>=0?xi.current[fr-1]:null},os=function(){return xi.current[xi.current.length-1]},zi=function(){return xi.current[0]},go=function(br){return pi.current[br].parent},Bo=function(br,fr){var $r=xi.current.indexOf(br),gn=xi.current.indexOf(fr),An=Math.min($r,gn),ri=Math.max($r,gn);return xi.current.slice(An,ri+1)},ji=function(br){br&&(Zn(br),is(br))},Jn=function(br){return ji(ki(br))},Wo=function(br){return ji(Qo(br))},no=function(){return ji(zi())},ei=function(){return ji(os())},ss=function(br,fr){var $r,gn,An=fr.toLowerCase(),ri=[],wi=[];Object.keys(En.current).forEach(function($i){var ia=En.current[$i],Ds=pi.current[$i],as=Ds.parent?Eo(Ds.parent):!0;as&&(ri.push($i),wi.push(ia))}),$r=ri.indexOf(br)+1,$r===pi.current.length&&($r=0),gn=ur(wi,$r,An),gn===-1&&(gn=ur(wi,0,An)),gn>-1&&ji(ri[gn])},Zo=function(br){var fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Si,$r;Cn.indexOf(fr)!==-1?($r=Cn.filter(function(gn){return gn!==fr}),Zn(function(gn){var An=pi.current[gn];return gn&&(An&&An.parent?An.parent.id:null)===fr?fr:gn})):$r=[fr].concat(Cn),Ni&&Ni(br,$r),lo($r)},ti=function(br,fr){var $r=pi.current[fr],gn=pi.current[$r.parent],An;if(gn)An=gn.children.filter(function($i){return!Eo($i)});else{var ri=pi.current[-1].children;An=ri.filter(function($i){return!Eo($i)})}var wi=Cn.concat(An);An.length>0&&(lo(wi),Ni&&Ni(br,wi))},Mi=n.useRef(null),co=n.useRef(!1),Hi=n.useRef([]),wo=function(br,fr){var $r=Bn,gn=fr.start,An=fr.next,ri=fr.current;!An||!ri||(Hi.current.indexOf(ri)===-1&&(Hi.current=[]),co.current?Hi.current.indexOf(An)!==-1?($r=$r.filter(function(wi){return wi===gn||wi!==ri}),Hi.current=Hi.current.filter(function(wi){return wi===gn||wi!==ri})):($r.push(An),Hi.current.push(An)):($r.push(An),Hi.current.push(ri,An)),yi&&yi(br,$r),Hn($r))},ps=function(br,fr){var $r=Bn,gn=fr.start,An=fr.end;co.current&&($r=Bn.filter(function($i){return Hi.current.indexOf($i)===-1}));var ri=Bo(gn,An);Hi.current=ri;var wi=$r.concat(ri);wi=wi.filter(function($i,ia){return wi.indexOf($i)===ia}),yi&&yi(br,wi),Hn(wi)},ht=function(br,fr){var $r=[];Bn.indexOf(fr)!==-1?$r=Bn.filter(function(gn){return gn!==fr}):$r=[fr].concat(Bn),yi&&yi(br,$r),Hn($r)},at=function(br,fr){var $r=Wi?[fr]:fr;yi&&yi(br,$r),Hn($r)},Ti=function(br,fr){var $r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return fr?($r?ht(br,fr):at(br,fr),Mi.current=fr,co.current=!1,Hi.current=[],!0):!1},Ei=function(br,fr){var $r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,gn=fr.start,An=gn===void 0?Mi.current:gn,ri=fr.end,wi=fr.current;return $r?wo(br,{start:An,next:ri,current:wi}):ps(br,{start:An,end:ri}),co.current=!0,!0},Br=function(br,fr){Mi.current||(Mi.current=fr);var $r=co.current?Mi.current:fr;return Ei(br,{start:$r,end:zi()})},Xn=function(br,fr){Mi.current||(Mi.current=fr);var $r=co.current?Mi.current:fr;return Ei(br,{start:$r,end:os()})},fo=function(br,fr){return Ei(br,{end:ki(fr),current:fr},!0)},Oo=function(br,fr){return Ei(br,{end:Qo(fr),current:fr},!0)},Uo=function(br){return Ei(br,{start:zi(),end:os()})},Vs=function(br,fr){var $r=pi.current[br];pi.current[br]=(0,Ft.Z)({},$r,{children:fr,id:br}),fr.forEach(function(gn){var An=pi.current[gn];pi.current[gn]=(0,Ft.Z)({},An,{parent:br,id:gn})})},Ks=n.useCallback(function(ln){var br=pi.current[ln],fr=[];return br&&(fr.push(ln),br.children&&(fr.concat(br.children),br.children.forEach(function($r){fr.concat(Ks($r))}))),fr},[]),La=n.useCallback(function(ln){var br=(0,Ft.Z)({},En.current);ln.forEach(function(fr){br[fr]&&delete br[fr]}),En.current=br},[]),_s=n.useCallback(function(ln){var br=Ks(ln);La(br);var fr=(0,Ft.Z)({},pi.current);br.forEach(function($r){var gn=fr[$r];if(gn){if(gn.parent){var An=fr[gn.parent];if(An&&An.children){var ri=An.children.filter(function(wi){return wi!==$r});fr[gn.parent]=(0,Ft.Z)({},An,{children:ri})}}delete fr[$r]}}),pi.current=fr,is(function($r){return $r===ln?null:$r})},[Ks,La]),Do=function(br,fr){En.current[br]=fr},Un=n.useRef([]),Ji=n.useState(!1),zs=Ji[0],ho=Ji[1];n.useEffect(function(){var ln=[];n.Children.forEach(Wt,function(br){n.isValidElement(br)&&br.props.nodeId&&ln.push(br.props.nodeId)}),Gt(Un.current,ln)&&(pi.current[-1]={parent:null,children:ln},ln.forEach(function(br,fr){fr===0&&Zn(br)}),xi.current=pi.current[-1].children,Un.current=ln,ho(!0))},[Wt]),n.useEffect(function(){var ln=function br(fr){for(var $r=[],gn=0;gn<fr.length;gn+=1){var An=fr[gn];$r.push(An);var ri=pi.current[An].children;Eo(An)&&ri&&($r=$r.concat(br(ri)))}return $r};zs&&(xi.current=ln(pi.current[-1].children))},[Cn,zs,Eo,Wt]);var mo=function(){return!1};return n.createElement(hr.Provider,{value:{icons:{defaultCollapseIcon:cr,defaultExpandIcon:an,defaultParentIcon:Hr,defaultEndIcon:cn},focus:ji,focusFirstNode:no,focusLastNode:ei,focusNextNode:Jn,focusPreviousNode:Wo,focusByFirstCharacter:ss,expandAllSiblings:ti,toggleExpansion:Zo,isExpanded:Eo,isFocused:uo,isSelected:ro,selectNode:gi?mo:Ti,selectRange:gi?mo:Ei,selectNextNode:gi?mo:fo,selectPreviousNode:gi?mo:Oo,rangeSelectToFirst:gi?mo:Br,rangeSelectToLast:gi?mo:Xn,selectAllNodes:gi?mo:Uo,isTabbable:Ts,multiSelect:Wi,getParent:go,mapFirstChar:Do,addNodeToNodeMap:Vs,removeNodeFromNodeMap:_s}},n.createElement("ul",(0,Ft.Z)({role:"tree","aria-multiselectable":Wi,className:(0,Nr.default)(rr.root,Tr),ref:Mt},zn),Wt))}),Pr=(0,Dr.Z)(Ie,{name:"MuiTreeView"})(jr),Zr=a(51209),Ar=a(41128),Lr=a(60364),qr=a(85974),mn=function(Xe){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:Xe.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Ar.Fq)(Xe.palette.primary.main,Xe.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Ar.Fq)(Xe.palette.primary.main,Xe.palette.action.selectedOpacity+Xe.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:Xe.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}},Ur=function(Xe){return Xe&&Xe.length===1&&Xe.match(/\S/)},pn=n.forwardRef(function(Xe,Mt){var Wt=Xe.children,rr=Xe.classes,Tr=Xe.className,cr=Xe.collapseIcon,cn=Xe.endIcon,qn=Xe.expandIcon,Pn=Xe.icon,an=Xe.label,Hr=Xe.nodeId,rn=Xe.onClick,Nn=Xe.onLabelClick,mi=Xe.onIconClick,gi=Xe.onFocus,Fi=Xe.onKeyDown,Wi=Xe.onMouseDown,eo=Xe.TransitionComponent,yi=eo===void 0?we.Z:eo,Ni=Xe.TransitionProps,Lo=(0,Or.Z)(Xe,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),zn=n.useContext(hr),ns=zn.icons,to=zn.focus,Zn=zn.focusFirstNode,So=zn.focusLastNode,Si=zn.focusNextNode,is=zn.focusPreviousNode,pi=zn.focusByFirstCharacter,En=zn.selectNode,xi=zn.selectRange,_o=zn.selectNextNode,ao=zn.selectPreviousNode,Cn=zn.rangeSelectToFirst,lo=zn.rangeSelectToLast,fi=zn.selectAllNodes,Xo=zn.expandAllSiblings,Bn=zn.toggleExpansion,Hn=zn.isExpanded,Eo=zn.isFocused,ro=zn.isSelected,Ts=zn.isTabbable,uo=zn.multiSelect,ki=zn.getParent,Qo=zn.mapFirstChar,os=zn.addNodeToNodeMap,zi=zn.removeNodeFromNodeMap,go=n.useRef(null),Bo=n.useRef(null),ji=(0,qr.Z)(go,Mt),Jn=Pn,Wo=Boolean(Array.isArray(Wt)?Wt.length:Wt),no=Hn?Hn(Hr):!1,ei=Eo?Eo(Hr):!1,ss=Ts?Ts(Hr):!1,Zo=ro?ro(Hr):!1,ti=ns||{},Mi=(0,Lr.Z)();Jn||(Wo?(no?Jn=cr||ti.defaultCollapseIcon:Jn=qn||ti.defaultExpandIcon,Jn||(Jn=ti.defaultParentIcon)):Jn=cn||ti.defaultEndIcon);var co=function(Br){ei||to(Hr);var Xn=uo&&(Br.shiftKey||Br.ctrlKey||Br.metaKey);Wo&&!Br.defaultPrevented&&!(Xn&&Hn(Hr))&&Bn(Br,Hr),Xn?Br.shiftKey?xi(Br,{end:Hr}):En(Br,Hr,!0):En(Br,Hr),rn&&rn(Br)},Hi=function(Br){(Br.shiftKey||Br.ctrlKey||Br.metaKey)&&Br.preventDefault(),Wi&&Wi(Br)},wo=function(Br){return Wo&&(no?Si(Hr):Bn(Br)),!0},ps=function(Br){if(no)return Bn(Br,Hr),!0;var Xn=ki(Hr);return Xn?(to(Xn),!0):!1},ht=function(Br){var Xn=!1,fo=Br.key;if(!(Br.altKey||Br.currentTarget!==Br.target)){var Oo=Br.ctrlKey||Br.metaKey;switch(fo){case" ":go.current===Br.currentTarget&&(uo&&Br.shiftKey?Xn=xi(Br,{end:Hr}):uo?Xn=En(Br,Hr,!0):Xn=En(Br,Hr)),Br.stopPropagation();break;case"Enter":go.current===Br.currentTarget&&Wo&&(Bn(Br),Xn=!0),Br.stopPropagation();break;case"ArrowDown":uo&&Br.shiftKey&&_o(Br,Hr),Si(Hr),Xn=!0;break;case"ArrowUp":uo&&Br.shiftKey&&ao(Br,Hr),is(Hr),Xn=!0;break;case"ArrowRight":Mi.direction==="rtl"?Xn=ps(Br):Xn=wo(Br);break;case"ArrowLeft":Mi.direction==="rtl"?Xn=wo(Br):Xn=ps(Br);break;case"Home":uo&&Oo&&Br.shiftKey&&Cn(Br,Hr),Zn(),Xn=!0;break;case"End":uo&&Oo&&Br.shiftKey&&lo(Br,Hr),So(),Xn=!0;break;default:fo==="*"?(Xo(Br,Hr),Xn=!0):uo&&Oo&&fo.toLowerCase()==="a"?Xn=fi(Br):!Oo&&!Br.shiftKey&&Ur(fo)&&(pi(Hr,fo),Xn=!0)}Xn&&(Br.preventDefault(),Br.stopPropagation()),Fi&&Fi(Br)}},at=function(Br){!ei&&Br.currentTarget===Br.target&&to(Hr),gi&&gi(Br)};n.useEffect(function(){if(os){var Ei=[];n.Children.forEach(Wt,function(Br){n.isValidElement(Br)&&Br.props.nodeId&&Ei.push(Br.props.nodeId)}),os(Hr,Ei)}},[Wt,Hr,os]),n.useEffect(function(){if(zi)return function(){zi(Hr)}},[Hr,zi]),n.useEffect(function(){Qo&&an&&Qo(Hr,Bo.current.textContent.substring(0,1).toLowerCase())},[Qo,Hr,an]),n.useEffect(function(){ei&&go.current.focus()},[ei]);var Ti;return uo?Ti=Zo:Zo&&(Ti=!0),n.createElement("li",(0,Ft.Z)({className:(0,Nr.default)(rr.root,Tr,no&&rr.expanded,Zo&&rr.selected),role:"treeitem",onKeyDown:ht,onFocus:at,"aria-expanded":Wo?no:null,"aria-selected":Ti,ref:ji,tabIndex:ss?0:-1},Lo),n.createElement("div",{className:rr.content,onClick:co,onMouseDown:Hi,ref:Bo},n.createElement("div",{onClick:mi,className:rr.iconContainer},Jn),n.createElement(L.Z,{onClick:Nn,component:"div",className:rr.label},an)),Wt&&n.createElement(yi,(0,Ft.Z)({unmountOnExit:!0,className:rr.group,in:no,component:"ul",role:"group"},Ni),Wt))}),bn=(0,Dr.Z)(mn,{name:"MuiTreeItem"})(pn),wn=a(65329),Xr=a(16362),fn=a(64304),On=a(47603),nn=a(56881),Tn=a(26228),Sn=a(75951),sn=a.n(Sn),un=a(34520);const ni=(0,O.Z)(it=>({code:{fontFamily:"Menlo, monospace",padding:it.spacing(1),backgroundColor:it.palette.type==="dark"?it.palette.grey[700]:it.palette.grey[300],display:"inline-block",borderRadius:5,border:`1px solid ${it.palette.grey[500]}`,position:"relative"},codeRequired:{"&::after":{position:"absolute",content:'"*"',top:0,right:it.spacing(.5),fontWeight:"bolder",color:it.palette.error.light}}})),hi=it=>n.createElement(D.Z,{container:!0},it.examples.map((Xe,Mt)=>n.createElement(n.Fragment,{key:`example-${Mt}`},n.createElement(D.Z,{item:!0,lg:3},n.createElement(k.Z,{padding:4},n.createElement(L.Z,null,Xe.description))),n.createElement(D.Z,{item:!0,lg:9},n.createElement(k.Z,{padding:1},n.createElement(gt.Oi,{text:Xe.example,showLineNumbers:!0,showCopyCodeButton:!0,language:"yaml"})))))),Bi=()=>{const it=(0,ut.h_)(I.lc),Xe=ni(),{loading:Mt,value:Wt,error:rr}=(0,p.default)(async()=>it.listActions()),[Tr,cr]=(0,n.useState)({});if(Mt)return n.createElement(gt.Ex,null);if(rr)return n.createElement(gt.mf,{statusMessage:"Failed to load installed actions",status:"500"});const cn=rn=>!rn||rn.length<1?n.createElement(L.Z,null,"No schema defined"):n.createElement(M.Z,{component:$.Z},n.createElement(z.Z,{size:"small"},n.createElement(J.Z,null,n.createElement(ne.Z,null,n.createElement(te.Z,null,"Name"),n.createElement(te.Z,null,"Title"),n.createElement(te.Z,null,"Description"),n.createElement(te.Z,null,"Type"))),n.createElement(oe.Z,null,rn))),qn=rn=>{var Nn,mi;return rn.type?rn.type!=="array"?[rn.type].flat():[`${rn.type}(${(mi=(Nn=rn.items)==null?void 0:Nn.type)!=null?mi:"unknown"})`]:["unknown"]},Pn=(rn,Nn)=>{const mi=Nn==null?void 0:Nn.properties;if(mi)return Object.entries(mi).map(gi=>{var Fi,Wi,eo;const[yi]=gi,Ni=`${rn}.${yi}`,Lo=gi[1],zn=Ye()(Xe.code,{[Xe.codeRequired]:(Fi=Nn.required)==null?void 0:Fi.includes(yi)}),ns=qn(Lo);return n.createElement(n.Fragment,{key:Ni},n.createElement(ne.Z,{key:Ni},n.createElement(te.Z,null,n.createElement("div",{className:zn},yi)),n.createElement(te.Z,null,Lo.title),n.createElement(te.Z,null,Lo.description),n.createElement(te.Z,null,ns.map(to=>to.includes("object")?n.createElement(Ut.Z,{label:to,key:to,icon:Tr[Ni]?n.createElement(Le.Z,null):n.createElement(kt.Z,null),variant:"outlined",onClick:()=>cr(Zn=>{const So={...Zn};return So[Ni]=!Zn[Ni],So})}):n.createElement(Ut.Z,{label:to,key:to,variant:"outlined"})))),n.createElement(ne.Z,null,n.createElement(te.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},n.createElement(we.Z,{in:Tr[Ni],timeout:"auto",unmountOnExit:!0},n.createElement(k.Z,{sx:{margin:1}},n.createElement(L.Z,{variant:"h6",component:"div"},yi),cn(Pn(Ni,Lo.type==="array"?{properties:(eo=(Wi=Lo.items)==null?void 0:Wi.properties)!=null?eo:{}}:Lo)))))))})},an=(rn,Nn,mi)=>{if(mi)return n.createElement(n.Fragment,null,n.createElement(L.Z,{variant:"h6",component:"h4"},rn),mi.map((gi,Fi)=>n.createElement("div",{key:Fi},cn(Pn(`${Nn}.${Fi}`,gi)))))},Hr=Wt==null?void 0:Wt.map(rn=>{var Nn,mi,gi,Fi,Wi,eo;if(rn.id.startsWith("legacy:"))return;const yi=an("oneOf",`${rn.id}.input`,(mi=(Nn=rn.schema)==null?void 0:Nn.input)==null?void 0:mi.oneOf);return n.createElement(k.Z,{pb:4,key:rn.id},n.createElement(L.Z,{variant:"h4",component:"h2",className:Xe.code},rn.id),rn.description&&n.createElement(gt.SA,{content:rn.description}),((gi=rn.schema)==null?void 0:gi.input)&&n.createElement(k.Z,{pb:2},n.createElement(L.Z,{variant:"h5",component:"h3"},"Input"),cn(Pn(`${rn.id}.input`,(Fi=rn==null?void 0:rn.schema)==null?void 0:Fi.input)),yi),((Wi=rn.schema)==null?void 0:Wi.output)&&n.createElement(k.Z,{pb:2},n.createElement(L.Z,{variant:"h5",component:"h3"},"Output"),cn(Pn(`${rn.id}.output`,(eo=rn==null?void 0:rn.schema)==null?void 0:eo.output))),rn.examples&&n.createElement(U.Z,null,n.createElement(q.Z,{expandIcon:n.createElement(kt.Z,null)},n.createElement(L.Z,{variant:"h5",component:"h3"},"Examples")),n.createElement(Oe.Z,null,n.createElement(k.Z,{pb:2},n.createElement(hi,{examples:rn.examples})))))});return n.createElement(gt.T3,{themeId:"home"},n.createElement(gt.h4,{pageTitleOverride:"Create a New Component",title:"Installed actions",subtitle:"This is the collection of all installed actions"}),n.createElement(gt.VY,null,Hr))},Pe=window.showDirectoryPicker;class y{constructor(Xe,Mt){this.path=Xe,this.handle=Mt}file(){return this.handle.getFile()}async save(Xe){const Mt=await this.handle.createWritable();await Mt.write(Xe),await Mt.close()}}class T{constructor(Xe){this.handle=Xe}async listFiles(){const Xe=[];for await(const Mt of this.listDirectoryContents(this.handle))Xe.push(Mt);return Xe}async*listDirectoryContents(Xe,Mt=[]){for await(const Wt of Xe.values())if(Wt.kind==="file")yield new y([...Mt,Wt.name].join("/"),Wt);else if(Wt.kind==="directory"){if(Wt.name===".git")continue;yield*this.listDirectoryContents(Wt,[...Mt,Wt.name])}}}class V{static isSupported(){return Boolean(Pe)}static async requestDirectoryAccess(){if(!Pe)throw new Error("File system access is not supported");const Xe=await Pe();return new T(Xe)}constructor(){}}var ee=Object.defineProperty,Ee=(it,Xe,Mt)=>Xe in it?ee(it,Xe,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):it[Xe]=Mt,Se=(it,Xe,Mt)=>(Ee(it,typeof Xe!="symbol"?Xe+"":Xe,Mt),Mt),He=(it,Xe,Mt)=>{if(!Xe.has(it))throw TypeError("Cannot "+Mt)},Je=(it,Xe,Mt)=>(He(it,Xe,"read from private field"),Mt?Mt.call(it):Xe.get(it)),Ct=(it,Xe,Mt)=>{if(Xe.has(it))throw TypeError("Cannot add the same private member more than once");Xe instanceof WeakSet?Xe.add(it):Xe.set(it,Mt)},Lt=(it,Xe,Mt,Wt)=>(He(it,Xe,"write to private field"),Wt?Wt.call(it,Mt):Xe.set(it,Mt),Mt),It,kr,Sr,kn,ci,Fn,Oi,vi,Go;const Vi=1024*1024,Qi="This file is too large to be displayed";class Yn{constructor(Xe,Mt){Ct(this,It,void 0),Ct(this,kr,void 0),Ct(this,Sr,void 0),Ct(this,kn,void 0),Lt(this,It,Xe),Lt(this,kr,Mt)}get path(){return Je(this,It).path}get content(){var Xe;return(Xe=Je(this,Sr))!=null?Xe:Qi}updateContent(Xe){Je(this,Sr)!==void 0&&(Lt(this,Sr,Xe),Je(this,kr).call(this))}get dirty(){return Je(this,Sr)!==Je(this,kn)}async save(){Je(this,Sr)!==void 0&&(await Je(this,It).save(Je(this,Sr)),Lt(this,kn,Je(this,Sr)),Je(this,kr).call(this))}async reload(){const Xe=await Je(this,It).file();if(Xe.size>Vi){Je(this,Sr)!==void 0&&(Lt(this,Sr,void 0),Lt(this,kn,void 0),Je(this,kr).call(this));return}const Mt=await Xe.text();Je(this,Sr)!==Mt&&(Lt(this,Sr,Mt),Lt(this,kn,Mt),Je(this,kr).call(this))}}It=new WeakMap,kr=new WeakMap,Sr=new WeakMap,kn=new WeakMap;class Mn{constructor(Xe){Ct(this,ci,void 0),Ct(this,Fn,new Set),Ct(this,Oi,[]),Ct(this,vi,void 0),Se(this,"setSelectedFile",Mt=>{const Wt=Je(this,vi),rr=Je(this,Oi).find(Tr=>Tr.path===Mt);Wt!==rr&&(Lt(this,vi,rr),Je(this,Go).call(this))}),Ct(this,Go,()=>{Je(this,Fn).forEach(Mt=>Mt())}),Lt(this,ci,Xe)}get files(){return Je(this,Oi)}get selectedFile(){return Je(this,vi)}get dirty(){return Je(this,Oi).some(Xe=>Xe.dirty)}async save(){await Promise.all(Je(this,Oi).map(Xe=>Xe.save()))}async reload(){var Xe;const Mt=(Xe=Je(this,vi))==null?void 0:Xe.path,Wt=await Je(this,ci).listFiles(),rr=await Promise.all(Wt.map(async Tr=>{const cr=new Yn(Tr,Je(this,Go));return await cr.reload(),cr}));Je(this,Oi).length=0,Je(this,Oi).push(...rr),this.setSelectedFile(Mt),Je(this,Go).call(this)}subscribe(Xe){return Je(this,Fn).add(Xe),()=>{Je(this,Fn).delete(Xe)}}}ci=new WeakMap,Fn=new WeakMap,Oi=new WeakMap,vi=new WeakMap,Go=new WeakMap;const Ki=(0,n.createContext)(void 0);function No(){const it=(0,n.useContext)(Ki),Xe=ot();if((0,n.useEffect)(()=>it==null?void 0:it.subscribe(Xe),[it,Xe]),!it)throw new Error("must be used within a DirectoryEditorProvider");return it}function tr(it){const{directory:Xe}=it,[{result:Mt,error:Wt},{execute:rr}]=(0,fe.r)(async Tr=>{const cr=new Mn(Tr);await cr.reload();const cn=cr.files.find(qn=>qn.path.match(/\.ya?ml$/));return cn&&cr.setSelectedFile(cn.path),cr});return(0,n.useEffect)(()=>{rr(Xe)},[rr,Xe]),Wt?n.createElement(gt.yu,{error:Wt}):Mt?n.createElement(Ki.Provider,{value:Mt},it.children):n.createElement(gt.Ex,null)}const ge=64*1024,R=32*1024,Y=(0,n.createContext)(void 0);function Me(it){if(it.length>ge)return window.btoa("<file too large>");try{return window.btoa(it)}catch{const Mt=new TextEncoder().encode(it),Wt=new Array;for(let rr=0;rr<Mt.length;rr+=R)Wt.push(String.fromCharCode(...Mt.slice(rr,rr+R)));return window.btoa(Wt.join(""))}}function Ze(it){const Xe=(0,ut.h_)(I.lc),[Mt,Wt]=(0,n.useState)({results:[],selectedResult:void 0}),rr=(0,n.useRef)(1),Tr=(0,n.useCallback)(Pn=>{Wt(an=>{const Hr=an.results.find(rn=>rn.id===Pn);return Hr===an.selectedResult?an:{results:an.results,selectedResult:Hr}})},[]),cr=(0,n.useCallback)(Pn=>{Wt(an=>{var Hr;const rn=an.results.findIndex(gi=>gi.id===Pn);if(rn===-1)return an;const Nn=an.results.slice(),[mi]=Nn.splice(rn,1);return{results:Nn,selectedResult:((Hr=an.selectedResult)==null?void 0:Hr.id)===mi.id?Nn[0]:an.selectedResult}})},[]),cn=(0,n.useCallback)(async Pn=>{if(!Xe.dryRun)throw new Error("Scaffolder API does not support dry-run");const an=ke.ZP.parse(Pn.templateContent),rn={...await Xe.dryRun({template:an,values:Pn.values,secrets:{},directoryContents:Pn.files.map(Nn=>({path:Nn.path,base64Content:Me(Nn.content)}))}),id:rr.current++};Wt(Nn=>{var mi;return{results:[...Nn.results,rn],selectedResult:(mi=Nn.selectedResult)!=null?mi:rn}})},[Xe]),qn=(0,n.useMemo)(()=>({...Mt,selectResult:Tr,deleteResult:cr,execute:cn}),[Mt,Tr,cr,cn]);return n.createElement(Y.Provider,{value:qn},it.children)}function rt(){const it=(0,n.useContext)(Y);if(!it)throw new Error("must be used within a DryRunProvider");return it}const dt=(0,O.Z)(it=>({introText:{textAlign:"center",marginTop:it.spacing(2)},card:{position:"relative",maxWidth:340,marginTop:it.spacing(4),margin:it.spacing(0,2)},infoIcon:{position:"absolute",top:it.spacing(1),right:it.spacing(1)}}));function Kt(it){const Xe=dt(),Mt=V.isSupported(),Wt=n.createElement(re.Z,{className:Xe.card,elevation:4},n.createElement(wt.Z,{disabled:!Mt,onClick:()=>{var cr;return(cr=it.onSelect)==null?void 0:cr.call(it,"local")}},n.createElement(Ot.Z,null,n.createElement(L.Z,{variant:"h4",component:"h3",gutterBottom:!0,color:Mt?void 0:"textSecondary",style:{display:"flex",flexFlow:"row nowrap"}},"Load Template Directory"),n.createElement(L.Z,{variant:"body1",color:Mt?void 0:"textSecondary"},"Load a local template directory, allowing you to both edit and try executing your own template."))),!Mt&&n.createElement("div",{className:Xe.infoIcon},n.createElement(ae.ZP,{placement:"top",title:"Only supported in some Chromium-based browsers"},n.createElement(pt.Z,null)))),rr=n.createElement(re.Z,{className:Xe.card,elevation:4},n.createElement(wt.Z,{onClick:()=>{var cr;return(cr=it.onSelect)==null?void 0:cr.call(it,"form")}},n.createElement(Ot.Z,null,n.createElement(L.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Edit Template Form"),n.createElement(L.Z,{variant:"body1"},"Preview and edit a template form, either using a sample template or by loading a template from the catalog.")))),Tr=n.createElement(re.Z,{className:Xe.card,elevation:4},n.createElement(wt.Z,{onClick:()=>{var cr;return(cr=it.onSelect)==null?void 0:cr.call(it,"field-explorer")}},n.createElement(Ot.Z,null,n.createElement(L.Z,{variant:"h4",component:"h3",gutterBottom:!0},"Custom Field Explorer"),n.createElement(L.Z,{variant:"body1"},"View and play around with available installed custom field extensions."))));return n.createElement("div",{style:it.style},n.createElement(L.Z,{variant:"h4",component:"h2",className:Xe.introText},"Get started by choosing one of the options below"),n.createElement("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",justifyContent:"center",alignContent:"flex-start"}},Mt&&Wt,rr,!Mt&&Wt,Tr))}const zt=(0,O.Z)(it=>({root:{overflowY:"auto",background:it.palette.background.default},iconSuccess:{minWidth:0,marginRight:it.spacing(1),color:it.palette.status.ok},iconFailure:{minWidth:0,marginRight:it.spacing(1),color:it.palette.status.error}}));function zr(){const it=zt(),Xe=rt();return n.createElement(ce.Z,{className:it.root,dense:!0},Xe.results.map(Mt=>{var Wt;const rr=Mt.log.some(Tr=>Tr.body.status==="failed");return n.createElement(tt.Z,{button:!0,key:Mt.id,selected:((Wt=Xe.selectedResult)==null?void 0:Wt.id)===Mt.id,onClick:()=>Xe.selectResult(Mt.id)},n.createElement(We.Z,{className:rr?it.iconFailure:it.iconSuccess},rr?n.createElement(jt.Z,null):n.createElement(lr.Z,null)),n.createElement(xe.Z,{primary:`Result ${Mt.id}`}),n.createElement(Ke.Z,null,n.createElement(ve.Z,{edge:"end","aria-label":"delete",onClick:()=>Xe.deleteResult(Mt.id)},n.createElement(Jt.Z,null))))}))}const Vr=(0,O.Z)({root:{whiteSpace:"nowrap",overflowY:"auto"}});function $n(it){const Xe={type:"directory",name:"",path:"",children:[]};for(const Mt of it.slice().sort()){const Wt=Mt.split("/");let rr=Xe;for(let Tr=0;Tr<Wt.length;Tr++){const cr=Wt[Tr];if(cr==="")throw new Error("Invalid path part: ''");const cn=Wt.slice(0,Tr+1).join("/"),qn=rr.children.find(Pn=>Pn.name===cr);if((qn==null?void 0:qn.type)==="file")throw new Error(`Duplicate filename at '${cn}'`);if(qn)rr=qn;else if(Tr<Wt.length-1){const Pn={type:"directory",name:cr,path:cn,children:[]},an=rr.children.findIndex(Hr=>Hr.type==="file");rr.children.splice(an,0,Pn),rr=Pn}else rr.children.push({type:"file",name:cr,path:cn})}}return Xe.children}function bi({entry:it}){return it.type==="file"?n.createElement(bn,{nodeId:it.path,label:it.name}):n.createElement(bn,{nodeId:it.path,label:it.name},it.children.map(Xe=>n.createElement(bi,{key:Xe.path,entry:Xe})))}function Pi(it){const Xe=Vr(),Mt=(0,n.useMemo)(()=>$n(it.filePaths),[it.filePaths]);return n.createElement(Pr,{selected:it.selected,className:Xe.root,defaultCollapseIcon:n.createElement(kt.Z,null),defaultExpandIcon:n.createElement(Zr.Z,null),onNodeSelect:(Wt,rr)=>{it.onSelect&&it.filePaths.includes(rr)&&it.onSelect(rr)}},Mt.map(Wt=>n.createElement(bi,{key:Wt.path,entry:Wt})))}const Ri=(0,O.Z)(it=>({root:{display:"grid",gridTemplateColumns:"280px auto 3fr",gridTemplateRows:"1fr"},child:{overflowY:"auto",height:"100%",minHeight:0},firstChild:{background:it.palette.background.paper}}));function Qn(it){const Xe=Ri(),Mt=n.Children.toArray(it.children);if(Mt.length!==2)throw new Error("must have exactly 2 children");return n.createElement("div",{className:Xe.root},n.createElement("div",{className:Ye()(Xe.child,Xe.firstChild)},Mt[0]),n.createElement(Te.Z,{orientation:"horizontal"}),n.createElement("div",{className:Xe.child},Mt[1]))}const qi=(0,O.Z)({root:{display:"flex",flexFlow:"column nowrap"},contentWrapper:{flex:1,position:"relative"},content:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex","& > *":{flex:1}},codeMirror:{height:"100%",overflowY:"auto"}});function ms(){const it=qi(),{selectedResult:Xe}=rt(),[Mt,Wt]=(0,n.useState)(""),rr=Xe==null?void 0:Xe.directoryContents.find(Tr=>Tr.path===Mt);return(0,n.useEffect)(()=>{if(Xe){const[Tr]=Xe.directoryContents;Wt(Tr?Tr.path:"")}},[Xe]),Xe?n.createElement(Qn,null,n.createElement(Pi,{selected:Mt,onSelect:Wt,filePaths:Xe.directoryContents.map(Tr=>Tr.path)}),n.createElement(Vt.ZP,{className:it.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Qt.r)],readOnly:!0,value:rr!=null&&rr.base64Content?atob(rr.base64Content):""})):null}function xs(){var it,Xe;const{selectedResult:Mt}=rt(),[Wt,rr]=(0,n.useState)(),Tr=(0,n.useMemo)(()=>{var cn;return Mt?(cn=Mt.steps.map(qn=>{var Pn,an;const Hr=Mt.log.filter(rn=>rn.body.stepId===qn.id);return{id:qn.id,name:qn.name,logString:Hr.map(rn=>rn.body.message).join(`
`),status:(an=(Pn=Hr[Hr.length-1])==null?void 0:Pn.body.status)!=null?an:"completed"}}))!=null?cn:[]:[]},[Mt]);if(!Mt)return null;const cr=(it=Tr.find(cn=>cn.id===Wt))!=null?it:Tr[0];return n.createElement(Qn,null,n.createElement(yr.a,{steps:Tr,currentStepId:cr.id,onUserStepChange:rr}),n.createElement(gt.nU,{text:(Xe=cr==null?void 0:cr.logString)!=null?Xe:""}))}function Ws(){var it,Xe;const Mt=qi(),{selectedResult:Wt}=rt();return Wt?n.createElement(Qn,null,n.createElement(k.Z,{pt:2},((Xe=(it=Wt.output)==null?void 0:it.links)==null?void 0:Xe.length)&&n.createElement(yr.b,{output:Wt.output})),n.createElement(Vt.ZP,{className:Mt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Qt.r)],readOnly:!0,value:JSON.stringify(Wt.output,null,2)})):null}function ba(){const it=qi(),[Xe,Mt]=(0,n.useState)("files");return n.createElement("div",{className:it.root},n.createElement(Tt.Z,{value:Xe,onChange:(Wt,rr)=>Mt(rr)},n.createElement(nt.Z,{value:"files",label:"Files"}),n.createElement(nt.Z,{value:"log",label:"Log"}),n.createElement(nt.Z,{value:"output",label:"Output"})),n.createElement(Te.Z,null),n.createElement("div",{className:it.contentWrapper},n.createElement("div",{className:it.content},Xe==="files"&&n.createElement(ms,null),Xe==="log"&&n.createElement(xs,null),Xe==="output"&&n.createElement(Ws,null))))}const Zs=(0,O.Z)(it=>({header:{height:48,minHeight:0,"&.Mui-expanded":{height:48,minHeight:0}},content:{display:"grid",background:it.palette.background.default,gridTemplateColumns:"180px auto 1fr",gridTemplateRows:"1fr",padding:0,height:400}}));function Us(){const it=Zs(),Xe=rt(),[Mt,Wt]=(0,n.useState)(!1),[rr,Tr]=(0,n.useState)(!0),cr=Xe.results.length,cn=Re(cr);return(0,n.useEffect)(()=>{cn===0&&cr===1?(Tr(!1),Wt(!0)):cn===1&&cr===0&&Wt(!1)},[cn,cr]),n.createElement(n.Fragment,null,n.createElement(U.Z,{variant:"outlined",expanded:Mt,hidden:cr===0&&rr,onChange:(qn,Pn)=>Wt(Pn),onTransitionEnd:()=>cr===0&&Tr(!0)},n.createElement(q.Z,{className:it.header,expandIcon:n.createElement(Le.Z,null)},n.createElement(L.Z,null,"Dry-run results")),n.createElement(Te.Z,{orientation:"horizontal"}),n.createElement(Oe.Z,{className:it.content},n.createElement(zr,null),n.createElement(Te.Z,{orientation:"horizontal"}),n.createElement(ba,null))))}const jo=(0,O.Z)(it=>({button:{padding:it.spacing(1)},buttons:{display:"flex",flexFlow:"row nowrap",alignItems:"center",justifyContent:"flex-start"},buttonsGap:{flex:"1 1 auto"},buttonsDivider:{marginBottom:it.spacing(1)}}));function Wn(it){var Xe,Mt;const Wt=jo(),rr=No(),Tr=rr.files.filter(cn=>cn.dirty),cr=()=>{it.onClose&&(Tr.length>0&&!window.confirm("Are you sure? Unsaved changes will be lost")||it.onClose())};return n.createElement(n.Fragment,null,n.createElement("div",{className:Wt.buttons},n.createElement(ae.ZP,{title:"Save all files"},n.createElement(ve.Z,{className:Wt.button,disabled:rr.files.every(cn=>!cn.dirty),onClick:()=>rr.save()},n.createElement(vr.Z,null))),n.createElement(ae.ZP,{title:"Reload directory"},n.createElement(ve.Z,{className:Wt.button,onClick:()=>rr.reload()},n.createElement(wr.Z,null))),n.createElement("div",{className:Wt.buttonsGap}),n.createElement(ae.ZP,{title:"Close directory"},n.createElement(ve.Z,{className:Wt.button,onClick:cr},n.createElement(_r.Z,null)))),n.createElement(Te.Z,{className:Wt.buttonsDivider}),n.createElement(Pi,{selected:(Mt=(Xe=rr.selectedFile)==null?void 0:Xe.path)!=null?Mt:"",onSelect:rr.setSelectedFile,filePaths:rr.files.map(cn=>cn.path)}))}const Sa=(0,O.Z)(it=>({container:{position:"relative",width:"100%",height:"100%"},codeMirror:{position:"absolute",top:0,bottom:0,left:0,right:0},errorPanel:{color:it.palette.error.main,lineHeight:2,margin:it.spacing(0,1)},floatingButtons:{position:"absolute",top:it.spacing(1),right:it.spacing(3)},floatingButton:{padding:it.spacing(1)}}));function Cs(it){const{errorText:Xe}=it,Mt=Sa(),Wt=(0,n.useMemo)(()=>{if(!Xe)return wn.mH.of(null);const rr=document.createElement("div");return rr.classList.add(Mt.errorPanel),rr.textContent=Xe,wn.mH.of(()=>({dom:rr,bottom:!0}))},[Mt,Xe]);return pe(rr=>rr.key==="s"&&(rr.ctrlKey||rr.metaKey),rr=>{rr.preventDefault(),it.onSave&&it.onSave()}),n.createElement("div",{className:Mt.container},n.createElement(Vt.ZP,{className:Mt.codeMirror,theme:"dark",height:"100%",extensions:[Yt.il.define(Qt.r),Wt],value:it.content,onChange:it.onUpdate}),(it.onSave||it.onReload)&&n.createElement("div",{className:Mt.floatingButtons},n.createElement($.Z,null,it.onSave&&n.createElement(ae.ZP,{title:"Save file"},n.createElement(ve.Z,{className:Mt.floatingButton,onClick:()=>{var rr;return(rr=it.onSave)==null?void 0:rr.call(it)}},n.createElement(vr.Z,null))),it.onReload&&n.createElement(ae.ZP,{title:"Reload file"},n.createElement(ve.Z,{className:Mt.floatingButton,onClick:()=>{var rr;return(rr=it.onReload)==null?void 0:rr.call(it)}},n.createElement(wr.Z,null))))))}function ra(it){var Xe,Mt;const Wt=No(),rr=(Xe=Wt.selectedFile)!=null&&Xe.dirty?{onSave:()=>Wt.save(),onReload:()=>Wt.reload()}:{onReload:()=>Wt.reload()};return n.createElement(Cs,{errorText:it.errorText,content:(Mt=Wt.selectedFile)==null?void 0:Mt.content,onUpdate:Tr=>{var cr;return(cr=Wt.selectedFile)==null?void 0:cr.updateContent(Tr)},...rr})}Cs.DirectoryEditor=ra;const Ea=[{component:Xr.x,name:"EntityPicker",schema:Xr.y},{component:Xr.z,name:"EntityNamePicker",validation:Xr.A,schema:Xr.B},{component:Xr.C,name:"EntityTagsPicker",schema:Xr.D},{component:Xr.F,name:"RepoUrlPicker",validation:Xr.h,schema:Xr.G},{component:Xr.H,name:"OwnerPicker",schema:Xr.I},{component:Xr.J,name:"OwnedEntityPicker",schema:Xr.K},{component:Xr.L,name:"MyGroupsPicker",schema:Xr.k}],Ps=(0,O.Z)(it=>({root:{backgroundColor:"rgba(0, 0, 0, .11)",boxShadow:"none",margin:it.spacing(1,0,1,0)},title:{margin:it.spacing(1,0,0,1),textTransform:"uppercase",fontSize:12,fontWeight:"bold"},listIcon:{minWidth:30,color:it.palette.text.primary},menuItem:{minHeight:it.spacing(6)},groupWrapper:{margin:it.spacing(1,1,2,1)}}),{name:"ScaffolderReactOwnerListPicker"});function wa(){return[{name:"Task Owner",items:[{id:"owned",label:"Owned",icon:On.Z},{id:"all",label:"All",icon:nn.Z}]}]}const As=it=>{const{filter:Xe,onSelectOwner:Mt}=it,Wt=Ps(),rr=wa();return n.createElement(re.Z,{className:Wt.root},rr.map(Tr=>n.createElement(n.Fragment,{key:Tr.name},n.createElement(L.Z,{variant:"subtitle2",component:"span",className:Wt.title},Tr.name),n.createElement(re.Z,{className:Wt.groupWrapper},n.createElement(ce.Z,{disablePadding:!0,dense:!0,role:"menu"},Tr.items.map(cr=>n.createElement(F.Z,{key:cr.id,button:!0,divider:!0,ContainerProps:{role:"menuitem"},onClick:()=>Mt(cr.id),selected:cr.id===Xe,className:Wt.menuItem,"data-testid":`owner-picker-${cr.id}`},cr.icon&&n.createElement(We.Z,{className:Wt.listIcon},n.createElement(cr.icon,{fontSize:"small"})),n.createElement(xe.Z,null,n.createElement(L.Z,{variant:"body1"},cr.label)))))))))},na=({createdAt:it})=>{const Xe=Tn.ou.fromISO(it),Mt=Tn.Xp.fromDateTimes(Xe,Tn.ou.local()).toDuration().valueOf();return n.createElement(L.Z,{paragraph:!0},sn()(Mt,{round:!0})," ago")},Na=({entityRef:it})=>{var Xe,Mt,Wt;const rr=(0,ut.h_)(fn.Ah),{value:Tr,loading:cr,error:cn}=(0,p.default)(()=>rr.getEntityByRef(it||""),[rr,it]);return it?cr||cn?null:n.createElement(fn.dx,{entityRef:(0,un.of)(it),title:(Wt=(Mt=(Xe=Tr==null?void 0:Tr.spec)==null?void 0:Xe.profile)==null?void 0:Mt.displayName)!=null?Wt:Tr==null?void 0:Tr.metadata.name}):n.createElement(L.Z,{paragraph:!0},"Unknown")},Oa=({status:it})=>{switch(it){case"processing":return n.createElement(gt.wA,null,it);case"completed":return n.createElement(gt.Kq,null,it);case"error":default:return n.createElement(gt.vK,null,it)}},ja=({entityRef:it})=>{const Xe=(0,ut.h_)(I.lc),{value:Mt,loading:Wt,error:rr}=(0,p.default)(()=>Xe.getTemplateParameterSchema(it||""),[Xe,it]);return Wt||rr||!it?null:n.createElement(fn.dx,{entityRef:(0,un.of)(it),title:Mt==null?void 0:Mt.title})},ii=it=>{var Xe;const{initiallySelectedFilter:Mt="owned"}=it,Wt=(0,ut.h_)(I.lc),rr=(0,ut.tg)(Xr.r),[Tr,cr]=(0,n.useState)(Mt),{value:cn,loading:qn,error:Pn}=(0,p.default)(()=>{var an;return Wt.listTasks?(an=Wt.listTasks)==null?void 0:an.call(Wt,{filterByOwnership:Tr}):(console.warn("listTasks is not implemented in the scaffolderApi, please make sure to implement this method."),Promise.resolve({tasks:[]}))},[Wt,Tr]);return qn?n.createElement(gt.Ex,null):Pn?n.createElement(n.Fragment,null,n.createElement(gt.yu,{error:Pn}),n.createElement(gt.ub,{missing:"info",title:"No information to display",description:"There is no Tasks or there was an issue communicating with backend."})):n.createElement(fn._i,null,n.createElement(fn._i.Filters,null,n.createElement(As,{filter:Tr,onSelectOwner:an=>cr(an)})),n.createElement(fn._i.Content,null,n.createElement(gt.iA,{data:(Xe=cn==null?void 0:cn.tasks)!=null?Xe:[],title:"Tasks",columns:[{title:"Task ID",field:"id",render:an=>n.createElement(gt.rU,{to:`${rr()}/tasks/${an.id}`},an.id)},{title:"Template",render:an=>{var Hr;return n.createElement(ja,{entityRef:(Hr=an.spec.templateInfo)==null?void 0:Hr.entityRef})}},{title:"Created",field:"createdAt",render:an=>n.createElement(na,{createdAt:an.createdAt})},{title:"Owner",field:"createdBy",render:an=>{var Hr,rn;return n.createElement(Na,{entityRef:(rn=(Hr=an.spec)==null?void 0:Hr.user)==null?void 0:rn.ref})}},{title:"Status",field:"status",render:an=>n.createElement(Oa,{status:an.status})}]})))},Yo=it=>n.createElement(gt.T3,{themeId:"home"},n.createElement(gt.h4,{pageTitleOverride:"Templates Tasks",title:n.createElement(n.Fragment,null,"List template tasks ",n.createElement(gt.Fw,{shorthand:!0,alpha:!0})),subtitle:"All tasks that have been started"}),n.createElement(gt.VY,null,n.createElement(ii,{...it})))},34812:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");w.Z=k},22983:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");w.Z=k},16715:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");w.Z=k},82726:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");w.Z=k},5075:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");w.Z=k},34063:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PanoramaFishEye");w.Z=k},49423:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");w.Z=k},71140:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline");w.Z=k},96401:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");w.Z=k},27057:function(_e,w,a){"use strict";var n,p=a(71600),I=a(34590);n={value:!0},w.Z=void 0;var O=I(a(2784)),D=p(a(50175)),k=(0,D.default)(O.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"}),"Web");w.Z=k},51967:function(_e,w,a){"use strict";a.d(w,{r:function(){return D}});var n=a(2784),p=a(78887),I=a(77246),O=function(){return O=Object.assign||function(k){for(var L,M=1,$=arguments.length;M<$;M++){L=arguments[M];for(var z in L)Object.prototype.hasOwnProperty.call(L,z)&&(k[z]=L[z])}return k},O.apply(this,arguments)};function D(k,L){var M=(0,p.F)({status:"not-executed",error:void 0,result:L}),$=M[0],z=M[1],J=(0,n.useRef)(),ne=(0,n.useRef)(),te=(0,I.x)({execute:function(){for(var oe=[],we=0;we<arguments.length;we++)oe[we]=arguments[we];ne.current=oe;var U=k.apply(void 0,oe);return J.current=U,z(function(q){return O(O({},q),{status:"loading"})}),U.then(function(q){U===J.current&&z(function(Oe){return O(O({},Oe),{status:"success",error:void 0,result:q})})},function(q){U===J.current&&z(function(Oe){return O(O({},Oe),{status:"error",error:q})})}),U},reset:function(){z({status:"not-executed",error:void 0,result:L}),J.current=void 0,ne.current=void 0}});return[$,(0,n.useMemo)(function(){return{reset:function(){te.current.reset()},execute:function(){for(var oe,we=[],U=0;U<arguments.length;U++)we[U]=arguments[U];return(oe=te.current).execute.apply(oe,we)}}},[]),{promise:J.current,lastArgs:ne.current}]}},78887:function(_e,w,a){"use strict";a.d(w,{F:function(){return I}});var n=a(2784),p=a(29862);function I(O){var D=(0,n.useState)(O),k=D[0],L=D[1],M=(0,p.t)(!0);return[k,(0,n.useCallback)(function($){M()&&L($)},[])]}},74182:function(_e,w,a){"use strict";a.d(w,{ZP:function(){return ga},P6:function(){return n},Zz:function(){return Qs}});var n={};a.r(n),a.d(n,{jk:function(){return bs},TE:function(){return Ya},mH:function(){return cs},Rc:function(){return Ss},OP:function(){return ye},qt:function(){return Yi},Tx:function(){return Ta},c6:function(){return Gi},ON:function(){return rl},Ek:function(){return De},f_:function(){return Ns},LI:function(){return Es},us:function(){return es},sm:function(){return ws},H7:function(){return Ga},nb:function(){return da},FZ:function(){return Gs},qX:function(){return fa},Kn:function(){return Ai},pA:function(){return js},_4:function(){return N},PM:function(){return Po},pp:function(){return Mo},$2:function(){return Wa},vk:function(){return G},xk:function(){return bo},um:function(){return Ae},u6:function(){return Gn},iE:function(){return st},N0:function(){return Xs},tC:function(){return Ho},iZ:function(){return zo},J2:function(){return Ao},Yp:function(){return C}});var p=a(2784),I=a(13888),O=a.n(I),D=a(72579),k=a.n(D),L=a(45455),M=a.n(L);function $(s){var h=s.errors;return p.createElement("div",{className:"panel panel-danger errors"},p.createElement("div",{className:"panel-heading"},p.createElement("h3",{className:"panel-title"},"Errors")),p.createElement("ul",{className:"list-group"},h.map(function(x,g){return p.createElement("li",{key:g,className:"list-group-item text-danger"},x.stack)})))}var z=a(38294),J=a(76485),ne=a.n(J),te=a(29320),oe=a.n(te),we=a(26139),U=a.n(we),q=a(404);function Oe(){return Oe=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Oe.apply(this,arguments)}function ae(s,h){if(s==null)return{};var x=ve(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ve(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Te(s){var h=s.type,x=h===void 0?"default":h,g=s.icon,j=s.className,de=ae(s,["type","icon","className"]);return p.createElement("button",Oe({type:"button",className:"btn btn-".concat(x," ").concat(j)},de),p.createElement("i",{className:"glyphicon glyphicon-".concat(g)}))}function re(s){var h=s.className,x=s.onClick,g=s.disabled;return p.createElement("div",{className:"row"},p.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(h)},p.createElement(Te,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:x,disabled:g})))}var ce=a(5594),F=a.n(ce),We=a(13980),xe=a.n(We),Be=xe().shape({ArrayFieldTemplate:xe().elementType,FieldTemplate:xe().elementType,ObjectFieldTemplate:xe().elementType,definitions:xe().object.isRequired,rootSchema:xe().object,fields:xe().objectOf(xe().elementType).isRequired,formContext:xe().object.isRequired,widgets:xe().objectOf(xe().oneOfType([xe().func,xe().object])).isRequired}),Ye={autofocus:xe().bool,disabled:xe().bool,errorSchema:xe().object,formData:xe().any,idSchema:xe().object,onBlur:xe().func,onChange:xe().func.isRequired,onFocus:xe().func,rawErrors:xe().arrayOf(xe().string),readonly:xe().bool,registry:Be.isRequired,required:xe().bool,schema:xe().object.isRequired,uiSchema:xe().shape({"ui:options":xe().shape({addable:xe().bool,orderable:xe().bool,removable:xe().bool})})},kt=a(37164);function Le(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Le=function(x){return typeof x}:Le=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Le(s)}function ut(s,h){if(s==null)return{};var x=gt(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function gt(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Ut(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){ze(s,j,x[j])})}return s}function wt(s){return Ne(s)||pt(s)||Ot()}function Ot(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pt(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Ne(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function bt(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function ot(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function fe(s,h,x){return h&&ot(s.prototype,h),x&&ot(s,x),s}function Re(s,h){return h&&(Le(h)==="object"||typeof h=="function")?h:$t(s)}function ct(s){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},ct(s)}function $t(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function er(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Cr(s,h)}function Cr(s,h){return Cr=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},Cr(s,h)}function ze(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function K(s){var h=s.TitleField,x=s.idSchema,g=s.title,j=s.required;if(!g)return null;var de="".concat(x.$id,"__title");return p.createElement(h,{id:de,title:g,required:j})}function Z(s){var h=s.DescriptionField,x=s.idSchema,g=s.description;if(!g)return null;var j="".concat(x.$id,"__description");return p.createElement(h,{id:j,description:g})}function Q(s){var h={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return p.createElement("div",{key:s.key,className:s.className},p.createElement("div",{className:s.hasToolbar?"col-xs-9":"col-xs-12"},s.children),s.hasToolbar&&p.createElement("div",{className:"col-xs-3 array-item-toolbox"},p.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(s.hasMoveUp||s.hasMoveDown)&&p.createElement(Te,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveUp,onClick:s.onReorderClick(s.index,s.index-1)}),(s.hasMoveUp||s.hasMoveDown)&&p.createElement(Te,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly||!s.hasMoveDown,onClick:s.onReorderClick(s.index,s.index+1)}),s.hasRemove&&p.createElement(Te,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:h,disabled:s.disabled||s.readonly,onClick:s.onDropIndexClick(s.index)}))))}function pe(s){return p.createElement("fieldset",{className:s.className,id:s.idSchema.$id},p.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&p.createElement("div",{className:"field-description",key:"field-description-".concat(s.idSchema.$id)},s.uiSchema["ui:description"]||s.schema.description),p.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(Q)),s.canAdd&&p.createElement(re,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function ke(s){return p.createElement("fieldset",{className:s.className,id:s.idSchema.$id},p.createElement(K,{key:"array-field-title-".concat(s.idSchema.$id),TitleField:s.TitleField,idSchema:s.idSchema,title:s.uiSchema["ui:title"]||s.title,required:s.required}),(s.uiSchema["ui:description"]||s.schema.description)&&p.createElement(Z,{key:"array-field-description-".concat(s.idSchema.$id),DescriptionField:s.DescriptionField,idSchema:s.idSchema,description:s.uiSchema["ui:description"]||s.schema.description}),p.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(s.idSchema.$id)},s.items&&s.items.map(function(h){return Q(h)})),s.canAdd&&p.createElement(re,{className:"array-item-add",onClick:s.onAddClick,disabled:s.disabled||s.readonly}))}function tt(){return(0,kt.x0)()}function Ke(s){return Array.isArray(s)?s.map(function(h){return{key:tt(),item:h}}):[]}function jt(s){return s.map(function(h){return h.item})}var lr=function(s){er(h,s);function h(x){var g;bt(this,h),g=Re(this,ct(h).call(this,x)),ze($t(g),"_getNewFormDataRow",function(){var Qe=g.props,et=Qe.schema,lt=Qe.registry,mt=lt===void 0?Gi():lt,vt=mt.rootSchema,At=et.items;return Gs(et)&&Ya(et)&&(At=et.additionalItems),Ta(At,void 0,vt)}),ze($t(g),"onAddClick",function(Qe){Qe&&Qe.preventDefault();var et=g.props.onChange,lt={key:tt(),item:g._getNewFormDataRow()},mt=[].concat(wt(g.state.keyedFormData),[lt]);g.setState({keyedFormData:mt,updatedKeyedFormData:!0},function(){return et(jt(mt))})}),ze($t(g),"onAddIndexClick",function(Qe){return function(et){et&&et.preventDefault();var lt=g.props.onChange,mt={key:tt(),item:g._getNewFormDataRow()},vt=wt(g.state.keyedFormData);vt.splice(Qe,0,mt),g.setState({keyedFormData:vt,updatedKeyedFormData:!0},function(){return lt(jt(vt))})}}),ze($t(g),"onDropIndexClick",function(Qe){return function(et){et&&et.preventDefault();var lt=g.props.onChange,mt=g.state.keyedFormData,vt;if(g.props.errorSchema){vt={};var At=g.props.errorSchema;for(var Xt in At)Xt=parseInt(Xt),Xt<Qe?vt[Xt]=At[Xt]:Xt>Qe&&(vt[Xt-1]=At[Xt])}var ar=mt.filter(function(l,e){return e!==Qe});g.setState({keyedFormData:ar,updatedKeyedFormData:!0},function(){return lt(jt(ar),vt)})}}),ze($t(g),"onReorderClick",function(Qe,et){return function(lt){lt&&(lt.preventDefault(),lt.target.blur());var mt=g.props.onChange,vt;if(g.props.errorSchema){vt={};var At=g.props.errorSchema;for(var Xt in At)Xt==Qe?vt[et]=At[Qe]:Xt==et?vt[Qe]=At[et]:vt[Xt]=At[Xt]}var ar=g.state.keyedFormData;function l(){var t=ar.slice();return t.splice(Qe,1),t.splice(et,0,ar[Qe]),t}var e=l();g.setState({keyedFormData:e},function(){return mt(jt(e),vt)})}}),ze($t(g),"onChangeForIndex",function(Qe){return function(et,lt){var mt=g.props,vt=mt.formData,At=mt.onChange,Xt=vt.map(function(ar,l){var e=typeof et=="undefined"?null:et;return Qe===l?e:ar});At(Xt,lt&&g.props.errorSchema&&Ut({},g.props.errorSchema,ze({},Qe,lt)))}}),ze($t(g),"onSelectChange",function(Qe){g.props.onChange(Qe)});var j=x.formData,de=Ke(j);return g.state={keyedFormData:de,updatedKeyedFormData:!1},g}return fe(h,[{key:"isItemRequired",value:function(g){return Array.isArray(g.type)?!F()(g.type,"null"):g.type!=="null"}},{key:"canAddItem",value:function(g){var j=this.props,de=j.schema,Qe=j.uiSchema,et=Es(Qe),lt=et.addable;return lt!==!1&&(de.maxItems!==void 0?lt=g.length<de.maxItems:lt=!0),lt}},{key:"render",value:function(){var g=this.props,j=g.schema,de=g.uiSchema,Qe=g.idSchema,et=g.registry,lt=et===void 0?Gi():et,mt=lt.rootSchema;if(!j.hasOwnProperty("items")){var vt=lt.fields,At=vt.UnsupportedField;return p.createElement(At,{schema:j,idSchema:Qe,reason:"Missing items definition"})}return Gs(j)?this.renderFixedArray():da(j,de,mt)?this.renderFiles():fa(j,mt)?this.renderMultiSelect():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var g=this,j=this.props,de=j.schema,Qe=j.uiSchema,et=j.errorSchema,lt=j.idSchema,mt=j.name,vt=j.required,At=j.disabled,Xt=j.readonly,ar=j.autofocus,l=j.registry,e=l===void 0?Gi():l,t=j.onBlur,o=j.onFocus,c=j.idPrefix,v=j.rawErrors,P=de.title===void 0?mt:de.title,W=e.ArrayFieldTemplate,X=e.rootSchema,he=e.fields,ue=e.formContext,je=he.TitleField,ft=he.DescriptionField,Et=Gn(de.items,X),Nt=jt(this.state.keyedFormData),Pt={canAdd:this.canAddItem(Nt),items:this.state.keyedFormData.map(function(qt,Qr){var en=qt.key,hn=qt.item,Dn=Gn(de.items,X,hn),Vn=et?et[Qr]:void 0,Ii=lt.$id+"_"+Qr,$o=zo(Dn,Ii,X,hn,c);return g.renderArrayFieldItem({key:en,index:Qr,canMoveUp:Qr>0,canMoveDown:Qr<Nt.length-1,itemSchema:Dn,itemIdSchema:$o,itemErrorSchema:Vn,itemData:hn,itemUiSchema:Qe.items,autofocus:ar&&Qr===0,onBlur:t,onFocus:o})}),className:"field field-array field-array-of-".concat(Et.type),DescriptionField:ft,disabled:At,idSchema:lt,uiSchema:Qe,onAddClick:this.onAddClick,readonly:Xt,required:vt,schema:de,title:P,TitleField:je,formContext:ue,formData:Nt,rawErrors:v,registry:e},Zt=Qe["ui:ArrayFieldTemplate"]||W||ke;return p.createElement(Zt,Pt)}},{key:"renderMultiSelect",value:function(){var g=this.props,j=g.schema,de=g.idSchema,Qe=g.uiSchema,et=g.formData,lt=g.disabled,mt=g.readonly,vt=g.required,At=g.placeholder,Xt=g.autofocus,ar=g.onBlur,l=g.onFocus,e=g.registry,t=e===void 0?Gi():e,o=g.rawErrors,c=g.name,v=this.props.formData,P=t.widgets,W=t.rootSchema,X=t.formContext,he=Gn(j.items,W,et),ue=j.title||c,je=Mo(he),ft=Ut({},Es(Qe),{enumOptions:je}),Et=ft.widget,Nt=Et===void 0?"select":Et,Pt=ut(ft,["widget"]),Zt=es(j,Nt,P);return p.createElement(Zt,{id:de&&de.$id,multiple:!0,onChange:this.onSelectChange,onBlur:ar,onFocus:l,options:Pt,schema:j,registry:t,value:v,disabled:lt,readonly:mt,required:vt,label:ue,placeholder:At,formContext:X,autofocus:Xt,rawErrors:o})}},{key:"renderFiles",value:function(){var g=this.props,j=g.schema,de=g.uiSchema,Qe=g.idSchema,et=g.name,lt=g.disabled,mt=g.readonly,vt=g.autofocus,At=g.onBlur,Xt=g.onFocus,ar=g.registry,l=ar===void 0?Gi():ar,e=g.rawErrors,t=j.title||et,o=this.props.formData,c=l.widgets,v=l.formContext,P=Es(de),W=P.widget,X=W===void 0?"files":W,he=ut(P,["widget"]),ue=es(j,X,c);return p.createElement(ue,{options:he,id:Qe&&Qe.$id,multiple:!0,onChange:this.onSelectChange,onBlur:At,onFocus:Xt,schema:j,title:t,value:o,disabled:lt,readonly:mt,formContext:v,autofocus:vt,rawErrors:e})}},{key:"renderFixedArray",value:function(){var g=this,j=this.props,de=j.schema,Qe=j.uiSchema,et=j.formData,lt=j.errorSchema,mt=j.idPrefix,vt=j.idSchema,At=j.name,Xt=j.required,ar=j.disabled,l=j.readonly,e=j.autofocus,t=j.registry,o=t===void 0?Gi():t,c=j.onBlur,v=j.onFocus,P=j.rawErrors,W=de.title||At,X=this.props.formData,he=o.ArrayFieldTemplate,ue=o.rootSchema,je=o.fields,ft=o.formContext,Et=je.TitleField,Nt=de.items.map(function(Qr,en){return Gn(Qr,ue,et[en])}),Pt=Ya(de)?Gn(de.additionalItems,ue,et):null;(!X||X.length<Nt.length)&&(X=X||[],X=X.concat(new Array(Nt.length-X.length)));var Zt={canAdd:this.canAddItem(X)&&Pt,className:"field field-array field-array-fixed-items",disabled:ar,idSchema:vt,formData:et,items:this.state.keyedFormData.map(function(Qr,en){var hn=Qr.key,Dn=Qr.item,Vn=en>=Nt.length,Ii=Vn?Gn(de.additionalItems,ue,Dn):Nt[en],$o=vt.$id+"_"+en,Jo=zo(Ii,$o,ue,Dn,mt),Ka=Vn?Qe.additionalItems||{}:Array.isArray(Qe.items)?Qe.items[en]:Qe.items||{},Xa=lt?lt[en]:void 0;return g.renderArrayFieldItem({key:hn,index:en,canRemove:Vn,canMoveUp:en>=Nt.length+1,canMoveDown:Vn&&en<X.length-1,itemSchema:Ii,itemData:Dn,itemUiSchema:Ka,itemIdSchema:Jo,itemErrorSchema:Xa,autofocus:e&&en===0,onBlur:c,onFocus:v})}),onAddClick:this.onAddClick,readonly:l,required:Xt,schema:de,uiSchema:Qe,title:W,TitleField:Et,formContext:ft,rawErrors:P},qt=Qe["ui:ArrayFieldTemplate"]||he||pe;return p.createElement(qt,Zt)}},{key:"renderArrayFieldItem",value:function(g){var j=g.key,de=g.index,Qe=g.canRemove,et=Qe===void 0?!0:Qe,lt=g.canMoveUp,mt=lt===void 0?!0:lt,vt=g.canMoveDown,At=vt===void 0?!0:vt,Xt=g.itemSchema,ar=g.itemData,l=g.itemUiSchema,e=g.itemIdSchema,t=g.itemErrorSchema,o=g.autofocus,c=g.onBlur,v=g.onFocus,P=g.rawErrors,W=this.props,X=W.disabled,he=W.readonly,ue=W.uiSchema,je=W.registry,ft=je===void 0?Gi():je,Et=ft.fields.SchemaField,Nt=Ut({orderable:!0,removable:!0},ue["ui:options"]),Pt=Nt.orderable,Zt=Nt.removable,qt={moveUp:Pt&&mt,moveDown:Pt&&At,remove:Zt&&et};return qt.toolbar=Object.keys(qt).some(function(Qr){return qt[Qr]}),{children:p.createElement(Et,{index:de,schema:Xt,uiSchema:l,formData:ar,errorSchema:t,idSchema:e,required:this.isItemRequired(Xt),onChange:this.onChangeForIndex(de),onBlur:c,onFocus:v,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:o,rawErrors:P}),className:"array-item",disabled:X,hasToolbar:qt.toolbar,hasMoveUp:qt.moveUp,hasMoveDown:qt.moveDown,hasRemove:qt.remove,index:de,key:j,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:he}}},{key:"itemTitle",get:function(){var g=this.props.schema;return g.items.title||g.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(g,j){if(j.updatedKeyedFormData)return{updatedKeyedFormData:!1};var de=g.formData||[],Qe=j.keyedFormData||[],et=de.length===Qe.length?Qe.map(function(lt,mt){return{key:lt.key,item:de[mt]}}):Ke(de);return{keyedFormData:et}}}]),h}(p.Component);ze(lr,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1});var Jt=lr;function Yt(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Qt(s,j,x[j])})}return s}function Qt(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function nt(s,h){if(s==null)return{};var x=Tt(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Tt(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Vt(s){var h=s.schema,x=s.name,g=s.uiSchema,j=s.idSchema,de=s.formData,Qe=s.registry,et=Qe===void 0?Gi():Qe,lt=s.required,mt=s.disabled,vt=s.readonly,At=s.autofocus,Xt=s.onChange,ar=s.onFocus,l=s.onBlur,e=s.rawErrors,t=h.title,o=et.widgets,c=et.formContext,v=et.fields,P=Es(g),W=P.widget,X=W===void 0?"checkbox":W,he=nt(P,["widget"]),ue=es(h,X,o),je;return Array.isArray(h.oneOf)?je=Mo({oneOf:h.oneOf.map(function(ft){return Yt({},ft,{title:ft.title||(ft.const===!0?"Yes":"No")})})}):je=Mo({enum:h.enum||[!0,!1],enumNames:h.enumNames||(h.enum&&h.enum[0]===!1?["No","Yes"]:["Yes","No"])}),p.createElement(ue,{options:Yt({},he,{enumOptions:je}),schema:h,uiSchema:g,id:j&&j.$id,onChange:Xt,onFocus:ar,onBlur:l,label:t===void 0?x:t,value:de,required:lt,disabled:mt,readonly:vt,registry:et,formContext:c,autofocus:At,rawErrors:e,DescriptionField:v.DescriptionField})}Vt.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var yr=Vt;function _r(s){var h=s.id,x=s.description;return x?typeof x=="string"?p.createElement("p",{id:h,className:"field-description"},x):p.createElement("div",{id:h,className:"field-description"},x):null}var wr=_r;function vr(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vr=function(x){return typeof x}:vr=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},vr(s)}function Ft(){return Ft=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ft.apply(this,arguments)}function Kr(s,h){if(s==null)return{};var x=Or(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Or(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Nr(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Dr(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Gr(s,h,x){return h&&Dr(s.prototype,h),x&&Dr(s,x),s}function Yr(s,h){return h&&(vr(h)==="object"||typeof h=="function")?h:Ie(s)}function hr(s){return hr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},hr(s)}function Ie(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Gt(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&ur(s,h)}function ur(s,h){return ur=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},ur(s,h)}function dr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var Wr=function(s){Gt(h,s);function h(x){var g;Nr(this,h),g=Yr(this,hr(h).call(this,x)),dr(Ie(g),"onOptionChange",function(et){var lt=parseInt(et,10),mt=g.props,vt=mt.formData,At=mt.onChange,Xt=mt.options,ar=mt.registry,l=ar.rootSchema,e=Gn(Xt[lt],l,vt),t=void 0;if(ws(vt)==="object"&&(e.type==="object"||e.properties)){t=Object.assign({},vt);var o=Xt.slice();o.splice(lt,1);var c=!0,v=!1,P=void 0;try{for(var W=o[Symbol.iterator](),X;!(c=(X=W.next()).done);c=!0){var he=X.value;if(he.properties)for(var ue in he.properties)t.hasOwnProperty(ue)&&delete t[ue]}}catch(je){v=!0,P=je}finally{try{!c&&W.return!=null&&W.return()}finally{if(v)throw P}}}At(Ta(Xt[lt],t,l)),g.setState({selectedOption:parseInt(et,10)})});var j=g.props,de=j.formData,Qe=j.options;return g.state={selectedOption:g.getMatchingOption(de,Qe)},g}return Gr(h,[{key:"componentDidUpdate",value:function(g,j){if(!Yi(this.props.formData,g.formData)&&this.props.idSchema.$id===g.idSchema.$id){var de=this.getMatchingOption(this.props.formData,this.props.options);if(!j||de===this.state.selectedOption)return;this.setState({selectedOption:de})}}},{key:"getMatchingOption",value:function(g,j){var de=this.props.registry.rootSchema,Qe=De(g,j,de);return Qe!==0?Qe:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var g=this.props,j=g.baseType,de=g.disabled,Qe=g.errorSchema,et=g.formData,lt=g.idPrefix,mt=g.idSchema,vt=g.onBlur,At=g.onChange,Xt=g.onFocus,ar=g.options,l=g.registry,e=g.uiSchema,t=g.schema,o=l.fields.SchemaField,c=l.widgets,v=this.state.selectedOption,P=Es(e),W=P.widget,X=W===void 0?"select":W,he=Kr(P,["widget"]),ue=es({type:"number"},X,c),je=ar[v]||null,ft;je&&(ft=je.type?je:Object.assign({},je,{type:j}));var Et=ar.map(function(Nt,Pt){return{label:Nt.title||"Option ".concat(Pt+1),value:Pt}});return p.createElement("div",{className:"panel panel-default panel-body"},p.createElement("div",{className:"form-group"},p.createElement(ue,Ft({id:"".concat(mt.$id).concat(t.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:vt,onFocus:Xt,value:v,options:{enumOptions:Et}},he))),je!==null&&p.createElement(o,{schema:ft,uiSchema:e,errorSchema:Qe,idSchema:mt,idPrefix:lt,formData:et,onChange:At,onBlur:vt,onFocus:Xt,registry:l,disabled:de}))}}]),h}(p.Component);Wr.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};var jr=Wr;function Pr(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pr=function(x){return typeof x}:Pr=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Pr(s)}function Zr(){return Zr=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Zr.apply(this,arguments)}function Ar(s,h){if(s==null)return{};var x=Lr(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function Lr(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function qr(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function mn(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Ur(s,h,x){return h&&mn(s.prototype,h),x&&mn(s,x),s}function pn(s,h){return h&&(Pr(h)==="object"||typeof h=="function")?h:wn(s)}function bn(s){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},bn(s)}function wn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Xr(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&fn(s,h)}function fn(s,h){return fn=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},fn(s,h)}function On(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var nn=/\.([0-9]*0)*$/,Tn=/[0.]0*$/,Sn=function(s){Xr(h,s);function h(x){var g;return qr(this,h),g=pn(this,bn(h).call(this,x)),On(wn(g),"handleChange",function(j){g.setState({lastValue:j}),"".concat(j).charAt(0)==="."&&(j="0".concat(j));var de=typeof j=="string"&&j.match(nn)?cs(j.replace(Tn,"")):cs(j);g.props.onChange(de)}),g.state={lastValue:x.value},g}return Ur(h,[{key:"render",value:function(){var g=this.props.registry.fields.StringField,j=this.props,de=j.formData,Qe=Ar(j,["formData"]),et=this.state.lastValue,lt=de;if(typeof et=="string"&&typeof lt=="number"){var mt=new RegExp("".concat(lt).replace(".","\\.")+"\\.?0*$");et.match(mt)&&(lt=et)}return p.createElement(g,Zr({},Qe,{formData:lt,onChange:this.handleChange}))}}]),h}(p.Component);Sn.defaultProps={uiSchema:{}};var sn=Sn;function un(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?un=function(x){return typeof x}:un=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},un(s)}function ni(){return ni=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ni.apply(this,arguments)}function hi(s){return y(s)||Pe(s)||Bi()}function Bi(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pe(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function y(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function T(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){It(s,j,x[j])})}return s}function V(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function ee(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Ee(s,h,x){return h&&ee(s.prototype,h),x&&ee(s,x),s}function Se(s,h){return h&&(un(h)==="object"||typeof h=="function")?h:Je(s)}function He(s){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},He(s)}function Je(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ct(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Lt(s,h)}function Lt(s,h){return Lt=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},Lt(s,h)}function It(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function kr(s){var h=s.TitleField,x=s.DescriptionField;return p.createElement("fieldset",{id:s.idSchema.$id},(s.uiSchema["ui:title"]||s.title)&&p.createElement(h,{id:"".concat(s.idSchema.$id,"__title"),title:s.title||s.uiSchema["ui:title"],required:s.required,formContext:s.formContext}),s.description&&p.createElement(x,{id:"".concat(s.idSchema.$id,"__description"),description:s.description,formContext:s.formContext}),s.properties.map(function(g){return g.content}),Ss(s.schema,s.uiSchema,s.formData)&&p.createElement(re,{className:"object-property-expand",onClick:s.onAddClick(s.schema),disabled:s.disabled||s.readonly}))}var Sr=function(s){Ct(h,s);function h(){var x,g;V(this,h);for(var j=arguments.length,de=new Array(j),Qe=0;Qe<j;Qe++)de[Qe]=arguments[Qe];return g=Se(this,(x=He(h)).call.apply(x,[this].concat(de))),It(Je(g),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),It(Je(g),"onPropertyChange",function(et){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(mt,vt){mt===void 0&&lt&&(mt="");var At=T({},g.props.formData,It({},et,mt));g.props.onChange(At,vt&&g.props.errorSchema&&T({},g.props.errorSchema,It({},et,vt)))}}),It(Je(g),"onDropPropertyClick",function(et){return function(lt){lt.preventDefault();var mt=g.props,vt=mt.onChange,At=mt.formData,Xt=T({},At);delete Xt[et],vt(Xt)}}),It(Je(g),"getAvailableKey",function(et,lt){for(var mt=0,vt=et;lt.hasOwnProperty(vt);)vt="".concat(et,"-").concat(++mt);return vt}),It(Je(g),"onKeyChange",function(et){return function(lt,mt){if(et!==lt){lt=g.getAvailableKey(lt,g.props.formData);var vt=T({},g.props.formData),At=It({},et,lt),Xt=Object.keys(vt).map(function(l){var e=At[l]||l;return It({},e,vt[l])}),ar=Object.assign.apply(Object,[{}].concat(hi(Xt)));g.setState({wasPropertyKeyModified:!0}),g.props.onChange(ar,mt&&g.props.errorSchema&&T({},g.props.errorSchema,It({},lt,mt)))}}}),It(Je(g),"handleAddClick",function(et){return function(){var lt=et.additionalProperties.type,mt=T({},g.props.formData);if(et.additionalProperties.hasOwnProperty("$ref")){var vt=g.props.registry,At=vt===void 0?Gi():vt,Xt=Gn({$ref:et.additionalProperties.$ref},At.rootSchema,g.props.formData);lt=Xt.type}mt[g.getAvailableKey("newKey",mt)]=g.getDefaultValue(lt),g.props.onChange(mt)}}),g}return Ee(h,[{key:"isRequired",value:function(g){var j=this.props.schema;return Array.isArray(j.required)&&j.required.indexOf(g)!==-1}},{key:"getDefaultValue",value:function(g){switch(g){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}}},{key:"render",value:function(){var g=this,j=this.props,de=j.uiSchema,Qe=j.formData,et=j.errorSchema,lt=j.idSchema,mt=j.name,vt=j.required,At=j.disabled,Xt=j.readonly,ar=j.idPrefix,l=j.onBlur,e=j.onFocus,t=j.registry,o=t===void 0?Gi():t,c=o.rootSchema,v=o.fields,P=o.formContext,W=v.SchemaField,X=v.TitleField,he=v.DescriptionField,ue=Gn(this.props.schema,c,Qe),je=ue.title===void 0?mt:ue.title,ft=de["ui:description"]||ue.description,Et;try{var Nt=Object.keys(ue.properties||{});Et=Wa(Nt,de["ui:order"])}catch(qt){return p.createElement("div",null,p.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",mt||"root"," object field configuration:",p.createElement("em",null,qt.message),"."),p.createElement("pre",null,JSON.stringify(ue)))}var Pt=de["ui:ObjectFieldTemplate"]||o.ObjectFieldTemplate||kr,Zt={title:de["ui:title"]||je,description:ft,TitleField:X,DescriptionField:he,properties:Et.map(function(qt){var Qr=ue.properties[qt].hasOwnProperty(bs),en=Qr?de.additionalProperties:de[qt],hn=en&&en["ui:widget"]==="hidden";return{content:p.createElement(W,{key:qt,name:qt,required:g.isRequired(qt),schema:ue.properties[qt],uiSchema:en,errorSchema:et[qt],idSchema:lt[qt],idPrefix:ar,formData:(Qe||{})[qt],wasPropertyKeyModified:g.state.wasPropertyKeyModified,onKeyChange:g.onKeyChange(qt),onChange:g.onPropertyChange(qt,Qr),onBlur:l,onFocus:e,registry:o,disabled:At,readonly:Xt,onDropPropertyClick:g.onDropPropertyClick}),name:qt,readonly:Xt,disabled:At,required:vt,hidden:hn}}),readonly:Xt,disabled:At,required:vt,idSchema:lt,uiSchema:de,schema:ue,formData:Qe,formContext:P,registry:o};return p.createElement(Pt,ni({},Zt,{onAddClick:this.handleAddClick}))}}]),h}(p.Component);It(Sr,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});var kn=Sr;function ci(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ci=function(x){return typeof x}:ci=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ci(s)}function Fn(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Oi(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function vi(s,h,x){return h&&Oi(s.prototype,h),x&&Oi(s,x),s}function Go(s,h){return h&&(ci(h)==="object"||typeof h=="function")?h:Vi(s)}function Vi(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Qi(s){return Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Qi(s)}function Yn(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&Mn(s,h)}function Mn(s,h){return Mn=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},Mn(s,h)}function Ki(){return Ki=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ki.apply(this,arguments)}function No(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){tr(s,j,x[j])})}return s}function tr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function ge(s,h){if(s==null)return{};var x=R(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function R(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}var Y="*",Me={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Ze(s,h,x,g){var j=h["ui:field"];if(typeof j=="function")return j;if(typeof j=="string"&&j in g)return g[j];var de=Me[Ns(s)];return!de&&(s.anyOf||s.oneOf)?function(){return null}:de in g?g[de]:function(){var Qe=g.UnsupportedField;return p.createElement(Qe,{schema:s,idSchema:x,reason:"Unknown field type ".concat(s.type)})}}function rt(s){var h=s.label,x=s.required,g=s.id;return h?p.createElement("label",{className:"control-label",htmlFor:g},h,x&&p.createElement("span",{className:"required"},Y)):null}function dt(s){var h=s.id,x=s.label,g=s.onChange;return p.createElement("input",{className:"form-control",type:"text",id:h,onBlur:function(de){return g(de.target.value)},defaultValue:x})}function Kt(s){var h=s.id,x=s.help;return x?typeof x=="string"?p.createElement("p",{id:h,className:"help-block"},x):p.createElement("div",{id:h,className:"help-block"},x):null}function zt(s){var h=s.errors,x=h===void 0?[]:h;return x.length===0?null:p.createElement("div",null,p.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},x.filter(function(g){return!!g}).map(function(g,j){return p.createElement("li",{className:"text-danger",key:j},g)})))}function zr(s){var h=s.id,x=s.label,g=s.children,j=s.errors,de=s.help,Qe=s.description,et=s.hidden,lt=s.required,mt=s.displayLabel;return et?p.createElement("div",{className:"hidden"},g):p.createElement(Vr,s,mt&&p.createElement(rt,{label:x,required:lt,id:h}),mt&&Qe?Qe:null,g,j,de)}zr.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function Vr(s){var h=s.id,x=s.classNames,g=s.disabled,j=s.label,de=s.onKeyChange,Qe=s.onDropPropertyClick,et=s.readonly,lt=s.required,mt=s.schema,vt="".concat(j," Key"),At=mt.hasOwnProperty(bs);return At?p.createElement("div",{className:x},p.createElement("div",{className:"row"},p.createElement("div",{className:"col-xs-5 form-additional"},p.createElement("div",{className:"form-group"},p.createElement(rt,{label:vt,required:lt,id:"".concat(h,"-key")}),p.createElement(dt,{label:j,required:lt,id:"".concat(h,"-key"),onChange:de}))),p.createElement("div",{className:"form-additional form-group col-xs-5"},s.children),p.createElement("div",{className:"col-xs-2"},p.createElement(Te,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:g||et,onClick:Qe(j)})))):p.createElement("div",{className:x},s.children)}function $n(s){var h=s.uiSchema,x=s.formData,g=s.errorSchema,j=s.idPrefix,de=s.name,Qe=s.onChange,et=s.onKeyChange,lt=s.onDropPropertyClick,mt=s.required,vt=s.registry,At=vt===void 0?Gi():vt,Xt=s.wasPropertyKeyModified,ar=Xt===void 0?!1:Xt,l=At.rootSchema,e=At.fields,t=At.formContext,o=h["ui:FieldTemplate"]||At.FieldTemplate||zr,c=s.idSchema,v=Gn(s.schema,l,x);c=Po(zo(v,null,l,x,j),c);var P=Ze(v,h,c,e),W=e.DescriptionField,X=Boolean(s.disabled||h["ui:disabled"]),he=Boolean(s.readonly||h["ui:readonly"]||s.schema.readOnly||v.readOnly),ue=Boolean(s.autofocus||h["ui:autofocus"]);if(Object.keys(v).length===0)return null;var je=rl(v,h,l),ft=g.__errors,Et=ge(g,["__errors"]),Nt=p.createElement(P,Ki({},s,{idSchema:c,schema:v,uiSchema:No({},h,{classNames:void 0}),disabled:X,readonly:he,autofocus:ue,errorSchema:Et,formContext:t,rawErrors:ft})),Pt=c.$id,Zt;ar?Zt=de:Zt=h["ui:title"]||s.schema.title||v.title||de;var qt=h["ui:description"]||s.schema.description||v.description,Qr=ft,en=h["ui:help"],hn=h["ui:widget"]==="hidden",Dn=["form-group","field","field-".concat(v.type),Qr&&Qr.length>0?"field-error has-error has-danger":"",h.classNames].join(" ").trim(),Vn={description:p.createElement(W,{id:Pt+"__description",description:qt,formContext:t}),rawDescription:qt,help:p.createElement(Kt,{id:Pt+"__help",help:en}),rawHelp:typeof en=="string"?en:void 0,errors:p.createElement(zt,{errors:Qr}),rawErrors:Qr,id:Pt,label:Zt,hidden:hn,onChange:Qe,onKeyChange:et,onDropPropertyClick:lt,required:mt,disabled:X,readonly:he,displayLabel:je,classNames:Dn,formContext:t,formData:x,fields:e,schema:v,uiSchema:h,registry:At},Ii=At.fields.AnyOfField,$o=At.fields.OneOfField;return p.createElement(o,Vn,p.createElement(p.Fragment,null,Nt,v.anyOf&&!js(v)&&p.createElement(Ii,{disabled:X,errorSchema:g,formData:x,idPrefix:j,idSchema:c,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:v.anyOf.map(function(Jo){return Gn(Jo,l,x)}),baseType:v.type,registry:At,schema:v,uiSchema:h}),v.oneOf&&!js(v)&&p.createElement($o,{disabled:X,errorSchema:g,formData:x,idPrefix:j,idSchema:c,onBlur:s.onBlur,onChange:s.onChange,onFocus:s.onFocus,options:v.oneOf.map(function(Jo){return Gn(Jo,l,x)}),baseType:v.type,registry:At,schema:v,uiSchema:h})))}var bi=function(s){Yn(h,s);function h(){return Fn(this,h),Go(this,Qi(h).apply(this,arguments))}return vi(h,[{key:"shouldComponentUpdate",value:function(g,j){return!Yi(this.props,g)}},{key:"render",value:function(){return $n(this.props)}}]),h}(p.Component);bi.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};var Pi=bi;function Ri(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Qn(s,j,x[j])})}return s}function Qn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function qi(s,h){if(s==null)return{};var x=ms(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function ms(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function xs(s){var h=s.schema,x=s.name,g=s.uiSchema,j=s.idSchema,de=s.formData,Qe=s.required,et=s.disabled,lt=s.readonly,mt=s.autofocus,vt=s.onChange,At=s.onBlur,Xt=s.onFocus,ar=s.registry,l=ar===void 0?Gi():ar,e=s.rawErrors,t=h.title,o=h.format,c=l.widgets,v=l.formContext,P=js(h)&&Mo(h),W=P?"select":"text";o&&Ga(h,o,c)&&(W=o);var X=Es(g),he=X.widget,ue=he===void 0?W:he,je=X.placeholder,ft=je===void 0?"":je,Et=qi(X,["widget","placeholder"]),Nt=es(h,ue,c);return p.createElement(Nt,{options:Ri({},Et,{enumOptions:P}),schema:h,uiSchema:g,id:j&&j.$id,label:t===void 0?x:t,value:de,onChange:vt,onBlur:At,onFocus:Xt,required:Qe,disabled:et,readonly:lt,formContext:v,autofocus:mt,registry:l,placeholder:ft,rawErrors:e})}xs.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var Ws=xs,ba="*";function Zs(s){var h=s.id,x=s.title,g=s.required;return p.createElement("legend",{id:h},x,g&&p.createElement("span",{className:"required"},ba))}var Us=Zs;function jo(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jo=function(x){return typeof x}:jo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},jo(s)}function Wn(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Sa(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Cs(s,h,x){return h&&Sa(s.prototype,h),x&&Sa(s,x),s}function ra(s,h){return h&&(jo(h)==="object"||typeof h=="function")?h:Ea(s)}function Ea(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ps(s){return Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Ps(s)}function wa(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&As(s,h)}function As(s,h){return As=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},As(s,h)}var na=function(s){wa(h,s);function h(){return Wn(this,h),ra(this,Ps(h).apply(this,arguments))}return Cs(h,[{key:"componentDidMount",value:function(){this.props.formData===void 0&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),h}(p.Component),Na=na;function Oa(s){var h=s.schema,x=s.idSchema,g=s.reason;return p.createElement("div",{className:"unsupported-field"},p.createElement("p",null,"Unsupported field schema",x&&x.$id&&p.createElement("span",null," for"," field ",p.createElement("code",null,x.$id)),g&&p.createElement("em",null,": ",g),"."),h&&p.createElement("pre",null,JSON.stringify(h,null,2)))}var ja=Oa,ii={AnyOfField:jr,ArrayField:Jt,BooleanField:yr,DescriptionField:wr,NumberField:sn,ObjectField:kn,OneOfField:jr,SchemaField:Pi,StringField:Ws,TitleField:Us,NullField:Na,UnsupportedField:ja};function Yo(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yo=function(x){return typeof x}:Yo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Yo(s)}function it(){return it=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},it.apply(this,arguments)}function Xe(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Mt(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function Wt(s,h,x){return h&&Mt(s.prototype,h),x&&Mt(s,x),s}function rr(s,h){return h&&(Yo(h)==="object"||typeof h=="function")?h:cr(s)}function Tr(s){return Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Tr(s)}function cr(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function cn(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&qn(s,h)}function qn(s,h){return qn=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},qn(s,h)}function Pn(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function an(s,h){for(var x=[],g=s;g<=h;g++)x.push({value:g,label:G(g,2)});return x}function Hr(s){return Object.keys(s).every(function(h){return s[h]!==-1})}function rn(s){var h=s.type,x=s.range,g=s.value,j=s.select,de=s.rootId,Qe=s.disabled,et=s.readonly,lt=s.autofocus,mt=s.registry,vt=s.onBlur,At=de+"_"+h,Xt=mt.widgets.SelectWidget;return p.createElement(Xt,{schema:{type:"integer"},id:At,className:"form-control",options:{enumOptions:an(x[0],x[1])},placeholder:h,value:g,disabled:Qe,readonly:et,autofocus:lt,onChange:function(l){return j(h,l)},onBlur:vt})}var Nn=function(s){cn(h,s);function h(x){var g;return Xe(this,h),g=rr(this,Tr(h).call(this,x)),Pn(cr(g),"onChange",function(j,de){g.setState(Pn({},j,typeof de=="undefined"?-1:de),function(){Hr(g.state)&&g.props.onChange(Ho(g.state,g.props.time))})}),Pn(cr(g),"setNow",function(j){j.preventDefault();var de=g.props,Qe=de.time,et=de.disabled,lt=de.readonly,mt=de.onChange;if(!(et||lt)){var vt=bo(new Date().toJSON(),Qe);g.setState(vt,function(){return mt(Ho(g.state,Qe))})}}),Pn(cr(g),"clear",function(j){j.preventDefault();var de=g.props,Qe=de.time,et=de.disabled,lt=de.readonly,mt=de.onChange;et||lt||g.setState(bo("",Qe),function(){return mt(void 0)})}),g.state=bo(x.value,x.time),g}return Wt(h,[{key:"componentDidUpdate",value:function(g,j){g.value&&g.value!==bo(this.props.value,this.props.time)&&this.setState(bo(this.props.value,this.props.time))}},{key:"shouldComponentUpdate",value:function(g,j){return Xs(this,g,j)}},{key:"render",value:function(){var g=this,j=this.props,de=j.id,Qe=j.disabled,et=j.readonly,lt=j.autofocus,mt=j.registry,vt=j.onBlur,At=j.options;return p.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(Xt,ar){return p.createElement("li",{key:ar},p.createElement(rn,it({rootId:de,select:g.onChange},Xt,{disabled:Qe,readonly:et,registry:mt,onBlur:vt,autofocus:lt&&ar===0})))}),(At.hideNowButton!=="undefined"?!At.hideNowButton:!0)&&p.createElement("li",null,p.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),(At.hideClearButton!=="undefined"?!At.hideClearButton:!0)&&p.createElement("li",null,p.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var g=this.props,j=g.time,de=g.options,Qe=this.state,et=Qe.year,lt=Qe.month,mt=Qe.day,vt=Qe.hour,At=Qe.minute,Xt=Qe.second,ar=[{type:"year",range:de.yearsRange,value:et},{type:"month",range:[1,12],value:lt},{type:"day",range:[1,31],value:mt}];return j&&ar.push({type:"hour",range:[0,23],value:vt},{type:"minute",range:[0,59],value:At},{type:"second",range:[0,59],value:Xt}),ar}}]),h}(p.Component);Pn(Nn,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}});var mi=Nn;function gi(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Fi(s,j,x[j])})}return s}function Fi(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Wi(){return Wi=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Wi.apply(this,arguments)}function eo(s){var h=s.registry.widgets.AltDateWidget;return p.createElement(h,Wi({time:!0},s))}eo.defaultProps=gi({},mi.defaultProps,{time:!0});var yi=eo;function Ni(s){return ns(s)||zn(s)||Lo()}function Lo(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function zn(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function ns(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function to(){return to=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},to.apply(this,arguments)}function Zn(s,h){if(s==null)return{};var x=So(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function So(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Si(s){if(!s.id)throw console.log("No id for",s),new Error("no id for props ".concat(JSON.stringify(s)));var h=s.value,x=s.readonly,g=s.disabled,j=s.autofocus,de=s.onBlur,Qe=s.onFocus,et=s.options,lt=s.schema,mt=s.uiSchema,vt=s.formContext,At=s.registry,Xt=s.rawErrors,ar=Zn(s,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);et.inputType?ar.type=et.inputType:ar.type||(lt.type==="number"?(ar.type="number",ar.step="any"):lt.type==="integer"?(ar.type="number",ar.step="1"):ar.type="text"),et.autocomplete&&(ar.autoComplete=et.autocomplete),lt.multipleOf&&(ar.step=lt.multipleOf),typeof lt.minimum!="undefined"&&(ar.min=lt.minimum),typeof lt.maximum!="undefined"&&(ar.max=lt.maximum);var l=function(t){var o=t.target.value;return s.onChange(o===""?et.emptyValue:o)};return[p.createElement("input",to({key:ar.id,className:"form-control",readOnly:x,disabled:g,autoFocus:j,value:h==null?"":h},ar,{list:lt.examples?"examples_".concat(ar.id):null,onChange:l,onBlur:de&&function(e){return de(ar.id,e.target.value)},onFocus:Qe&&function(e){return Qe(ar.id,e.target.value)}})),lt.examples?p.createElement("datalist",{key:"datalist_".concat(ar.id),id:"examples_".concat(ar.id)},Ni(new Set(lt.examples.concat(lt.default?[lt.default]:[]))).map(function(e){return p.createElement("option",{key:e,value:e})})):null]}Si.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};var is=Si;function pi(s){var h=s.schema,x=s.id,g=s.value,j=s.disabled,de=s.readonly,Qe=s.label,et=s.autofocus,lt=s.onBlur,mt=s.onFocus,vt=s.onChange,At=s.DescriptionField,Xt=st(h);return p.createElement("div",{className:"checkbox ".concat(j||de?"disabled":"")},h.description&&p.createElement(At,{description:h.description}),p.createElement("label",null,p.createElement("input",{type:"checkbox",id:x,checked:typeof g=="undefined"?!1:g,required:Xt,disabled:j||de,autoFocus:et,onChange:function(l){return vt(l.target.checked)},onBlur:lt&&function(ar){return lt(x,ar.target.checked)},onFocus:mt&&function(ar){return mt(x,ar.target.checked)}}),p.createElement("span",null,Qe)))}pi.defaultProps={autofocus:!1};var En=pi;function xi(s,h,x){var g=x.indexOf(s),j=h.slice(0,g).concat(s,h.slice(g));return j.sort(function(de,Qe){return x.indexOf(de)>x.indexOf(Qe)})}function _o(s,h){return h.filter(function(x){return x!==s})}function ao(s){var h=s.id,x=s.disabled,g=s.options,j=s.value,de=s.autofocus,Qe=s.readonly,et=s.onChange,lt=g.enumOptions,mt=g.enumDisabled,vt=g.inline;return p.createElement("div",{className:"checkboxes",id:h},lt.map(function(At,Xt){var ar=j.indexOf(At.value)!==-1,l=mt&&mt.indexOf(At.value)!=-1,e=x||l||Qe?"disabled":"",t=p.createElement("span",null,p.createElement("input",{type:"checkbox",id:"".concat(h,"_").concat(Xt),checked:ar,disabled:x||l||Qe,autoFocus:de&&Xt===0,onChange:function(c){var v=lt.map(function(P){var W=P.value;return W});c.target.checked?et(xi(At.value,j,v)):et(_o(At.value,j))}}),p.createElement("span",null,At.label));return vt?p.createElement("label",{key:Xt,className:"checkbox-inline ".concat(e)},t):p.createElement("div",{key:Xt,className:"checkbox ".concat(e)},p.createElement("label",null,t))}))}ao.defaultProps={autofocus:!1,options:{inline:!1}};var Cn=ao;function lo(){return lo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},lo.apply(this,arguments)}function fi(s){var h=s.disabled,x=s.readonly,g=s.registry.widgets.BaseInput;return p.createElement(g,lo({type:"color"},s,{disabled:h||x}))}var Xo=fi;function Bn(){return Bn=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Bn.apply(this,arguments)}function Hn(s){var h=s.onChange,x=s.registry.widgets.BaseInput;return p.createElement(x,Bn({type:"date"},s,{onChange:function(j){return h(j||void 0)}}))}var Eo=Hn;function ro(){return ro=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ro.apply(this,arguments)}function Ts(s){var h=s.value,x=s.onChange,g=s.registry.widgets.BaseInput;return p.createElement(g,ro({type:"datetime-local"},s,{value:C(h),onChange:function(de){return x(N(de))}}))}var uo=Ts;function ki(){return ki=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ki.apply(this,arguments)}function Qo(s){var h=s.registry.widgets.BaseInput;return p.createElement(h,ki({type:"email"},s))}var os=Qo;function zi(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zi=function(x){return typeof x}:zi=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},zi(s)}function go(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Bo(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function ji(s,h,x){return h&&Bo(s.prototype,h),x&&Bo(s,x),s}function Jn(s,h){return h&&(zi(h)==="object"||typeof h=="function")?h:no(s)}function Wo(s){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Wo(s)}function no(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function ei(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&ss(s,h)}function ss(s,h){return ss=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},ss(s,h)}function Zo(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function ti(s,h){return s.replace(";base64",";name=".concat(encodeURIComponent(h),";base64"))}function Mi(s){var h=s.name,x=s.size,g=s.type;return new Promise(function(j,de){var Qe=new window.FileReader;Qe.onerror=de,Qe.onload=function(et){j({dataURL:ti(et.target.result,h),name:h,size:x,type:g})},Qe.readAsDataURL(s)})}function co(s){return Promise.all([].map.call(s,Mi))}function Hi(s){var h=s.filesInfo;return h.length===0?null:p.createElement("ul",{className:"file-info"},h.map(function(x,g){var j=x.name,de=x.size,Qe=x.type;return p.createElement("li",{key:g},p.createElement("strong",null,j)," (",Qe,", ",de," bytes)")}))}function wo(s){return s.filter(function(h){return typeof h!="undefined"}).map(function(h){var x=ye(h),g=x.blob,j=x.name;return{name:j,size:g.size,type:g.type}})}var ps=function(s){ei(h,s);function h(x){var g;go(this,h),g=Jn(this,Wo(h).call(this,x)),Zo(no(g),"onChange",function(Qe){var et=g.props,lt=et.multiple,mt=et.onChange;co(Qe.target.files).then(function(vt){var At={values:vt.map(function(Xt){return Xt.dataURL}),filesInfo:vt};g.setState(At,function(){mt(lt?At.values:At.values[0])})})});var j=x.value,de=Array.isArray(j)?j:[j];return g.state={values:de,filesInfo:wo(de)},g}return ji(h,[{key:"shouldComponentUpdate",value:function(g,j){return Xs(this,g,j)}},{key:"render",value:function(){var g=this,j=this.props,de=j.multiple,Qe=j.id,et=j.readonly,lt=j.disabled,mt=j.autofocus,vt=j.options,At=this.state.filesInfo;return p.createElement("div",null,p.createElement("p",null,p.createElement("input",{ref:function(ar){return g.inputRef=ar},id:Qe,type:"file",disabled:et||lt,onChange:this.onChange,defaultValue:"",autoFocus:mt,multiple:de,accept:vt.accept})),p.createElement(Hi,{filesInfo:At}))}}]),h}(p.Component);ps.defaultProps={autofocus:!1};var ht=ps;function at(s){var h=s.id,x=s.value;return p.createElement("input",{type:"hidden",id:h,value:typeof x=="undefined"?"":x})}var Ti=at;function Ei(){return Ei=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Ei.apply(this,arguments)}function Br(s){var h=s.registry.widgets.BaseInput;return p.createElement(h,Ei({type:"password"},s))}var Xn=Br;function fo(s){var h=s.options,x=s.value,g=s.required,j=s.disabled,de=s.readonly,Qe=s.autofocus,et=s.onBlur,lt=s.onFocus,mt=s.onChange,vt=s.id,At=Math.random().toString(),Xt=h.enumOptions,ar=h.enumDisabled,l=h.inline;return p.createElement("div",{className:"field-radio-group",id:vt},Xt.map(function(e,t){var o=e.value===x,c=ar&&ar.indexOf(e.value)!=-1,v=j||c||de?"disabled":"",P=p.createElement("span",null,p.createElement("input",{type:"radio",checked:o,name:At,required:g,value:e.value,disabled:j||c||de,autoFocus:Qe&&t===0,onChange:function(X){return mt(e.value)},onBlur:et&&function(W){return et(vt,W.target.value)},onFocus:lt&&function(W){return lt(vt,W.target.value)}}),p.createElement("span",null,e.label));return l?p.createElement("label",{key:t,className:"radio-inline ".concat(v)},P):p.createElement("div",{key:t,className:"radio ".concat(v)},p.createElement("label",null,P))}))}fo.defaultProps={autofocus:!1};var Oo=fo;function Uo(){return Uo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},Uo.apply(this,arguments)}function Vs(s){var h=s.schema,x=s.value,g=s.registry.widgets.BaseInput;return p.createElement("div",{className:"field-range-wrapper"},p.createElement(g,Uo({type:"range"},s,Ae(h))),p.createElement("span",{className:"range-view"},x))}var Ks=Vs,La=new Set(["number","integer"]);function _s(s,h){var x=s.type,g=s.items;if(h!==""){{if(x==="array"&&g&&La.has(g.type))return h.map(cs);if(x==="boolean")return h==="true";if(x==="number")return cs(h)}if(s.enum){if(s.enum.every(function(j){return ws(j)==="number"}))return cs(h);if(s.enum.every(function(j){return ws(j)==="boolean"}))return h==="true"}return h}}function Do(s,h){return h?[].slice.call(s.target.options).filter(function(x){return x.selected}).map(function(x){return x.value}):s.target.value}function Un(s){var h=s.schema,x=s.id,g=s.options,j=s.value,de=s.required,Qe=s.disabled,et=s.readonly,lt=s.multiple,mt=s.autofocus,vt=s.onChange,At=s.onBlur,Xt=s.onFocus,ar=s.placeholder,l=g.enumOptions,e=g.enumDisabled,t=lt?[]:"";return p.createElement("select",{id:x,multiple:lt,className:"form-control",value:typeof j=="undefined"?t:j,required:de,disabled:Qe||et,autoFocus:mt,onBlur:At&&function(o){var c=Do(o,lt);At(x,_s(h,c))},onFocus:Xt&&function(o){var c=Do(o,lt);Xt(x,_s(h,c))},onChange:function(c){var v=Do(c,lt);vt(_s(h,v))}},!lt&&h.default===void 0&&p.createElement("option",{value:""},ar),l.map(function(o,c){var v=o.value,P=o.label,W=e&&e.indexOf(v)!=-1;return p.createElement("option",{key:c,value:v,disabled:W},P)}))}Un.defaultProps={autofocus:!1};var Ji=Un;function zs(s){var h=s.id,x=s.options,g=s.placeholder,j=s.value,de=s.required,Qe=s.disabled,et=s.readonly,lt=s.autofocus,mt=s.onChange,vt=s.onBlur,At=s.onFocus,Xt=function(l){var e=l.target.value;return mt(e===""?x.emptyValue:e)};return p.createElement("textarea",{id:h,className:"form-control",value:j||"",placeholder:g,required:de,disabled:Qe,readOnly:et,autoFocus:lt,rows:x.rows,onBlur:vt&&function(ar){return vt(h,ar.target.value)},onFocus:At&&function(ar){return At(h,ar.target.value)},onChange:Xt})}zs.defaultProps={autofocus:!1,options:{}};var ho=zs;function mo(s){var h=s.registry.widgets.BaseInput;return p.createElement(h,s)}var ln=mo;function br(){return br=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},br.apply(this,arguments)}function fr(s){var h=s.registry.widgets.BaseInput;return p.createElement(h,br({type:"url"},s))}var $r=fr;function gn(){return gn=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},gn.apply(this,arguments)}function An(s){var h=s.registry.widgets.BaseInput;return p.createElement(h,gn({type:"number"},s,Ae(s.schema)))}var ri=An,wi={BaseInput:is,PasswordWidget:Xn,RadioWidget:Oo,UpDownWidget:ri,RangeWidget:Ks,SelectWidget:Ji,TextWidget:ln,DateWidget:Eo,DateTimeWidget:uo,AltDateWidget:mi,AltDateTimeWidget:yi,EmailWidget:os,URLWidget:$r,TextareaWidget:ho,HiddenWidget:Ti,ColorWidget:Xo,FileWidget:ht,CheckboxWidget:En,CheckboxesWidget:Cn},$i=a(25497),ia=a.n($i),Ds=a(84778),as=a.n(Ds);function ks(s){return xa(s)||Ms(s)||oa()}function oa(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ms(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function xa(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function $s(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){gs(s,j,x[j])})}return s}function gs(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var xo=Rs(),Is=null,Ca=null,ko="__rjsf_rootSchema";function Rs(){var s=new(as())({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return s.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),s.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),s}function ys(s){return s.length?s.reduce(function(h,x){var g=x.property,j=x.message,de=ia()(g),Qe=h;de.length>0&&de[0]===""&&de.splice(0,1);var et=!0,lt=!1,mt=void 0;try{for(var vt=de.slice(0)[Symbol.iterator](),At;!(et=(At=vt.next()).done);et=!0){var Xt=At.value;Xt in Qe||(Qe[Xt]={}),Qe=Qe[Xt]}}catch(ar){lt=!0,mt=ar}finally{try{!et&&vt.return!=null&&vt.return()}finally{if(lt)throw mt}}return Array.isArray(Qe.__errors)?Qe.__errors=Qe.__errors.concat(j):j&&(Qe.__errors=[j]),h},{}):{}}function Co(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=[];return"__errors"in s&&(x=x.concat(s.__errors.map(function(g){return{stack:"".concat(h,": ").concat(g)}}))),Object.keys(s).reduce(function(g,j){return j!=="__errors"&&(g=g.concat(Co(s[j],j))),g},x)}function sa(s){var h={__errors:[],addError:function(g){this.__errors.push(g)}};return Ai(s)?Object.keys(s).reduce(function(x,g){return $s({},x,gs({},g,sa(s[g])))},h):Array.isArray(s)?s.reduce(function(x,g,j){return $s({},x,gs({},j,sa(g)))},h):h}function Ba(s){return Object.keys(s).reduce(function(h,x){return x==="addError"?h:x==="__errors"?$s({},h,gs({},x,s[x])):$s({},h,gs({},x,Ba(s[x])))},{})}function vs(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s===null?[]:s.map(function(h){var x=h.dataPath,g=h.keyword,j=h.message,de=h.params,Qe=h.schemaPath,et="".concat(x);return{name:g,property:et,message:j,params:de,stack:"".concat(et," ").concat(j).trim(),schemaPath:Qe}})}function aa(s,h,x,g){var j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],de=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},Qe=h;s=Ta(h,s,Qe,!0);var et=!Yi(Ca,j),lt=!Yi(Is,de);(et||lt)&&(xo=Rs()),j&&et&&Array.isArray(j)&&(xo.addMetaSchema(j),Ca=j),de&&lt&&Ai(de)&&(Object.keys(de).forEach(function(o){xo.addFormat(o,de[o])}),Is=de);var mt=null;try{xo.validate(h,s)}catch(o){mt=o}var vt=vs(xo.errors);xo.errors=null;var At=mt&&mt.message&&typeof mt.message=="string"&&mt.message.includes("no schema with key or ref ");At&&(vt=[].concat(ks(vt),[{stack:mt.message}])),typeof g=="function"&&(vt=g(vt));var Xt=ys(vt);if(At&&(Xt=$s({},Xt,{$schema:{__errors:[mt.message]}})),typeof x!="function")return{errors:vt,errorSchema:Xt};var ar=x(s,sa(s)),l=Ba(ar),e=Po(Xt,l,!0),t=Co(e);return{errors:t,errorSchema:e}}function qo(s){var h=s;if(s.constructor===Object){h=$s({},s);for(var x in h){var g=h[x];x==="$ref"&&typeof g=="string"&&g.startsWith("#")?h[x]=ko+g:h[x]=qo(g)}}else if(Array.isArray(s)){h=ks(s);for(var j=0;j<h.length;j++)h[j]=qo(h[j])}return h}function io(s,h,x){try{return xo.addSchema(x,ko).validate(qo(s),h)}catch{return!1}finally{xo.removeSchema(ko)}}function po(s){var h=tl(s,"string");return yo(h)==="symbol"?h:String(h)}function tl(s,h){if(yo(s)!=="object"||s===null)return s;var x=s[Symbol.toPrimitive];if(x!==void 0){var g=x.call(s,h||"default");if(yo(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(s)}function la(s){return Aa(s)||Zi(s)||Pa()}function Pa(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Zi(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Aa(s){if(Array.isArray(s)){for(var h=0,x=new Array(s.length);h<s.length;h++)x[h]=s[h];return x}}function yo(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yo=function(x){return typeof x}:yo=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},yo(s)}function ls(){return ls=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},ls.apply(this,arguments)}function vo(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Hs(s,j,x[j])})}return s}function Hs(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function Fs(s,h){if(s==null)return{};var x=us(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function us(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}var bs="__additional_property",ua={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Ss(s,h,x){if(!s.additionalProperties)return!1;var g=Es(h),j=g.expandable;return j===!1?j:s.maxProperties!==void 0?Object.keys(x).length<s.maxProperties:!0}function Gi(){return{fields:ii,widgets:wi,definitions:{},rootSchema:{},formContext:{}}}function Ns(s){var h=s.type;return!h&&s.const?ws(s.const):!h&&s.enum?"string":!h&&(s.properties||s.additionalProperties)?"object":h instanceof Array&&h.length===2&&h.includes("null")?h.find(function(x){return x!=="null"}):h}function es(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=Ns(s);function j(et){if(!et.MergedWidget){var lt=et.defaultProps&&et.defaultProps.options||{};et.MergedWidget=function(mt){var vt=mt.options,At=vt===void 0?{}:vt,Xt=Fs(mt,["options"]);return p.createElement(et,ls({options:vo({},lt,At)},Xt))}}return et.MergedWidget}if(typeof h=="function"||z.isForwardRef(p.createElement(h))||z.isMemo(h))return j(h);if(typeof h!="string")throw new Error("Unsupported widget definition: ".concat(yo(h)));if(x.hasOwnProperty(h)){var de=x[h];return es(s,de,x)}if(!ua.hasOwnProperty(g))throw new Error('No widget for type "'.concat(g,'"'));if(ua[g].hasOwnProperty(h)){var Qe=x[ua[g][h]];return es(s,Qe,x)}throw new Error('No widget "'.concat(h,'" for type "').concat(g,'"'))}function Ga(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return es(s,h,x),!0}catch(g){if(g.message&&(g.message.startsWith("No widget")||g.message.startsWith("Unsupported widget")))return!1;throw g}}function Vo(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,de=Ai(s)?s:{},Qe=Ai(g)?g:{},et=h;if(Ai(et)&&Ai(de.default))et=Po(et,de.default);else if("default"in de)et=de.default;else if("$ref"in de){var lt=Ko(de.$ref,x);return Vo(lt,et,x,Qe,j)}else if("dependencies"in de){var mt=Da(de,x,Qe);return Vo(mt,et,x,Qe,j)}else Gs(de)?et=de.items.map(function(l,e){return Vo(l,Array.isArray(h)?h[e]:void 0,x,Qe,j)}):"oneOf"in de?de=de.oneOf[De(void 0,de.oneOf,x)]:"anyOf"in de&&(de=de.anyOf[De(void 0,de.anyOf,x)]);switch(typeof et=="undefined"&&(et=de.default),Ns(de)){case"object":return Object.keys(de.properties||{}).reduce(function(l,e){var t=Vo(de.properties[e],(et||{})[e],x,(Qe||{})[e],j);return(j||t!==void 0)&&(l[e]=t),l},{});case"array":if(Array.isArray(et)&&(et=et.map(function(l,e){return Vo(de.items[e]||de.additionalItems||{},l,x)})),Array.isArray(g)&&(et=g.map(function(l,e){return Vo(de.items,(et||{})[e],x,l)})),de.minItems){if(fa(de,x))return et||[];var vt=et?et.length:0;if(de.minItems>vt){var At=et||[],Xt=Array.isArray(de.items)?de.additionalItems:de.items,ar=oe()(new Array(de.minItems-vt),Vo(Xt,Xt.defaults,x));return At.concat(ar)}}}return et}function Ta(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ai(s))throw new Error("Invalid schema: "+s);var j=Gn(s,x,h),de=Vo(j,s.default,x,h,g);return typeof h=="undefined"?de:Ai(h)||Array.isArray(h)?ca(de,h):h===0||h===!1||h===""?h:h||de}function ca(s,h){if(Array.isArray(h))return Array.isArray(s)||(s=[]),h.map(function(g,j){return s[j]?ca(s[j],g):g});if(Ai(h)){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,j){return g[j]=ca(s?s[j]:{},h[j]),g},x)}else return h}function Es(s){return Object.keys(s).filter(function(h){return h.indexOf("ui:")===0}).reduce(function(h,x){var g=s[x];return x==="ui:widget"&&Ai(g)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),vo({},h,g.options||{},{widget:g.component})):x==="ui:options"&&Ai(g)?vo({},h,g):vo({},h,Hs({},x.substring(3),g))},{})}function rl(s,h,x){var g=Es(h),j=g.label,de=j===void 0?!0:j,Qe=Ns(s);return Qe==="array"&&(de=fa(s,x)||da(s,h,x)),Qe==="object"&&(de=!1),Qe==="boolean"&&!h["ui:widget"]&&(de=!1),h["ui:field"]&&(de=!1),de}function Ai(s){return typeof File!="undefined"&&s instanceof File?!1:yo(s)==="object"&&s!==null&&!Array.isArray(s)}function Po(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=Object.assign({},s);return Object.keys(h).reduce(function(j,de){var Qe=s?s[de]:{},et=h[de];return s&&s.hasOwnProperty(de)&&Ai(et)?j[de]=Po(Qe,et,x):x&&Array.isArray(Qe)&&Array.isArray(et)?j[de]=Qe.concat(et):j[de]=et,j},g)}function cs(s){if(s!==""){if(s===null)return null;if(/\.$/.test(s)||/\.0$/.test(s))return s;var h=Number(s),x=typeof h=="number"&&!Number.isNaN(h);return/\.\d*0$/.test(s)?s:x?h:s}}function Wa(s,h){if(!Array.isArray(h))return s;var x=function(At){return At.reduce(function(Xt,ar){return Xt[ar]=!0,Xt},{})},g=function(At){return At.length>1?"properties '".concat(At.join("', '"),"'"):"property '".concat(At[0],"'")},j=x(s),de=h.filter(function(vt){return vt==="*"||j[vt]}),Qe=x(de),et=s.filter(function(vt){return!Qe[vt]}),lt=de.indexOf("*");if(lt===-1){if(et.length)throw new Error("uiSchema order list does not contain ".concat(g(et)));return de}if(lt!==de.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var mt=la(de);return mt.splice.apply(mt,[lt,1].concat(la(et))),mt}function _a(s){return Array.isArray(s.enum)&&s.enum.length===1||s.hasOwnProperty("const")}function Js(s){if(Array.isArray(s.enum)&&s.enum.length===1)return s.enum[0];if(s.hasOwnProperty("const"))return s.const;throw new Error("schema cannot be inferred as a constant")}function js(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=Gn(s,h),g=x.oneOf||x.anyOf;return Array.isArray(x.enum)?!0:Array.isArray(g)?g.every(function(j){return _a(j)}):!1}function fa(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!s.uniqueItems||!s.items?!1:js(s.items,h)}function da(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h["ui:widget"]==="files")return!0;if(s.items){var g=Gn(s.items,x);return g.type==="string"&&g.format==="data-url"}return!1}function Gs(s){return Array.isArray(s.items)&&s.items.length>0&&s.items.every(function(h){return Ai(h)})}function Ya(s){return s.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Ai(s.additionalItems)}function Mo(s){if(s.enum)return s.enum.map(function(x,g){var j=s.enumNames&&s.enumNames[g]||String(x);return{label:j,value:x}});var h=s.oneOf||s.anyOf;return h.map(function(x,g){var j=Js(x),de=x.title||String(j);return{schema:x,label:de,value:j}})}function Ko(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=s;if(s.startsWith("#"))s=decodeURIComponent(s.substring(1));else throw new Error("Could not find a definition for ".concat(x,"."));var g=q.get(h,s);if(g===void 0)throw new Error("Could not find a definition for ".concat(x,"."));return g.hasOwnProperty("$ref")?Ko(g.$ref,h):g}var ws=function(h){if(Array.isArray(h))return"array";if(typeof h=="string")return"string";if(h==null)return"null";if(typeof h=="boolean")return"boolean";if(isNaN(h)){if(yo(h)==="object")return"object"}else return"number";return"string"};function ts(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=vo({},s,{properties:vo({},s.properties)}),x=Ai(x)?x:{},Object.keys(x).forEach(function(g){if(!s.properties.hasOwnProperty(g)){var j;s.additionalProperties.hasOwnProperty("$ref")?j=Gn({$ref:s.additionalProperties.$ref},h,x):s.additionalProperties.hasOwnProperty("type")?j=vo({},s.additionalProperties):j={type:ws(x[g])},s.properties[g]=j,s.properties[g][bs]=!0}}),s}function ha(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s.hasOwnProperty("$ref"))return fs(s,h,x);if(s.hasOwnProperty("dependencies")){var g=Da(s,h,x);return Gn(g,h,x)}else return s.hasOwnProperty("allOf")?vo({},s,{allOf:s.allOf.map(function(j){return Gn(j,h,x)})}):s}function fs(s,h,x){var g=Ko(s.$ref,h),j=s.$ref,de=Fs(s,["$ref"]);return Gn(vo({},g,de),h,x)}function Gn(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Ai(s))return{};var g=ha(s,h,x);if("allOf"in s)try{g=ne()(vo({},g,{allOf:g.allOf}))}catch(lt){console.warn(`could not merge subschemas in allOf:
`+lt);var j=g,de=j.allOf,Qe=Fs(j,["allOf"]);return Qe}var et=g.hasOwnProperty("additionalProperties")&&g.additionalProperties!==!1;return et?ts(g,h,x):g}function Da(s,h,x){var g=s.dependencies,j=g===void 0?{}:g,de=Fs(s,["dependencies"]);return"oneOf"in de?de=de.oneOf[De(x,de.oneOf,h)]:"anyOf"in de&&(de=de.anyOf[De(x,de.anyOf,h)]),ka(j,de,h,x)}function ka(s,h,x,g){for(var j in s)if(g[j]!==void 0&&!(h.properties&&!(j in h.properties))){var de=s[j],Qe=Fs(s,[j].map(po));return Array.isArray(de)?h=Za(h,de):Ai(de)&&(h=Ys(h,x,g,j,de)),ka(Qe,h,x,g)}return h}function Za(s,h){if(!h)return s;var x=Array.isArray(s.required)?Array.from(new Set([].concat(la(s.required),la(h)))):h;return vo({},s,{required:x})}function Ys(s,h,x,g,j){var de=Gn(j,h,x),Qe=de.oneOf,et=Fs(de,["oneOf"]);if(s=Va(s,et),Qe===void 0)return s;if(!Array.isArray(Qe))throw new Error("invalid: it is some ".concat(yo(Qe)," instead of an array"));var lt=Qe.map(function(mt){return mt.hasOwnProperty("$ref")?fs(mt,h,x):mt});return Ua(s,h,x,g,lt)}function Ua(s,h,x,g,j){var de=j.filter(function(At){if(!At.properties)return!1;var Xt=At.properties[g];if(Xt){var ar={type:"object",properties:Hs({},g,Xt)},l=aa(x,ar),e=l.errors;return e.length===0}});if(de.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),s;var Qe=de[0],et=Qe.properties,lt=et[g],mt=Fs(et,[g].map(po)),vt=vo({},Qe,{properties:mt});return Va(s,Gn(vt,h,x))}function Va(s,h){var x=Object.assign({},s);return Object.keys(h).reduce(function(g,j){var de=s?s[j]:{},Qe=h[j];return s&&s.hasOwnProperty(j)&&Ai(Qe)?g[j]=Va(de,Qe):s&&h&&(Ns(s)==="object"||Ns(h)==="object")&&j==="required"&&Array.isArray(de)&&Array.isArray(Qe)?g[j]=U()(de,Qe):g[j]=Qe,g},x)}function ma(s){return Object.prototype.toString.call(s)==="[object Arguments]"}function Yi(s,h){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(s===h)return!0;if(typeof s=="function"||typeof h=="function")return!0;if(yo(s)!=="object"||yo(h)!=="object")return!1;if(s===null||h===null)return!1;if(s instanceof Date&&h instanceof Date)return s.getTime()===h.getTime();if(s instanceof RegExp&&h instanceof RegExp)return s.source===h.source&&s.global===h.global&&s.multiline===h.multiline&&s.lastIndex===h.lastIndex&&s.ignoreCase===h.ignoreCase;if(ma(s)||ma(h)){if(!(ma(s)&&ma(h)))return!1;var j=Array.prototype.slice;return Yi(j.call(s),j.call(h),x,g)}else{if(s.constructor!==h.constructor)return!1;var de=Object.keys(s),Qe=Object.keys(h);if(de.length===0&&Qe.length===0)return!0;if(de.length!==Qe.length)return!1;for(var et=x.length;et--;)if(x[et]===s)return g[et]===h;x.push(s),g.push(h),de.sort(),Qe.sort();for(var lt=de.length-1;lt>=0;lt--)if(de[lt]!==Qe[lt])return!1;for(var mt,vt=de.length-1;vt>=0;vt--)if(mt=de[vt],!Yi(s[mt],h[mt],x,g))return!1;return x.pop(),g.pop(),!0}}function Xs(s,h,x){var g=s.props,j=s.state;return!Yi(g,h)||!Yi(j,x)}function zo(s,h,x){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"root",de={$id:h||j};if("$ref"in s||"dependencies"in s||"allOf"in s){var Qe=Gn(s,x,g);return zo(Qe,h,x,g,j)}if("items"in s&&!s.items.$ref)return zo(s.items,h,x,g,j);if(s.type!=="object")return de;for(var et in s.properties||{}){var lt=s.properties[et],mt=de.$id+"_"+et;de[et]=zo(Ai(lt)?lt:{},mt,x,(g||{})[et],j)}return de}function Ao(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",x=arguments.length>2?arguments[2]:void 0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j={$name:h.replace(/^\./,"")};if("$ref"in s||"dependencies"in s||"allOf"in s){var de=Gn(s,x,g);return Ao(de,h,x,g)}if(s.hasOwnProperty("additionalProperties")&&(j.__rjsf_additionalProperties=!0),s.hasOwnProperty("items")&&Array.isArray(g))g.forEach(function(et,lt){j[lt]=Ao(s.items,"".concat(h,".").concat(lt),x,et)});else if(s.hasOwnProperty("properties"))for(var Qe in s.properties)j[Qe]=Ao(s.properties[Qe],"".concat(h,".").concat(Qe),x,(g||{})[Qe]);return j}function bo(s){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!s)return{year:-1,month:-1,day:-1,hour:h?-1:0,minute:h?-1:0,second:h?-1:0};var x=new Date(s);if(Number.isNaN(x.getTime()))throw new Error("Unable to parse date "+s);return{year:x.getUTCFullYear(),month:x.getUTCMonth()+1,day:x.getUTCDate(),hour:h?x.getUTCHours():0,minute:h?x.getUTCMinutes():0,second:h?x.getUTCSeconds():0}}function Ho(s){var h=s.year,x=s.month,g=s.day,j=s.hour,de=j===void 0?0:j,Qe=s.minute,et=Qe===void 0?0:Qe,lt=s.second,mt=lt===void 0?0:lt,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,At=Date.UTC(h,x-1,g,de,et,mt),Xt=new Date(At).toJSON();return vt?Xt:Xt.slice(0,10)}function C(s){if(!s)return"";var h=new Date(s),x=G(h.getFullYear(),4),g=G(h.getMonth()+1,2),j=G(h.getDate(),2),de=G(h.getHours(),2),Qe=G(h.getMinutes(),2),et=G(h.getSeconds(),2),lt=G(h.getMilliseconds(),3);return"".concat(x,"-").concat(g,"-").concat(j,"T").concat(de,":").concat(Qe,":").concat(et,".").concat(lt)}function N(s){if(s)return new Date(s).toJSON()}function G(s,h){for(var x=String(s);x.length<h;)x="0"+x;return x}function ye(s){var h=s.split(","),x=h[0].split(";"),g=x[0].replace("data:",""),j=x.filter(function(vt){return vt.split("=")[0]==="name"}),de;j.length!==1?de="unknown":de=j[0].split("=")[1];for(var Qe=atob(h[1]),et=[],lt=0;lt<Qe.length;lt++)et.push(Qe.charCodeAt(lt));var mt=new window.Blob([new Uint8Array(et)],{type:g});return{blob:mt,name:de}}function Ae(s){var h={};return s.multipleOf&&(h.step=s.multipleOf),(s.minimum||s.minimum===0)&&(h.min=s.minimum),(s.maximum||s.maximum===0)&&(h.max=s.maximum),h}function De(s,h,x){for(var g=0;g<h.length;g++){var j=h[g];if(j.properties){var de={anyOf:Object.keys(j.properties).map(function(lt){return{required:[lt]}})},Qe=void 0;if(j.anyOf){var et=ls({},j);et.allOf?et.allOf=et.allOf.slice():et.allOf=[],et.allOf.push(de),Qe=et}else Qe=Object.assign({},j,de);if(delete Qe.required,io(Qe,s,x))return g}else if(io(j,s,x))return g}return 0}function st(s){return s.const||s.enum&&s.enum.length===1&&s.enum[0]===!0?!0:s.anyOf&&s.anyOf.length===1?st(s.anyOf[0]):s.oneOf&&s.oneOf.length===1?st(s.oneOf[0]):s.allOf?s.allOf.some(st):!1}function xt(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Mr(s,j,x[j])})}return s}function Bt(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bt=function(x){return typeof x}:Bt=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Bt(s)}function or(s,h){if(!(s instanceof h))throw new TypeError("Cannot call a class as a function")}function Er(s,h){for(var x=0;x<h.length;x++){var g=h[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(s,g.key,g)}}function mr(s,h,x){return h&&Er(s.prototype,h),x&&Er(s,x),s}function nr(s,h){return h&&(Bt(h)==="object"||typeof h=="function")?h:xn(s)}function Jr(s){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},Jr(s)}function xn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _n(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),h&&jn(s,h)}function jn(s,h){return jn=Object.setPrototypeOf||function(g,j){return g.__proto__=j,g},jn(s,h)}function Mr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}var yn=function(s){_n(h,s);function h(x){var g;return or(this,h),g=nr(this,Jr(h).call(this,x)),Mr(xn(g),"getUsedFormData",function(j,de){if(de.length===0&&Bt(j)!=="object")return j;var Qe=O()(j,de);return Array.isArray(j)?Object.keys(Qe).map(function(et){return Qe[et]}):Qe}),Mr(xn(g),"getFieldNames",function(j,de){var Qe=function et(lt){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[""];return Object.keys(lt).forEach(function(At){if(Bt(lt[At])==="object"){var Xt=vt.map(function(ar){return"".concat(ar,".").concat(At)});lt[At].__rjsf_additionalProperties&&lt[At].$name!==""?mt.push(lt[At].$name):et(lt[At],mt,Xt)}else At==="$name"&&lt[At]!==""&&vt.forEach(function(ar){ar=ar.replace(/^\./,"");var l=k()(de,ar);(Bt(l)!=="object"||M()(l))&&mt.push(ar)})}),mt};return Qe(j)}),Mr(xn(g),"onChange",function(j,de){if(Ai(j)||Array.isArray(j)){var Qe=g.getStateFromProps(g.props,j);j=Qe.formData}var et=!g.props.noValidate&&g.props.liveValidate,lt={formData:j},mt=j;if(g.props.omitExtraData===!0&&g.props.liveOmit===!0){var vt=Gn(g.state.schema,g.state.schema,j),At=Ao(vt,"",g.state.schema,j),Xt=g.getFieldNames(At,j);mt=g.getUsedFormData(j,Xt),lt={formData:mt}}if(et){var ar=g.validate(mt),l=ar.errors,e=ar.errorSchema,t=l,o=e;g.props.extraErrors&&(e=Po(e,g.props.extraErrors,!0),l=Co(e)),lt={formData:mt,errors:l,errorSchema:e,schemaValidationErrors:t,schemaValidationErrorSchema:o}}else if(!g.props.noValidate&&de){var c=g.props.extraErrors?Po(de,g.props.extraErrors,!0):de;lt={formData:mt,errorSchema:c,errors:Co(c)}}g.setState(lt,function(){return g.props.onChange&&g.props.onChange(g.state)})}),Mr(xn(g),"onBlur",function(){if(g.props.onBlur){var j;(j=g.props).onBlur.apply(j,arguments)}}),Mr(xn(g),"onFocus",function(){if(g.props.onFocus){var j;(j=g.props).onFocus.apply(j,arguments)}}),Mr(xn(g),"onSubmit",function(j){if(j.preventDefault(),j.target===j.currentTarget){j.persist();var de=g.state.formData;if(g.props.omitExtraData===!0){var Qe=Gn(g.state.schema,g.state.schema,de),et=Ao(Qe,"",g.state.schema,de),lt=g.getFieldNames(et,de);de=g.getUsedFormData(de,lt)}if(!g.props.noValidate){var mt=g.validate(de),vt=mt.errors,At=mt.errorSchema,Xt=vt,ar=At;if(Object.keys(vt).length>0){g.props.extraErrors&&(At=Po(At,g.props.extraErrors,!0),vt=Co(At)),g.setState({errors:vt,errorSchema:At,schemaValidationErrors:Xt,schemaValidationErrorSchema:ar},function(){g.props.onError?g.props.onError(vt):console.error("Form validation failed",vt)});return}}var l,e;g.props.extraErrors?(l=g.props.extraErrors,e=Co(l)):(l={},e=[]),g.setState({formData:de,errors:e,errorSchema:l,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){g.props.onSubmit&&g.props.onSubmit(xt({},g.state,{formData:de,status:"submitted"}),j)})}}),g.state=g.getStateFromProps(x,x.formData),g.props.onChange&&!Yi(g.state.formData,g.props.formData)&&g.props.onChange(g.state),g.formElement=null,g}return mr(h,[{key:"UNSAFE_componentWillReceiveProps",value:function(g){var j=this.getStateFromProps(g,g.formData);!Yi(j.formData,g.formData)&&!Yi(j.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(j),this.setState(j)}},{key:"getStateFromProps",value:function(g,j){var de=this.state||{},Qe="schema"in g?g.schema:this.props.schema,et="uiSchema"in g?g.uiSchema:this.props.uiSchema,lt=typeof j!="undefined",mt="liveValidate"in g?g.liveValidate:this.props.liveValidate,vt=lt&&!g.noValidate&&mt,At=Qe,Xt=Ta(Qe,j,At),ar=Gn(Qe,At,Xt),l=g.customFormats,e=g.additionalMetaSchemas,t=function(){return g.noValidate?{errors:[],errorSchema:{}}:g.liveValidate?{errors:de.errors||[],errorSchema:de.errorSchema||{}}:{errors:de.schemaValidationErrors||[],errorSchema:de.schemaValidationErrorSchema||{}}},o,c,v,P;if(vt){var W=this.validate(Xt,Qe,e,l);o=W.errors,c=W.errorSchema,v=o,P=c}else{var X=t();o=X.errors,c=X.errorSchema,v=de.schemaValidationErrors,P=de.schemaValidationErrorSchema}g.extraErrors&&(c=Po(c,g.extraErrors,!0),o=Co(c));var he=zo(ar,et["ui:rootFieldId"],At,Xt,g.idPrefix),ue={schema:Qe,uiSchema:et,idSchema:he,formData:Xt,edit:lt,errors:o,errorSchema:c,additionalMetaSchemas:e};return v&&(ue.schemaValidationErrors=v,ue.schemaValidationErrorSchema=P),ue}},{key:"shouldComponentUpdate",value:function(g,j){return Xs(this,g,j)}},{key:"validate",value:function(g){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.schema,de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.props.additionalMetaSchemas,Qe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.customFormats,et=this.props,lt=et.validate,mt=et.transformErrors,vt=this.getRegistry(),At=vt.rootSchema,Xt=Gn(j,At,g);return aa(g,Xt,lt,mt,de,Qe)}},{key:"renderErrors",value:function(){var g=this.state,j=g.errors,de=g.errorSchema,Qe=g.schema,et=g.uiSchema,lt=this.props,mt=lt.ErrorList,vt=lt.showErrorList,At=lt.formContext;return j.length&&vt!=!1?p.createElement(mt,{errors:j,errorSchema:de,schema:Qe,uiSchema:et,formContext:At}):null}},{key:"getRegistry",value:function(){var g=Gi(),j=g.fields,de=g.widgets;return{fields:xt({},j,this.props.fields),widgets:xt({},de,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))}},{key:"render",value:function(){var g=this,j=this.props,de=j.children,Qe=j.id,et=j.idPrefix,lt=j.className,mt=j.tagName,vt=j.name,At=j.method,Xt=j.target,ar=j.action,l=j.autocomplete,e=j.autoComplete,t=j.enctype,o=j.acceptcharset,c=j.noHtml5Validate,v=j.disabled,P=j.readonly,W=j.formContext,X=this.state,he=X.schema,ue=X.uiSchema,je=X.formData,ft=X.errorSchema,Et=X.idSchema,Nt=this.getRegistry(),Pt=Nt.fields.SchemaField,Zt=mt||"form";l&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var qt=e||l;return p.createElement(Zt,{className:lt||"rjsf",id:Qe,name:vt,method:At,target:Xt,action:ar,autoComplete:qt,encType:t,acceptCharset:o,noValidate:c,onSubmit:this.onSubmit,ref:function(en){g.formElement=en}},this.renderErrors(),p.createElement(Pt,{schema:he,uiSchema:ue,errorSchema:ft,idSchema:Et,idPrefix:et,formContext:W,formData:je,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:Nt,disabled:v,readonly:P}),de||p.createElement("div",null,p.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))}}]),h}(p.Component);Mr(yn,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:$,omitExtraData:!1});function oo(){return oo=Object.assign||function(s){for(var h=1;h<arguments.length;h++){var x=arguments[h];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(s[g]=x[g])}return s},oo.apply(this,arguments)}function oi(s){for(var h=1;h<arguments.length;h++){var x=arguments[h]!=null?arguments[h]:{},g=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(g=g.concat(Object.getOwnPropertySymbols(x).filter(function(j){return Object.getOwnPropertyDescriptor(x,j).enumerable}))),g.forEach(function(j){Rr(s,j,x[j])})}return s}function Rr(s,h,x){return h in s?Object.defineProperty(s,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):s[h]=x,s}function ds(s,h){if(s==null)return{};var x=pa(s,h),g,j;if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(s);for(j=0;j<de.length;j++)g=de[j],!(h.indexOf(g)>=0)&&Object.prototype.propertyIsEnumerable.call(s,g)&&(x[g]=s[g])}return x}function pa(s,h){if(s==null)return{};var x={},g=Object.keys(s),j,de;for(de=0;de<g.length;de++)j=g[de],!(h.indexOf(j)>=0)&&(x[j]=s[j]);return x}function Ci(s){return(0,p.forwardRef)(function(h,x){var g=h.fields,j=h.widgets,de=ds(h,["fields","widgets"]);return g=oi({},s.fields,g),j=oi({},s.widgets,j),p.createElement(ga,oo({},s,de,{fields:g,widgets:j,ref:x}))})}Ci.propTypes={widgets:xe().object,fields:xe().object};var Qs=Ci,ga=yn},76485:function(_e,w,a){var n=a(9850),p=a(93503),I=a(73198),O=a(19003),D=a(35676),k=a(68632),L=a(30898),M=a(74186),$=a(18149),z=a(97030),J=a(78911),ne=a(829),te=a(59756),oe=a(75652),we=a(49599),U=a(67304),q=(nt,...Tt)=>U.apply(null,[nt].concat(D(Tt))),Oe=nt=>ve(tt,nt),ae=nt=>ve(Ke,nt),ve=(nt,Tt)=>nt.indexOf(Tt)!==-1,Te=nt=>!Re(nt).length&&nt!==!1&&nt!==!0,re=nt=>z(nt)||nt===!0||nt===!1,ce=nt=>nt===!1,F=nt=>nt===!0,We=(nt,Tt,Vt)=>Vt(nt),xe=nt=>ne(oe(k(nt))),Be=nt=>nt!==void 0,Ye=nt=>oe(k(nt.map(Re))),kt=nt=>nt[0],Le=nt=>xe(nt),ut=nt=>Math.max.apply(Math,nt),gt=nt=>Math.min.apply(Math,nt),Ut=nt=>nt.some(F),wt=nt=>we(D(nt),$);function Ot(nt){return function(Tt,Vt){return p({[nt]:Tt},{[nt]:Vt})}}function pt(nt){if(Array.isArray(nt.allOf)){var Tt=nt.allOf;return delete nt.allOf,[nt].concat(Tt.map(function(Vt){return pt(Vt)}))}else return[nt]}function Ne(nt,Tt){return nt.map(function(Vt){return Vt&&Vt[Tt]})}function bt(nt,Tt){return nt.map(function(Vt){if(Vt)if(Array.isArray(Vt.items)){var yr=Vt.items[Tt];if(re(yr))return yr;if(Vt.hasOwnProperty("additionalItems"))return Vt.additionalItems}else return Vt.items})}function ot(nt,Tt){return nt.map(function(Vt,yr){try{return Tt(Vt,yr)}catch{return}}).filter(Be)}function fe(nt){return nt.map(function(Tt){if(Tt)return Array.isArray(Tt.items)?Tt.additionalItems:Tt.items})}function Re(nt){return z(nt)||Array.isArray(nt)?Object.keys(nt):[]}function ct(nt,Tt){if(Tt=Tt||[],!nt.length)return Tt;var Vt=nt.slice(0).shift(),yr=nt.slice(1);return Tt.length?ct(yr,D(Tt.map(_r=>Vt.map(wr=>[wr].concat(_r))))):ct(yr,Vt.map(_r=>_r))}function $t(nt,Tt){return Array.isArray(nt)?(nt.splice.apply(nt,[0,0].concat(Tt)),nt):Tt}function er(nt,Tt){var Vt;try{Vt=nt.map(function(yr){return JSON.stringify(yr,null,2)}).join(`
`)}catch{Vt=nt.join(", ")}throw new Error('Could not resolve values for path:"'+Tt.join(".")+`". They are probably incompatible. Values: 
`+Vt)}function Cr(nt){for(var Tt in nt)nt.hasOwnProperty(Tt)&&Te(nt[Tt])&&delete nt[Tt];return nt}function ze(nt,Tt,Vt){return function(yr,_r){if(_r===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return _r=String(_r),nt(yr,null,Vt.concat(Tt,_r))}}function K(nt,Tt,Vt,yr,_r,wr){if(nt.length){var vr=_r.resolvers[Tt];if(!vr)throw new Error("No resolver found for "+Tt);var Ft=we(Vt.map(function(Dr){return nt.reduce(function(Gr,Yr){return Dr[Yr]!==void 0&&(Gr[Yr]=Dr[Yr]),Gr},{})}).filter(Be),p),Kr=Tt==="properties"?tt:Ke,Or=Kr.reduce(function(Dr,Gr){return ve(jt,Gr)?Dr[Gr]=ze(yr,Gr,wr):Dr[Gr]=function(Yr){return yr(Yr,null,wr.concat(Gr))},Dr},{});Tt==="items"&&(Or.itemsArray=ze(yr,"items",wr),Or.items=function(Dr){return yr(Dr,null,wr.concat("items"))});var Nr=vr(Ft,wr.concat(Tt),Or,_r);return z(Nr)||er(Ft,wr.concat(Tt)),Cr(Nr)}}function Z(nt,Tt,Vt){var yr=Ye(Vt||nt),_r=Vt?bt:Ne;return yr.reduce(function(wr,vr){var Ft=_r(nt,vr),Kr=we(Ft.filter(Be),p);return wr[vr]=Tt(Kr,vr),wr},Vt?[]:{})}function Q(nt){te(nt,function(Tt,Vt){Tt===!1&&delete nt[Vt]})}function pe(nt){te(nt,function(Tt,Vt){Tt===!1&&nt.splice(Vt,1)})}function ke(nt){return{required:nt}}var tt=["properties","patternProperties","additionalProperties"],Ke=["items","additionalItems"],jt=["properties","patternProperties","definitions","dependencies"],lr=["anyOf","oneOf"],Jt=["additionalProperties","additionalItems","contains","propertyNames","not","items"],Yt={type(nt){if(nt.some(Array.isArray)){var Tt=nt.map(function(yr){return Array.isArray(yr)?yr:[yr]}),Vt=L.apply(null,Tt);if(Vt.length===1)return Vt[0];if(Vt.length>1)return oe(Vt)}},properties(nt,Tt,Vt,yr){yr.ignoreAdditionalProperties||(nt.forEach(function(wr){var vr=nt.filter(Nr=>Nr!==wr),Ft=Re(wr.properties),Kr=Re(wr.patternProperties),Or=Kr.map(Nr=>new RegExp(Nr));vr.forEach(function(Nr){var Dr=Re(Nr.properties),Gr=Dr.filter(hr=>Or.some(Ie=>Ie.test(hr))),Yr=q(Dr,Ft,Gr);Yr.forEach(function(hr){Nr.properties[hr]=Vt.properties([Nr.properties[hr],wr.additionalProperties],hr)})})}),nt.forEach(function(wr){var vr=nt.filter(Kr=>Kr!==wr),Ft=Re(wr.patternProperties);wr.additionalProperties===!1&&vr.forEach(function(Kr){var Or=Re(Kr.patternProperties),Nr=q(Or,Ft);Nr.forEach(Dr=>delete Kr.patternProperties[Dr])})}));var _r={additionalProperties:Vt.additionalProperties(nt.map(wr=>wr.additionalProperties)),patternProperties:Z(nt.map(wr=>wr.patternProperties),Vt.patternProperties),properties:Z(nt.map(wr=>wr.properties),Vt.properties)};return _r.additionalProperties===!1&&Q(_r.properties),_r},dependencies(nt,Tt,Vt){var yr=Ye(nt);return yr.reduce(function(_r,wr){var vr=Ne(nt,wr),Ft=we(vr.filter(Be),$),Kr=Ft.filter(Array.isArray);if(Kr.length){if(Kr.length===Ft.length)_r[wr]=xe(Ft);else{var Or=Ft.filter(re),Nr=Kr.map(ke);_r[wr]=Vt(Or.concat(Nr),wr)}return _r}return Ft=we(Ft,p),_r[wr]=Vt(Ft,wr),_r},{})},items(nt,Tt,Vt){var yr=nt.map(Ft=>Ft.items),_r=yr.filter(Be),wr={};_r.every(re)?wr.items=Vt.items(yr):wr.items=Z(nt,Vt.itemsArray,yr);var vr;return _r.every(Array.isArray)?vr=nt.map(Ft=>Ft.additionalItems):_r.some(Array.isArray)&&(vr=fe(nt)),vr&&(wr.additionalItems=Vt.additionalItems(vr)),wr.additionalItems===!1&&Array.isArray(wr.items)&&pe(wr.items),wr},oneOf(nt,Tt,Vt){var yr=ct(n(nt)),_r=ot(yr,Vt),wr=we(_r,p);if(wr.length)return wr},not(nt){return{anyOf:nt}},pattern(nt,Tt,Vt,yr,_r){var wr=Tt.pop();_r(nt.map(function(vr){return{[wr]:vr}}))},multipleOf(nt){for(var Tt=nt.slice(0),Vt=1;Tt.some(yr=>!Number.isInteger(yr));)Tt=Tt.map(yr=>yr*10),Vt=Vt*10;return I(Tt)/Vt},enum(nt){var Tt=M.apply(null,nt.concat($));if(Tt.length)return ne(Tt)}};Yt.$id=kt,Yt.$ref=kt,Yt.$schema=kt,Yt.additionalItems=We,Yt.additionalProperties=We,Yt.anyOf=Yt.oneOf,Yt.contains=We,Yt.default=kt,Yt.definitions=Yt.dependencies,Yt.description=kt,Yt.examples=wt,Yt.exclusiveMaximum=gt,Yt.exclusiveMinimum=ut,Yt.maximum=gt,Yt.maxItems=gt,Yt.maxLength=gt,Yt.maxProperties=gt,Yt.minimum=ut,Yt.minItems=ut,Yt.minLength=ut,Yt.minProperties=ut,Yt.propertyNames=We,Yt.required=Le,Yt.title=kt,Yt.uniqueItems=Ut;function Qt(nt,Tt,Vt){Vt=Vt||[],Tt=O(Tt,{ignoreAdditionalProperties:!1,resolvers:Yt});function yr(vr,Ft,Kr){vr=n(vr.filter(Be)),Kr=Kr||[];var Or=z(Ft)?Ft:{};if(!vr.length)return;if(vr.some(ce))return!1;if(vr.every(F))return!0;vr=vr.filter(z);var Nr=Ye(vr);if(ve(Nr,"allOf"))return Qt({allOf:vr},Tt,Vt);var Dr=Nr.filter(Oe);J(Nr,Dr);var Gr=Nr.filter(ae);J(Nr,Gr),Nr.forEach(function(hr){var Ie=Ne(vr,hr),Gt=we(Ie.filter(Be),Ot(hr));if(Gt.length===1&&ve(lr,hr))Or[hr]=Gt[0].map(function(jr){return yr([jr],jr)});else if(Gt.length===1&&!ve(jt,hr)&&!ve(Jt,hr))Or[hr]=Gt[0];else{var ur=Tt.resolvers[hr]||Tt.resolvers.defaultResolver;if(!ur)throw new Error("No resolver found for key "+hr+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var dr;ve(jt,hr)||ve(lr,hr)?dr=ze(yr,hr,Kr):dr=function(jr){return yr(jr,null,Kr.concat(hr))};var Wr=!1;Or[hr]=ur(Gt,Kr.concat(hr),dr,Tt,function(jr){return Wr=Array.isArray(jr),Yr(jr)}),Or[hr]===void 0&&!Wr?er(Gt,Kr.concat(hr)):Or[hr]===void 0&&delete Or[hr]}}),Object.assign(Or,K(Dr,"properties",vr,yr,Tt,Kr)),Object.assign(Or,K(Gr,"items",vr,yr,Tt,Kr));function Yr(hr){Or.allOf=$t(Or.allOf,hr)}return Or}var _r=k(pt(nt)),wr=yr(_r,nt);return wr}Qt.options={resolvers:Yt},_e.exports=Qt},69914:function(_e,w){"use strict";var a;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=typeof Symbol=="function"&&Symbol.for,p=n?Symbol.for("react.element"):60103,I=n?Symbol.for("react.portal"):60106,O=n?Symbol.for("react.fragment"):60107,D=n?Symbol.for("react.strict_mode"):60108,k=n?Symbol.for("react.profiler"):60114,L=n?Symbol.for("react.provider"):60109,M=n?Symbol.for("react.context"):60110,$=n?Symbol.for("react.async_mode"):60111,z=n?Symbol.for("react.concurrent_mode"):60111,J=n?Symbol.for("react.forward_ref"):60112,ne=n?Symbol.for("react.suspense"):60113,te=n?Symbol.for("react.suspense_list"):60120,oe=n?Symbol.for("react.memo"):60115,we=n?Symbol.for("react.lazy"):60116,U=n?Symbol.for("react.block"):60121,q=n?Symbol.for("react.fundamental"):60117,Oe=n?Symbol.for("react.responder"):60118,ae=n?Symbol.for("react.scope"):60119;function ve(re){if(typeof re=="object"&&re!==null){var ce=re.$$typeof;switch(ce){case p:switch(re=re.type,re){case $:case z:case O:case k:case D:case ne:return re;default:switch(re=re&&re.$$typeof,re){case M:case J:case we:case oe:case L:return re;default:return ce}}case I:return ce}}}function Te(re){return ve(re)===z}a=$,a=z,a=M,a=L,a=p,a=J,a=O,a=we,a=oe,a=I,a=k,a=D,a=ne,a=function(re){return Te(re)||ve(re)===$},a=Te,a=function(re){return ve(re)===M},a=function(re){return ve(re)===L},a=function(re){return typeof re=="object"&&re!==null&&re.$$typeof===p},w.isForwardRef=function(re){return ve(re)===J},a=function(re){return ve(re)===O},a=function(re){return ve(re)===we},w.isMemo=function(re){return ve(re)===oe},a=function(re){return ve(re)===I},a=function(re){return ve(re)===k},a=function(re){return ve(re)===D},a=function(re){return ve(re)===ne},a=function(re){return typeof re=="string"||typeof re=="function"||re===O||re===z||re===k||re===D||re===ne||re===te||typeof re=="object"&&re!==null&&(re.$$typeof===we||re.$$typeof===oe||re.$$typeof===L||re.$$typeof===M||re.$$typeof===J||re.$$typeof===q||re.$$typeof===Oe||re.$$typeof===ae||re.$$typeof===U)},a=ve},38294:function(_e,w,a){"use strict";_e.exports=a(69914)},80070:function(_e,w,a){"use strict";a.d(w,{Q2:function(){return Gr}});var n=a(74182),p=a(52322),I=a(65549),O=a(61837),D=a(13880),k=a(95544),L=a(60905),M=a(27556),$=a(86619),z=a(90436),J=a(16715),ne=a(11776),te=a(38402),oe=a(86136),we=a(49378),U=a(90324),q=a(70595),Oe=a(19353),ae=a(17373),ve=a(74828),Te=a(42494),re=a(77277),ce=a(85256),F=a(21324),We=a(5806),xe=a(64326),Be=a(84899),Ye=a(44962),kt=a(2682),Le=a(11433),ut=a(12231);function gt(){return gt=Object.assign?Object.assign.bind():function(Ie){for(var Gt=1;Gt<arguments.length;Gt++){var ur=arguments[Gt];for(var dr in ur)Object.prototype.hasOwnProperty.call(ur,dr)&&(Ie[dr]=ur[dr])}return Ie},gt.apply(this,arguments)}function Ut(Ie,Gt){if(Ie==null)return{};var ur={},dr=Object.keys(Ie),Wr,jr;for(jr=0;jr<dr.length;jr++)Wr=dr[jr],!(Gt.indexOf(Wr)>=0)&&(ur[Wr]=Ie[Wr]);return ur}var wt=["uiSchema","registry"];function Ot(Ie){var Gt=Ie.registry,ur=Ut(Ie,wt),dr=Gt.translateString;return(0,p.jsx)(O.Z,gt({title:dr(D.g8.AddItemButton)},ur,{color:"primary",children:(0,p.jsx)(I.Z,{})}))}function pt(Ie){var Gt=Ie.children,ur=Ie.disabled,dr=Ie.hasToolbar,Wr=Ie.hasCopy,jr=Ie.hasMoveDown,Pr=Ie.hasMoveUp,Zr=Ie.hasRemove,Ar=Ie.index,Lr=Ie.onCopyIndexClick,qr=Ie.onDropIndexClick,mn=Ie.onReorderClick,Ur=Ie.readonly,pn=Ie.uiSchema,bn=Ie.registry,wn=bn.templates.ButtonTemplates,Xr=wn.CopyButton,fn=wn.MoveDownButton,On=wn.MoveUpButton,nn=wn.RemoveButton,Tn={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return(0,p.jsxs)(L.Z,{container:!0,alignItems:"center",children:[(0,p.jsx)(L.Z,{item:!0,xs:!0,style:{overflow:"auto"},children:(0,p.jsx)(k.Z,{mb:2,children:(0,p.jsx)(M.Z,{elevation:2,children:(0,p.jsx)(k.Z,{p:2,children:Gt})})})}),dr&&(0,p.jsxs)(L.Z,{item:!0,children:[(Pr||jr)&&(0,p.jsx)(On,{style:Tn,disabled:ur||Ur||!Pr,onClick:mn(Ar,Ar-1),uiSchema:pn,registry:bn}),(Pr||jr)&&(0,p.jsx)(fn,{style:Tn,disabled:ur||Ur||!jr,onClick:mn(Ar,Ar+1),uiSchema:pn,registry:bn}),Wr&&(0,p.jsx)(Xr,{style:Tn,disabled:ur||Ur,onClick:Lr(Ar),uiSchema:pn,registry:bn}),Zr&&(0,p.jsx)(nn,{style:Tn,disabled:ur||Ur,onClick:qr(Ar),uiSchema:pn,registry:bn})]})]})}var Ne=["key"];function bt(Ie){var Gt=Ie.canAdd,ur=Ie.disabled,dr=Ie.idSchema,Wr=Ie.uiSchema,jr=Ie.items,Pr=Ie.onAddClick,Zr=Ie.readonly,Ar=Ie.registry,Lr=Ie.required,qr=Ie.schema,mn=Ie.title,Ur=(0,D.LI)(Wr),pn=(0,D.t4)("ArrayFieldDescriptionTemplate",Ar,Ur),bn=(0,D.t4)("ArrayFieldItemTemplate",Ar,Ur),wn=(0,D.t4)("ArrayFieldTitleTemplate",Ar,Ur),Xr=Ar.templates.ButtonTemplates.AddButton;return(0,p.jsx)(M.Z,{elevation:2,children:(0,p.jsxs)(k.Z,{p:2,children:[(0,p.jsx)(wn,{idSchema:dr,title:Ur.title||mn,schema:qr,uiSchema:Wr,required:Lr,registry:Ar}),(0,p.jsx)(pn,{idSchema:dr,description:Ur.description||qr.description,schema:qr,uiSchema:Wr,registry:Ar}),(0,p.jsxs)(L.Z,{container:!0,children:[jr&&jr.map(function(fn){var On=fn.key,nn=Ut(fn,Ne);return(0,p.jsx)(bn,gt({},nn),On)}),Gt&&(0,p.jsx)(L.Z,{container:!0,justifyContent:"flex-end",children:(0,p.jsx)(L.Z,{item:!0,children:(0,p.jsx)(k.Z,{mt:2,children:(0,p.jsx)(Xr,{className:"array-item-add",onClick:Pr,disabled:ur||Zr,uiSchema:Wr,registry:Ar})})})})]},"array-item-list-"+dr.$id)]})})}var ot=["id","name","placeholder","required","readonly","disabled","type","label","hideLabel","value","onChange","onChangeOverride","onBlur","onFocus","autofocus","options","schema","uiSchema","rawErrors","formContext","registry","InputLabelProps"],fe=["step","min","max"],Re=["date","datetime-local","file","time"];function ct(Ie){var Gt=Ie.id,ur=Ie.placeholder,dr=Ie.required,Wr=Ie.readonly,jr=Ie.disabled,Pr=Ie.type,Zr=Ie.label,Ar=Ie.hideLabel,Lr=Ie.value,qr=Ie.onChange,mn=Ie.onChangeOverride,Ur=Ie.onBlur,pn=Ie.onFocus,bn=Ie.autofocus,wn=Ie.options,Xr=Ie.schema,fn=Ie.rawErrors,On=fn===void 0?[]:fn,nn=Ie.InputLabelProps,Tn=Ut(Ie,ot),Sn=(0,D.TC)(Xr,Pr,wn),sn=Sn.step,un=Sn.min,ni=Sn.max,hi=Ut(Sn,fe),Bi=gt({inputProps:gt({step:sn,min:un,max:ni},Xr.examples?{list:(0,D.RS)(Gt)}:void 0)},hi),Pe=function(Ee){var Se=Ee.target.value;return qr(Se===""?wn.emptyValue:Se)},y=function(Ee){var Se=Ee.target.value;return Ur(Gt,Se)},T=function(Ee){var Se=Ee.target.value;return pn(Gt,Se)},V=Re.includes(Pr)?gt({},nn,{shrink:!0}):nn;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($.Z,gt({id:Gt,name:Gt,placeholder:ur,label:(0,D.RY)(Zr||void 0,Ar,!1),autoFocus:bn,required:dr,disabled:jr||Wr},Bi,{value:Lr||Lr===0?Lr:"",error:On.length>0,onChange:mn||Pe,onBlur:y,onFocus:T,InputLabelProps:V},Tn,{"aria-describedby":(0,D.Jx)(Gt,!!Xr.examples)})),Array.isArray(Xr.examples)&&(0,p.jsx)("datalist",{id:(0,D.RS)(Gt),children:Xr.examples.concat(Xr.default&&!Xr.examples.includes(Xr.default)?[Xr.default]:[]).map(function(ee){return(0,p.jsx)("option",{value:ee},ee)})})]})}function $t(Ie){var Gt=Ie.id,ur=Ie.description;return ur?(0,p.jsx)(z.Z,{id:Gt,variant:"subtitle2",style:{marginTop:"5px"},children:ur}):null}function er(Ie){var Gt=Ie.errors,ur=Ie.registry,dr=ur.translateString;return(0,p.jsx)(M.Z,{elevation:2,children:(0,p.jsxs)(k.Z,{mb:2,p:2,children:[(0,p.jsx)(z.Z,{variant:"h6",children:dr(D.g8.ErrorsLabel)}),(0,p.jsx)(ne.Z,{dense:!0,children:Gt.map(function(Wr,jr){return(0,p.jsxs)(te.Z,{children:[(0,p.jsx)(oe.Z,{children:(0,p.jsx)(J.Z,{color:"error"})}),(0,p.jsx)(we.Z,{primary:Wr.stack})]},jr)})})]})})}var Cr=["icon","color","uiSchema","registry"],ze=["iconType"];function K(Ie){var Gt=Ie.icon,ur=Ie.color,dr=Ut(Ie,Cr);return(0,p.jsx)(O.Z,gt({},dr,{size:"small",color:ur,children:Gt}))}function Z(Ie){var Gt=Ie.registry.translateString;return(0,p.jsx)(K,gt({title:Gt(D.g8.CopyButton)},Ie,{icon:(0,p.jsx)(Oe.Z,{fontSize:"small"})}))}function Q(Ie){var Gt=Ie.registry.translateString;return(0,p.jsx)(K,gt({title:Gt(D.g8.MoveDownButton)},Ie,{icon:(0,p.jsx)(q.Z,{fontSize:"small"})}))}function pe(Ie){var Gt=Ie.registry.translateString;return(0,p.jsx)(K,gt({title:Gt(D.g8.MoveUpButton)},Ie,{icon:(0,p.jsx)(U.Z,{fontSize:"small"})}))}function ke(Ie){var Gt=Ie.iconType,ur=Ut(Ie,ze),dr=ur.registry.translateString;return(0,p.jsx)(K,gt({title:dr(D.g8.RemoveButton)},ur,{color:"secondary",icon:(0,p.jsx)(ae.Z,{fontSize:Gt==="default"?"medium":"small"})}))}function tt(Ie){var Gt=Ie.errors,ur=Gt===void 0?[]:Gt,dr=Ie.idSchema;if(ur.length===0)return null;var Wr=(0,D.UR)(dr);return(0,p.jsx)(ne.Z,{dense:!0,disablePadding:!0,children:ur.map(function(jr,Pr){return(0,p.jsx)(te.Z,{disableGutters:!0,children:(0,p.jsx)(ve.Z,{id:Wr,children:jr})},Pr)})})}function Ke(Ie){var Gt=Ie.idSchema,ur=Ie.help;if(!ur)return null;var dr=(0,D.JL)(Gt);return(0,p.jsx)(ve.Z,{id:dr,children:ur})}function jt(Ie){var Gt=Ie.id,ur=Ie.children,dr=Ie.classNames,Wr=Ie.style,jr=Ie.disabled,Pr=Ie.displayLabel,Zr=Ie.hidden,Ar=Ie.label,Lr=Ie.onDropPropertyClick,qr=Ie.onKeyChange,mn=Ie.readonly,Ur=Ie.required,pn=Ie.rawErrors,bn=pn===void 0?[]:pn,wn=Ie.errors,Xr=Ie.help,fn=Ie.rawDescription,On=Ie.schema,nn=Ie.uiSchema,Tn=Ie.registry,Sn=(0,D.LI)(nn),sn=(0,D.t4)("WrapIfAdditionalTemplate",Tn,Sn);return Zr?(0,p.jsx)("div",{style:{display:"none"},children:ur}):(0,p.jsx)(sn,{classNames:dr,style:Wr,disabled:jr,id:Gt,label:Ar,onDropPropertyClick:Lr,onKeyChange:qr,readonly:mn,required:Ur,schema:On,uiSchema:nn,registry:Tn,children:(0,p.jsxs)(Te.Z,{fullWidth:!0,error:!!bn.length,required:Ur,children:[ur,Pr&&fn?(0,p.jsx)(z.Z,{variant:"caption",color:"textSecondary",children:fn}):null,wn,Xr]})})}function lr(Ie){var Gt=Ie.description,ur=Ie.title,dr=Ie.properties,Wr=Ie.required,jr=Ie.disabled,Pr=Ie.readonly,Zr=Ie.uiSchema,Ar=Ie.idSchema,Lr=Ie.schema,qr=Ie.formData,mn=Ie.onAddClick,Ur=Ie.registry,pn=(0,D.LI)(Zr),bn=(0,D.t4)("TitleFieldTemplate",Ur,pn),wn=(0,D.t4)("DescriptionFieldTemplate",Ur,pn),Xr=Ur.templates.ButtonTemplates.AddButton;return(0,p.jsxs)(p.Fragment,{children:[ur&&(0,p.jsx)(bn,{id:(0,D.Vt)(Ar),title:ur,required:Wr,schema:Lr,uiSchema:Zr,registry:Ur}),Gt&&(0,p.jsx)(wn,{id:(0,D.Si)(Ar),description:Gt,schema:Lr,uiSchema:Zr,registry:Ur}),(0,p.jsxs)(L.Z,{container:!0,spacing:2,style:{marginTop:"10px"},children:[dr.map(function(fn,On){return fn.hidden?fn.content:(0,p.jsx)(L.Z,{item:!0,xs:12,style:{marginBottom:"10px"},children:fn.content},On)}),(0,D.Rc)(Lr,Zr,qr)&&(0,p.jsx)(L.Z,{container:!0,justifyContent:"flex-end",children:(0,p.jsx)(L.Z,{item:!0,children:(0,p.jsx)(Xr,{className:"object-property-expand",onClick:mn(Lr),disabled:jr||Pr,uiSchema:Zr,registry:Ur})})})]})]})}function Jt(Ie){var Gt=Ie.uiSchema,ur=(0,D.rF)(Gt),dr=ur.submitText,Wr=ur.norender,jr=ur.props,Pr=jr===void 0?{}:jr;return Wr?null:(0,p.jsx)(k.Z,{marginTop:3,children:(0,p.jsx)(re.Z,gt({type:"submit",variant:"contained",color:"primary"},Pr,{children:dr}))})}function Yt(Ie){var Gt=Ie.id,ur=Ie.title;return(0,p.jsxs)(k.Z,{id:Gt,mb:1,mt:1,children:[(0,p.jsx)(z.Z,{variant:"h5",children:ur}),(0,p.jsx)(ce.Z,{})]})}function Qt(Ie){var Gt=Ie.children,ur=Ie.classNames,dr=Ie.style,Wr=Ie.disabled,jr=Ie.id,Pr=Ie.label,Zr=Ie.onDropPropertyClick,Ar=Ie.onKeyChange,Lr=Ie.readonly,qr=Ie.required,mn=Ie.schema,Ur=Ie.uiSchema,pn=Ie.registry,bn=pn.templates,wn=pn.translateString,Xr=bn.ButtonTemplates.RemoveButton,fn=wn(D.g8.KeyLabel,[Pr]),On=D.jk in mn,nn={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!On)return(0,p.jsx)("div",{className:ur,style:dr,children:Gt});var Tn=function(sn){var un=sn.target;return Ar(un.value)};return(0,p.jsxs)(L.Z,{container:!0,alignItems:"center",spacing:2,className:ur,style:dr,children:[(0,p.jsx)(L.Z,{item:!0,xs:!0,children:(0,p.jsx)($.Z,{fullWidth:!0,required:qr,label:fn,defaultValue:Pr,disabled:Wr||Lr,id:jr+"-key",name:jr+"-key",onBlur:Lr?void 0:Tn,type:"text"})}),(0,p.jsx)(L.Z,{item:!0,xs:!0,children:Gt}),(0,p.jsx)(L.Z,{item:!0,children:(0,p.jsx)(Xr,{iconType:"default",style:nn,disabled:Wr||Lr,onClick:Zr(Pr),uiSchema:Ur,registry:pn})})]},jr+"-key")}function nt(){return{ArrayFieldItemTemplate:pt,ArrayFieldTemplate:bt,BaseInputTemplate:ct,ButtonTemplates:{AddButton:Ot,CopyButton:Z,MoveDownButton:Q,MoveUpButton:pe,RemoveButton:ke,SubmitButton:Jt},DescriptionFieldTemplate:$t,ErrorListTemplate:er,FieldErrorTemplate:tt,FieldHelpTemplate:Ke,FieldTemplate:jt,ObjectFieldTemplate:lr,TitleFieldTemplate:Yt,WrapIfAdditionalTemplate:Qt}}var Tt=null;function Vt(Ie){var Gt,ur=Ie.schema,dr=Ie.id,Wr=Ie.value,jr=Ie.disabled,Pr=Ie.readonly,Zr=Ie.label,Ar=Zr===void 0?"":Zr,Lr=Ie.hideLabel,qr=Ie.autofocus,mn=Ie.onChange,Ur=Ie.onBlur,pn=Ie.onFocus,bn=Ie.registry,wn=Ie.options,Xr=Ie.uiSchema,fn=(0,D.t4)("DescriptionFieldTemplate",bn,wn),On=(0,D.iE)(ur),nn=function(ni,hi){return mn(hi)},Tn=function(ni){var hi=ni.target.value;return Ur(dr,hi)},Sn=function(ni){var hi=ni.target.value;return pn(dr,hi)},sn=(Gt=wn.description)!=null?Gt:ur.description;return(0,p.jsxs)(p.Fragment,{children:[!Lr&&!!sn&&(0,p.jsx)(fn,{id:(0,D.Si)(dr),description:sn,schema:ur,uiSchema:Xr,registry:bn}),(0,p.jsx)(We.Z,{control:(0,p.jsx)(F.Z,{id:dr,name:dr,checked:typeof Wr=="undefined"?!1:Boolean(Wr),required:On,disabled:jr||Pr,autoFocus:qr,onChange:nn,onBlur:Tn,onFocus:Sn,"aria-describedby":(0,D.Jx)(dr)}),label:(0,D.RY)(Ar,Lr,!1)})]})}function yr(Ie){var Gt=Ie.label,ur=Ie.hideLabel,dr=Ie.id,Wr=Ie.disabled,jr=Ie.options,Pr=Ie.value,Zr=Ie.autofocus,Ar=Ie.readonly,Lr=Ie.required,qr=Ie.onChange,mn=Ie.onBlur,Ur=Ie.onFocus,pn=jr.enumOptions,bn=jr.enumDisabled,wn=jr.inline,Xr=jr.emptyValue,fn=Array.isArray(Pr)?Pr:[Pr],On=function(sn){return function(un){var ni=un.target.checked;qr(ni?(0,D.U3)(sn,fn,pn):(0,D.aI)(sn,fn,pn))}},nn=function(sn){var un=sn.target.value;return mn(dr,(0,D.QP)(un,pn,Xr))},Tn=function(sn){var un=sn.target.value;return Ur(dr,(0,D.QP)(un,pn,Xr))};return(0,p.jsxs)(p.Fragment,{children:[(0,D.RY)((0,p.jsx)(Be.Z,{required:Lr,htmlFor:dr,children:Gt||void 0}),ur),(0,p.jsx)(xe.Z,{id:dr,row:!!wn,children:Array.isArray(pn)&&pn.map(function(Sn,sn){var un=(0,D.TR)(Sn.value,fn),ni=Array.isArray(bn)&&bn.indexOf(Sn.value)!==-1,hi=(0,p.jsx)(F.Z,{id:(0,D.DK)(dr,sn),name:dr,checked:un,disabled:Wr||ni||Ar,autoFocus:Zr&&sn===0,onChange:On(sn),onBlur:nn,onFocus:Tn,"aria-describedby":(0,D.Jx)(dr)});return(0,p.jsx)(We.Z,{control:hi,label:Sn.label},sn)})})]})}function _r(Ie){var Gt,ur=Ie.id,dr=Ie.options,Wr=Ie.value,jr=Ie.required,Pr=Ie.disabled,Zr=Ie.readonly,Ar=Ie.label,Lr=Ie.hideLabel,qr=Ie.onChange,mn=Ie.onBlur,Ur=Ie.onFocus,pn=dr.enumOptions,bn=dr.enumDisabled,wn=dr.emptyValue,Xr=function(sn,un){return qr((0,D.QP)(un,pn,wn))},fn=function(sn){var un=sn.target.value;return mn(ur,(0,D.QP)(un,pn,wn))},On=function(sn){var un=sn.target.value;return Ur(ur,(0,D.QP)(un,pn,wn))},nn=dr?dr.inline:!1,Tn=(Gt=(0,D.Rt)(Wr,pn))!=null?Gt:null;return(0,p.jsxs)(p.Fragment,{children:[(0,D.RY)((0,p.jsx)(Be.Z,{required:jr,htmlFor:ur,children:Ar||void 0}),Lr),(0,p.jsx)(kt.Z,{id:ur,name:ur,value:Tn,row:nn,onChange:Xr,onBlur:fn,onFocus:On,"aria-describedby":(0,D.Jx)(ur),children:Array.isArray(pn)&&pn.map(function(Sn,sn){var un=Array.isArray(bn)&&bn.indexOf(Sn.value)!==-1,ni=(0,p.jsx)(We.Z,{control:(0,p.jsx)(Ye.Z,{name:ur,id:(0,D.DK)(ur,sn),color:"primary"}),label:Sn.label,value:String(sn),disabled:Pr||un||Zr},sn);return ni})})]})}function wr(Ie){var Gt=Ie.value,ur=Ie.readonly,dr=Ie.disabled,Wr=Ie.onBlur,jr=Ie.onFocus,Pr=Ie.options,Zr=Ie.schema,Ar=Ie.onChange,Lr=Ie.required,qr=Ie.label,mn=Ie.hideLabel,Ur=Ie.id,pn=gt({value:Gt,label:qr,id:Ur,name:Ur},(0,D.um)(Zr)),bn=function(On,nn){Ar(nn!=null?nn:Pr.emptyValue)},wn=function(On){var nn=On.target.value;return Wr(Ur,nn)},Xr=function(On){var nn=On.target.value;return jr(Ur,nn)};return(0,p.jsxs)(p.Fragment,{children:[(0,D.RY)((0,p.jsx)(Be.Z,{required:Lr,htmlFor:Ur,children:qr||void 0}),mn),(0,p.jsx)(Le.Z,gt({disabled:dr||ur,onChange:bn,onBlur:wn,onFocus:Xr,valueLabelDisplay:"auto"},pn,{"aria-describedby":(0,D.Jx)(Ur)}))]})}var vr=["schema","id","name","options","label","hideLabel","required","disabled","readonly","placeholder","value","multiple","autofocus","onChange","onBlur","onFocus","rawErrors","registry","uiSchema","hideError","formContext"];function Ft(Ie){var Gt=Ie.id,ur=Ie.options,dr=Ie.label,Wr=Ie.hideLabel,jr=Ie.required,Pr=Ie.disabled,Zr=Ie.readonly,Ar=Ie.placeholder,Lr=Ie.value,qr=Ie.multiple,mn=Ie.autofocus,Ur=Ie.onChange,pn=Ie.onBlur,bn=Ie.onFocus,wn=Ie.rawErrors,Xr=wn===void 0?[]:wn,fn=Ut(Ie,vr),On=ur.enumOptions,nn=ur.enumDisabled,Tn=ur.emptyValue;qr=typeof qr=="undefined"?!1:!!qr;var Sn=qr?[]:"",sn=typeof Lr=="undefined"||qr&&Lr.length<1||!qr&&Lr===Sn,un=function(y){var T=y.target.value;return Ur((0,D.QP)(T,On,Tn))},ni=function(y){var T=y.target.value;return pn(Gt,(0,D.QP)(T,On,Tn))},hi=function(y){var T=y.target.value;return bn(Gt,(0,D.QP)(T,On,Tn))},Bi=(0,D.Rt)(Lr,On,qr);return(0,p.jsx)($.Z,gt({id:Gt,name:Gt,label:(0,D.RY)(dr,Wr||!dr,!1),value:sn?Sn:Bi,required:jr,disabled:Pr||Zr,autoFocus:mn,placeholder:Ar,error:Xr.length>0,onChange:un,onBlur:ni,onFocus:hi},fn,{select:!0,InputLabelProps:gt({},fn.InputLabelProps,{shrink:!sn}),SelectProps:gt({},fn.SelectProps,{multiple:qr}),"aria-describedby":(0,D.Jx)(Gt),children:Array.isArray(On)&&On.map(function(Pe,y){var T=Pe.value,V=Pe.label,ee=Array.isArray(nn)&&nn.indexOf(T)!==-1;return(0,p.jsx)(ut.Z,{value:String(y),disabled:ee,children:V},y)})}))}function Kr(Ie){var Gt=Ie.options,ur=Ie.registry,dr=(0,D.t4)("BaseInputTemplate",ur,Gt),Wr=5;return(typeof Gt.rows=="string"||typeof Gt.rows=="number")&&(Wr=Gt.rows),(0,p.jsx)(dr,gt({},Ie,{multiline:!0,rows:Wr}))}function Or(){return{CheckboxWidget:Vt,CheckboxesWidget:yr,RadioWidget:_r,RangeWidget:wr,SelectWidget:Ft,TextareaWidget:Kr}}var Nr=null;function Dr(){return{templates:nt(),widgets:Or()}}var Gr=Dr();function Yr(){return withTheme(Dr())}var hr=null},13880:function(_e,w,a){"use strict";a.d(w,{jk:function(){return lo},F8:function(){return Bn},M9:function(){return ki},BO:function(){return Qo},YU:function(){return zi},PK:function(){return Bo},If:function(){return ji},MA:function(){return Jn},Sr:function(){return ei},g$:function(){return ss},dW:function(){return Zo},t5:function(){return no},g8:function(){return zo},J1:function(){return Hi},ji:function(){return co},TE:function(){return So},Jx:function(){return fa},mH:function(){return Si},Rc:function(){return ps},v$:function(){return ht},hf:function(){return Pa},OP:function(){return Zi},qt:function(){return at},Si:function(){return cs},XG:function(){return yo},aI:function(){return vo},Rt:function(){return Fs},TR:function(){return Hs},U3:function(){return us},QP:function(){return ls},UR:function(){return Wa},RS:function(){return _a},Tx:function(){return Rs},jV:function(){return fo},TC:function(){return Ss},f_:function(){return Uo},rF:function(){return Ns},t4:function(){return es},LI:function(){return wo},us:function(){return ca},H7:function(){return Ai},JL:function(){return Js},A7:function(){return ys},FZ:function(){return ks},Kn:function(){return Zn},RY:function(){return Gs},_4:function(){return Ya},PM:function(){return Ms},DK:function(){return da},pp:function(){return Ko},$2:function(){return ws},vk:function(){return ts},xk:function(){return ha},um:function(){return ua},iE:function(){return fs},N0:function(){return Gn},Vt:function(){return js},tC:function(){return Da},mp:function(){return ka},y5:function(){return Za},yv:function(){return Ys},Yp:function(){return Ua},J0:function(){return Va},RQ:function(){return Xs}});var n=a(65255),p=a(46218),I=a(43703),O="__lodash_hash_undefined__";function D(C){return this.__data__.set(C,O),this}var k=D;function L(C){return this.__data__.has(C)}var M=L;function $(C){var N=-1,G=C==null?0:C.length;for(this.__data__=new I.Z;++N<G;)this.add(C[N])}$.prototype.add=$.prototype.push=k,$.prototype.has=M;var z=$;function J(C,N){for(var G=-1,ye=C==null?0:C.length;++G<ye;)if(N(C[G],G,C))return!0;return!1}var ne=J;function te(C,N){return C.has(N)}var oe=te,we=1,U=2;function q(C,N,G,ye,Ae,De){var st=G&we,xt=C.length,Bt=N.length;if(xt!=Bt&&!(st&&Bt>xt))return!1;var or=De.get(C),Er=De.get(N);if(or&&Er)return or==N&&Er==C;var mr=-1,nr=!0,Jr=G&U?new z:void 0;for(De.set(C,N),De.set(N,C);++mr<xt;){var xn=C[mr],_n=N[mr];if(ye)var jn=st?ye(_n,xn,mr,N,C,De):ye(xn,_n,mr,C,N,De);if(jn!==void 0){if(jn)continue;nr=!1;break}if(Jr){if(!ne(N,function(Mr,yn){if(!oe(Jr,yn)&&(xn===Mr||Ae(xn,Mr,G,ye,De)))return Jr.push(yn)})){nr=!1;break}}else if(!(xn===_n||Ae(xn,_n,G,ye,De))){nr=!1;break}}return De.delete(C),De.delete(N),nr}var Oe=q,ae=a(187),ve=a(88282),Te=a(78804);function re(C){var N=-1,G=Array(C.size);return C.forEach(function(ye,Ae){G[++N]=[Ae,ye]}),G}var ce=re;function F(C){var N=-1,G=Array(C.size);return C.forEach(function(ye){G[++N]=ye}),G}var We=F,xe=1,Be=2,Ye="[object Boolean]",kt="[object Date]",Le="[object Error]",ut="[object Map]",gt="[object Number]",Ut="[object RegExp]",wt="[object Set]",Ot="[object String]",pt="[object Symbol]",Ne="[object ArrayBuffer]",bt="[object DataView]",ot=ae.Z?ae.Z.prototype:void 0,fe=ot?ot.valueOf:void 0;function Re(C,N,G,ye,Ae,De,st){switch(G){case bt:if(C.byteLength!=N.byteLength||C.byteOffset!=N.byteOffset)return!1;C=C.buffer,N=N.buffer;case Ne:return!(C.byteLength!=N.byteLength||!De(new ve.Z(C),new ve.Z(N)));case Ye:case kt:case gt:return(0,Te.Z)(+C,+N);case Le:return C.name==N.name&&C.message==N.message;case Ut:case Ot:return C==N+"";case ut:var xt=ce;case wt:var Bt=ye&xe;if(xt||(xt=We),C.size!=N.size&&!Bt)return!1;var or=st.get(C);if(or)return or==N;ye|=Be,st.set(C,N);var Er=Oe(xt(C),xt(N),ye,Ae,De,st);return st.delete(C),Er;case pt:if(fe)return fe.call(C)==fe.call(N)}return!1}var ct=Re,$t=a(37245),er=1,Cr=Object.prototype,ze=Cr.hasOwnProperty;function K(C,N,G,ye,Ae,De){var st=G&er,xt=(0,$t.Z)(C),Bt=xt.length,or=(0,$t.Z)(N),Er=or.length;if(Bt!=Er&&!st)return!1;for(var mr=Bt;mr--;){var nr=xt[mr];if(!(st?nr in N:ze.call(N,nr)))return!1}var Jr=De.get(C),xn=De.get(N);if(Jr&&xn)return Jr==N&&xn==C;var _n=!0;De.set(C,N),De.set(N,C);for(var jn=st;++mr<Bt;){nr=xt[mr];var Mr=C[nr],yn=N[nr];if(ye)var oo=st?ye(yn,Mr,nr,N,C,De):ye(Mr,yn,nr,C,N,De);if(!(oo===void 0?Mr===yn||Ae(Mr,yn,G,ye,De):oo)){_n=!1;break}jn||(jn=nr=="constructor")}if(_n&&!jn){var oi=C.constructor,Rr=N.constructor;oi!=Rr&&"constructor"in C&&"constructor"in N&&!(typeof oi=="function"&&oi instanceof oi&&typeof Rr=="function"&&Rr instanceof Rr)&&(_n=!1)}return De.delete(C),De.delete(N),_n}var Z=K,Q=a(57210),pe=a(97885),ke=a(74975),tt=a(98127),Ke=1,jt="[object Arguments]",lr="[object Array]",Jt="[object Object]",Yt=Object.prototype,Qt=Yt.hasOwnProperty;function nt(C,N,G,ye,Ae,De){var st=(0,pe.Z)(C),xt=(0,pe.Z)(N),Bt=st?lr:(0,Q.Z)(C),or=xt?lr:(0,Q.Z)(N);Bt=Bt==jt?Jt:Bt,or=or==jt?Jt:or;var Er=Bt==Jt,mr=or==Jt,nr=Bt==or;if(nr&&(0,ke.Z)(C)){if(!(0,ke.Z)(N))return!1;st=!0,Er=!1}if(nr&&!Er)return De||(De=new p.Z),st||(0,tt.Z)(C)?Oe(C,N,G,ye,Ae,De):ct(C,N,Bt,G,ye,Ae,De);if(!(G&Ke)){var Jr=Er&&Qt.call(C,"__wrapped__"),xn=mr&&Qt.call(N,"__wrapped__");if(Jr||xn){var _n=Jr?C.value():C,jn=xn?N.value():N;return De||(De=new p.Z),Ae(_n,jn,G,ye,De)}}return nr?(De||(De=new p.Z),Z(C,N,G,ye,Ae,De)):!1}var Tt=nt,Vt=a(43391);function yr(C,N,G,ye,Ae){return C===N?!0:C==null||N==null||!(0,Vt.Z)(C)&&!(0,Vt.Z)(N)?C!==C&&N!==N:Tt(C,N,G,ye,yr,Ae)}var _r=yr;function wr(C,N,G){G=typeof G=="function"?G:void 0;var ye=G?G(C,N):void 0;return ye===void 0?_r(C,N,void 0,G):!!ye}var vr=wr,Ft=a(90772),Kr=a(7279),Or=a(404),Nr=a(39075),Dr=a(6279),Gr=a(93122),Yr=a(99001),hr="[object String]";function Ie(C){return typeof C=="string"||!(0,pe.Z)(C)&&(0,Vt.Z)(C)&&(0,Yr.Z)(C)==hr}var Gt=Ie;function ur(C,N,G,ye){var Ae=-1,De=C==null?0:C.length;for(ye&&De&&(G=C[++Ae]);++Ae<De;)G=N(G,C[Ae],Ae,C);return G}var dr=ur;function Wr(C){return function(N,G,ye){for(var Ae=-1,De=Object(N),st=ye(N),xt=st.length;xt--;){var Bt=st[C?xt:++Ae];if(G(De[Bt],Bt,De)===!1)break}return N}}var jr=Wr,Pr=jr(),Zr=Pr,Ar=a(20649);function Lr(C,N){return C&&Zr(C,N,Ar.Z)}var qr=Lr,mn=a(63282);function Ur(C,N){return function(G,ye){if(G==null)return G;if(!(0,mn.Z)(G))return C(G,ye);for(var Ae=G.length,De=N?Ae:-1,st=Object(G);(N?De--:++De<Ae)&&ye(st[De],De,st)!==!1;);return G}}var pn=Ur,bn=pn(qr),wn=bn,Xr=1,fn=2;function On(C,N,G,ye){var Ae=G.length,De=Ae,st=!ye;if(C==null)return!De;for(C=Object(C);Ae--;){var xt=G[Ae];if(st&&xt[2]?xt[1]!==C[xt[0]]:!(xt[0]in C))return!1}for(;++Ae<De;){xt=G[Ae];var Bt=xt[0],or=C[Bt],Er=xt[1];if(st&&xt[2]){if(or===void 0&&!(Bt in C))return!1}else{var mr=new p.Z;if(ye)var nr=ye(or,Er,Bt,C,N,mr);if(!(nr===void 0?_r(Er,or,Xr|fn,ye,mr):nr))return!1}}return!0}var nn=On;function Tn(C){return C===C&&!(0,Gr.Z)(C)}var Sn=Tn;function sn(C){for(var N=(0,Ar.Z)(C),G=N.length;G--;){var ye=N[G],Ae=C[ye];N[G]=[ye,Ae,Sn(Ae)]}return N}var un=sn;function ni(C,N){return function(G){return G==null?!1:G[C]===N&&(N!==void 0||C in Object(G))}}var hi=ni;function Bi(C){var N=un(C);return N.length==1&&N[0][2]?hi(N[0][0],N[0][1]):function(G){return G===C||nn(G,C,N)}}var Pe=Bi,y=a(12930),T=a(23502),V=a(57969),ee=1,Ee=2;function Se(C,N){return(0,T.Z)(C)&&Sn(N)?hi((0,V.Z)(C),N):function(G){var ye=(0,Ft.Z)(G,C);return ye===void 0&&ye===N?(0,y.Z)(G,C):_r(N,ye,ee|Ee)}}var He=Se,Je=a(89930);function Ct(C){return function(N){return N==null?void 0:N[C]}}var Lt=Ct,It=a(89523);function kr(C){return function(N){return(0,It.Z)(N,C)}}var Sr=kr;function kn(C){return(0,T.Z)(C)?Lt((0,V.Z)(C)):Sr(C)}var ci=kn;function Fn(C){return typeof C=="function"?C:C==null?Je.Z:typeof C=="object"?(0,pe.Z)(C)?He(C[0],C[1]):Pe(C):ci(C)}var Oi=Fn;function vi(C,N,G,ye,Ae){return Ae(C,function(De,st,xt){G=ye?(ye=!1,De):N(G,De,st,xt)}),G}var Go=vi;function Vi(C,N,G){var ye=(0,pe.Z)(C)?dr:Go,Ae=arguments.length<3;return ye(C,Oi(N,4),G,Ae,wn)}var Qi=Vi,Yn=a(19510);function Mn(C){return typeof C=="function"?C:Je.Z}var Ki=Mn,No=/\s/;function tr(C){for(var N=C.length;N--&&No.test(C.charAt(N)););return N}var ge=tr,R=/^\s+/;function Y(C){return C&&C.slice(0,ge(C)+1).replace(R,"")}var Me=Y,Ze=a(22758),rt=0/0,dt=/^[-+]0x[0-9a-f]+$/i,Kt=/^0b[01]+$/i,zt=/^0o[0-7]+$/i,zr=parseInt;function Vr(C){if(typeof C=="number")return C;if((0,Ze.Z)(C))return rt;if((0,Gr.Z)(C)){var N=typeof C.valueOf=="function"?C.valueOf():C;C=(0,Gr.Z)(N)?N+"":N}if(typeof C!="string")return C===0?C:+C;C=Me(C);var G=Kt.test(C);return G||zt.test(C)?zr(C.slice(2),G?2:8):dt.test(C)?rt:+C}var $n=Vr,bi=1/0,Pi=17976931348623157e292;function Ri(C){if(!C)return C===0?C:0;if(C=$n(C),C===bi||C===-bi){var N=C<0?-1:1;return N*Pi}return C===C?C:0}var Qn=Ri;function qi(C){var N=Qn(C),G=N%1;return N===N?G?N-G:N:0}var ms=qi,xs=9007199254740991,Ws=4294967295,ba=Math.min;function Zs(C,N){if(C=ms(C),C<1||C>xs)return[];var G=Ws,ye=ba(C,Ws);N=Ki(N),C-=Ws;for(var Ae=(0,Yn.Z)(ye,N);++G<C;)N(G);return Ae}var Us=Zs,jo=a(25513),Wn=a(33372),Sa=a.n(Wn),Cs=a(53338),ra=a(91130),Ea=a(19603);function Ps(C,N){return(0,Ea.Z)((0,ra.Z)(C,N,Je.Z),C+"")}var wa=Ps;function As(C,N,G,ye){for(var Ae=C.length,De=G+(ye?1:-1);ye?De--:++De<Ae;)if(N(C[De],De,C))return De;return-1}var na=As;function Na(C){return C!==C}var Oa=Na;function ja(C,N,G){for(var ye=G-1,Ae=C.length;++ye<Ae;)if(C[ye]===N)return ye;return-1}var ii=ja;function Yo(C,N,G){return N===N?ii(C,N,G):na(C,Oa,G)}var it=Yo;function Xe(C,N){var G=C==null?0:C.length;return!!G&&it(C,N,0)>-1}var Mt=Xe;function Wt(C,N,G){for(var ye=-1,Ae=C==null?0:C.length;++ye<Ae;)if(G(N,C[ye]))return!0;return!1}var rr=Wt,Tr=a(87459);function cr(){}var cn=cr,qn=1/0,Pn=Tr.Z&&1/We(new Tr.Z([,-0]))[1]==qn?function(C){return new Tr.Z(C)}:cn,an=Pn,Hr=200;function rn(C,N,G){var ye=-1,Ae=Mt,De=C.length,st=!0,xt=[],Bt=xt;if(G)st=!1,Ae=rr;else if(De>=Hr){var or=N?null:an(C);if(or)return We(or);st=!1,Ae=oe,Bt=new z}else Bt=N?[]:xt;e:for(;++ye<De;){var Er=C[ye],mr=N?N(Er):Er;if(Er=G||Er!==0?Er:0,st&&mr===mr){for(var nr=Bt.length;nr--;)if(Bt[nr]===mr)continue e;N&&Bt.push(mr),xt.push(Er)}else Ae(Bt,mr,G)||(Bt!==xt&&Bt.push(mr),xt.push(Er))}return xt}var Nn=rn;function mi(C){return(0,Vt.Z)(C)&&(0,mn.Z)(C)}var gi=mi,Fi=wa(function(C){return Nn((0,Cs.Z)(C,1,gi,!0))}),Wi=Fi;function eo(C,N){return _r(C,N)}var yi=eo,Ni=a(7921),Lo=a(52322),zn=a(2784),ns=a(48570),to=a(55487);function Zn(C){return typeof File!="undefined"&&C instanceof File||typeof Date!="undefined"&&C instanceof Date?!1:typeof C=="object"&&C!==null&&!Array.isArray(C)}function So(C){return C.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Zn(C.additionalItems)}function Si(C){if(C!==""){if(C===null)return null;if(/\.$/.test(C)||/\.0$/.test(C)||/\.\d*0$/.test(C))return C;var N=Number(C),G=typeof N=="number"&&!Number.isNaN(N);return G?N:C}}function is(C,N){for(var G=0;G<N.length;G++){var ye=N[G];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(C,Cn(ye.key),ye)}}function pi(C,N,G){return N&&is(C.prototype,N),G&&is(C,G),Object.defineProperty(C,"prototype",{writable:!1}),C}function En(){return En=Object.assign?Object.assign.bind():function(C){for(var N=1;N<arguments.length;N++){var G=arguments[N];for(var ye in G)Object.prototype.hasOwnProperty.call(G,ye)&&(C[ye]=G[ye])}return C},En.apply(this,arguments)}function xi(C){if(C==null)throw new TypeError("Cannot destructure "+C)}function _o(C,N){if(C==null)return{};var G={},ye=Object.keys(C),Ae,De;for(De=0;De<ye.length;De++)Ae=ye[De],!(N.indexOf(Ae)>=0)&&(G[Ae]=C[Ae]);return G}function ao(C,N){if(typeof C!="object"||C===null)return C;var G=C[Symbol.toPrimitive];if(G!==void 0){var ye=G.call(C,N||"default");if(typeof ye!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(C)}function Cn(C){var N=ao(C,"string");return typeof N=="symbol"?N:String(N)}var lo="__additional_property",fi="additionalProperties",Xo="allOf",Bn="anyOf",Hn="const",Eo="default",ro="definitions",Ts="dependencies",uo="enum",ki="__errors",Qo="$id",os="if",zi="items",go="_$junk_option_schema_id$_",Bo="$name",ji="oneOf",Jn="properties",Wo="required",no="submitButtonOptions",ei="$ref",ss="__rjsf_additionalProperties",Zo="__rjsf_rootSchema",ti="ui:field",Mi="ui:widget",co="ui:options",Hi="ui:globalOptions";function wo(C,N){return C===void 0&&(C={}),N===void 0&&(N={}),Object.keys(C).filter(function(G){return G.indexOf("ui:")===0}).reduce(function(G,ye){var Ae,De=C[ye];return ye===Mi&&Zn(De)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),G):ye===co&&Zn(De)?En({},G,De):En({},G,(Ae={},Ae[ye.substring(3)]=De,Ae))},En({},N))}function ps(C,N,G){if(N===void 0&&(N={}),!C.additionalProperties)return!1;var ye=wo(N),Ae=ye.expandable,De=Ae===void 0?!0:Ae;return De===!1?De:C.maxProperties!==void 0&&G?Object.keys(G).length<C.maxProperties:!0}function ht(C){var N,G=(N={},N[ki]=[],N.addError=function(De){this[ki].push(De)},N);if(Array.isArray(C))return C.reduce(function(Ae,De,st){var xt;return En({},Ae,(xt={},xt[st]=ht(De),xt))},G);if((0,n.Z)(C)){var ye=C;return Object.keys(ye).reduce(function(Ae,De){var st;return En({},Ae,(st={},st[De]=ht(ye[De]),st))},G)}return G}function at(C,N){return vr(C,N,function(G,ye){if(typeof G=="function"&&typeof ye=="function")return!0})}function Ti(C,N){var G=N[C],ye=(0,Nr.Z)(N,[C]);return[ye,G]}function Ei(C,N){N===void 0&&(N={});var G=C||"";if(G.startsWith("#"))G=decodeURIComponent(G.substring(1));else throw new Error("Could not find a definition for "+C+".");var ye=Or.get(N,G);if(ye===void 0)throw new Error("Could not find a definition for "+C+".");if(ye[ei]){var Ae=Ti(ei,ye),De=Ae[0],st=Ae[1],xt=Ei(st,N);return Object.keys(De).length>0?En({},De,xt):xt}return ye}function Br(C,N,G,ye,Ae){if(N===void 0)return 0;for(var De=0;De<G.length;De++){var st=G[De];if(Ae&&(0,Dr.Z)(st,[Jn,Ae])){var xt=(0,Ft.Z)(N,Ae),Bt=(0,Ft.Z)(st,[Jn,Ae],{});if(C.isValid(Bt,xt,ye))return De}else if(st[Jn]){var or={anyOf:Object.keys(st[Jn]).map(function(nr){return{required:[nr]}})},Er=void 0;if(st.anyOf){var mr=En({},(xi(st),st));mr.allOf?mr.allOf=mr.allOf.slice():mr.allOf=[],mr.allOf.push(or),Er=mr}else Er=Object.assign({},st,or);if(delete Er.required,C.isValid(Er,N,ye))return De}else if(C.isValid(st,N,ye))return De}return 0}function Xn(C,N,G,ye,Ae){return Br(C,N,G,ye,Ae)}function fo(C){var N,G=(0,Ft.Z)(C,"discriminator.propertyName",void 0);return Gt(G)?N=G:G!==void 0&&console.warn('Expecting discriminator to be a string, got "'+typeof G+'" instead'),N}function Oo(C){return Array.isArray(C)?"array":typeof C=="string"?"string":C==null?"null":typeof C=="boolean"?"boolean":isNaN(C)?typeof C=="object"?"object":"string":"number"}function Uo(C){var N=C.type;return!N&&C.const?Oo(C.const):!N&&C.enum?"string":!N&&(C.properties||C.additionalProperties)?"object":(Array.isArray(N)&&N.length===2&&N.includes("null")&&(N=N.find(function(G){return G!=="null"})),N)}function Vs(C,N){var G=Object.assign({},C);return Object.keys(N).reduce(function(ye,Ae){var De=C?C[Ae]:{},st=N[Ae];return C&&Ae in C&&Zn(st)?ye[Ae]=Vs(De,st):C&&N&&(Uo(C)==="object"||Uo(N)==="object")&&Ae===Wo&&Array.isArray(De)&&Array.isArray(st)?ye[Ae]=Wi(De,st):ye[Ae]=st,ye},G)}var Ks=["if","then","else"],La=["$ref"],_s=["allOf"],Do=["dependencies"],Un=["oneOf"];function Ji(C,N,G,ye){return G===void 0&&(G={}),fr(C,N,G,ye)[0]}function zs(C,N,G,ye,Ae){var De=N.if,st=N.then,xt=N.else,Bt=_o(N,Ks),or=C.isValid(De,Ae,G),Er=[Bt],mr=[];if(ye)st&&typeof st!="boolean"&&(mr=mr.concat(fr(C,st,G,Ae,ye))),xt&&typeof xt!="boolean"&&(mr=mr.concat(fr(C,xt,G,Ae,ye)));else{var nr=or?st:xt;nr&&typeof nr!="boolean"&&(mr=mr.concat(fr(C,nr,G,Ae,ye)))}return mr.length&&(Er=mr.map(function(Jr){return Vs(Bt,Jr)})),Er.flatMap(function(Jr){return fr(C,Jr,G,Ae,ye)})}function ho(C){var N=C.reduce(function(G,ye){return ye.length>1?ye.flatMap(function(Ae){return Us(G.length,function(De){return[].concat(G[De]).concat(Ae)})}):(G.forEach(function(Ae){return Ae.push(ye[0])}),G)},[[]]);return N}function mo(C,N,G,ye,Ae){if(ei in N)return ln(C,N,G,ye,Ae);if(Ts in N){var De=gn(C,N,G,ye,Ae);return De.flatMap(function(Bt){return fr(C,Bt,G,Ae,ye)})}if(Xo in N&&Array.isArray(N.allOf)){var st=N.allOf.map(function(Bt){return fr(C,Bt,G,Ae,ye)}),xt=ho(st);return xt.map(function(Bt){return En({},N,{allOf:Bt})})}return[N]}function ln(C,N,G,ye,Ae){var De=N.$ref,st=_o(N,La),xt=Ei(De,G);return fr(C,En({},xt,st),G,Ae,ye)}function br(C,N,G,ye){var Ae=En({},N,{properties:En({},N.properties)}),De=ye&&Zn(ye)?ye:{};return Object.keys(De).forEach(function(st){if(!(st in Ae.properties)){var xt={};typeof Ae.additionalProperties!="boolean"?ei in Ae.additionalProperties?xt=Ji(C,{$ref:(0,Ft.Z)(Ae.additionalProperties,[ei])},G,De):"type"in Ae.additionalProperties?xt=En({},Ae.additionalProperties):Bn in Ae.additionalProperties||ji in Ae.additionalProperties?xt=En({type:"object"},Ae.additionalProperties):xt={type:Oo((0,Ft.Z)(De,[st]))}:xt={type:Oo((0,Ft.Z)(De,[st]))},Ae.properties[st]=xt,(0,jo.Z)(Ae.properties,[st,lo],!0)}}),Ae}function fr(C,N,G,ye,Ae){if(Ae===void 0&&(Ae=!1),!Zn(N))return[{}];var De=mo(C,N,G,Ae,ye);return De.flatMap(function(st){var xt=st;if(os in xt)return zs(C,xt,G,Ae,ye);if(Xo in N)try{xt=Sa()(st,{deep:!1})}catch(mr){console.warn(`could not merge subschemas in allOf:
`,mr);var Bt=xt,or=_o(Bt,_s);return or}var Er=fi in xt&&xt.additionalProperties!==!1;return Er?br(C,xt,G,ye):xt})}function $r(C,N,G,ye,Ae){var De;if(Array.isArray(N.oneOf)?De=N.oneOf:Array.isArray(N.anyOf)&&(De=N.anyOf),De){var st=Ae===void 0&&ye?{}:Ae,xt=fo(N);De=De.map(function(or){return ei in or?ln(C,or,G,!1,st)[0]:or});var Bt=Xn(C,st,De,G,xt);if(ye)return De;N=De[Bt]}return[N]}function gn(C,N,G,ye,Ae){var De=N.dependencies,st=_o(N,Do),xt=$r(C,st,G,ye,Ae);return xt.flatMap(function(Bt){return An(C,De,Bt,G,ye,Ae)})}function An(C,N,G,ye,Ae,De){var st=[G],xt=function(){if(!Ae&&(0,Ft.Z)(De,[Bt])===void 0||G.properties&&!(Bt in G.properties))return"continue";var mr=Ti(Bt,N),nr=mr[0],Jr=mr[1];return Array.isArray(Jr)?st[0]=ri(G,Jr):Zn(Jr)&&(st=wi(C,G,ye,Bt,Jr,Ae,De)),{v:st.flatMap(function(xn){return An(C,nr,xn,ye,Ae,De)})}};for(var Bt in N){var or=xt();if(or!=="continue"&&typeof or=="object")return or.v}return st}function ri(C,N){if(!N)return C;var G=Array.isArray(C.required)?Array.from(new Set([].concat(C.required,N))):N;return En({},C,{required:G})}function wi(C,N,G,ye,Ae,De,st){var xt=fr(C,Ae,G,st,De);return xt.flatMap(function(Bt){var or=Bt.oneOf,Er=_o(Bt,Un);if(N=Vs(N,Er),or===void 0)return N;var mr=or.map(function(Jr){return typeof Jr=="boolean"||!(ei in Jr)?[Jr]:ln(C,Jr,G,De,st)}),nr=ho(mr);return nr.flatMap(function(Jr){return $i(C,N,G,ye,Jr,De,st)})})}function $i(C,N,G,ye,Ae,De,st){var xt=Ae.filter(function(Bt){if(typeof Bt=="boolean"||!Bt||!Bt.properties)return!1;var or=Bt.properties[ye];if(or){var Er,mr={type:"object",properties:(Er={},Er[ye]=or,Er)};return C.isValid(mr,st,G)||De}return!1});return!De&&xt.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[N]):xt.flatMap(function(Bt){var or=Bt,Er=Ti(ye,or.properties),mr=Er[0],nr=En({},or,{properties:mr}),Jr=fr(C,nr,G,st,De);return Jr.map(function(xn){return Vs(N,xn)})})}var ia={type:"object",$id:go,properties:{__not_really_there__:{type:"number"}}};function Ds(C,N,G,ye){ye===void 0&&(ye={});var Ae=0;return G&&((0,Gr.Z)(G.properties)?Ae+=Qi(G.properties,function(De,st,xt){var Bt=(0,Ft.Z)(ye,xt);if(typeof st=="boolean")return De;if((0,Dr.Z)(st,ei)){var or=Ji(C,st,N,Bt);return De+Ds(C,N,or,Bt||{})}if((0,Dr.Z)(st,ji)&&Bt)return De+as(C,N,Bt,(0,Ft.Z)(st,ji));if(st.type==="object")return De+Ds(C,N,st,Bt||{});if(st.type===Oo(Bt)){var Er=De+1;return st.default?Er+=Bt===st.default?1:-1:st.const&&(Er+=Bt===st.const?1:-1),Er}return De},0):Gt(G.type)&&G.type===Oo(ye)&&(Ae+=1)),Ae}function as(C,N,G,ye,Ae,De){Ae===void 0&&(Ae=-1);var st=ye.reduce(function(or,Er,mr){var nr=[ia,Er],Jr=Xn(C,G,nr,N,De);return Jr===1&&or.push(mr),or},[]);if(st.length===1)return st[0];st.length||Us(ye.length,function(or){return st.push(or)});var xt=st.reduce(function(or,Er){var mr=or.bestScore,nr=ye[Er];(0,Dr.Z)(nr,ei)&&(nr=Ji(C,nr,N,G));var Jr=Ds(C,N,nr,G);return Jr>mr?{bestIndex:Er,bestScore:Jr}:or},{bestIndex:Ae,bestScore:0}),Bt=xt.bestIndex;return Bt}function ks(C){return Array.isArray(C.items)&&C.items.length>0&&C.items.every(function(N){return Zn(N)})}function oa(C,N){if(Array.isArray(N)){var G=Array.isArray(C)?C:[],ye=N.map(function(De,st){return G[st]?oa(G[st],De):De});return ye}if(Zn(N)){var Ae=Object.assign({},C);return Object.keys(N).reduce(function(De,st){return De[st]=oa(C?(0,Ft.Z)(C,st):{},(0,Ft.Z)(N,st)),De},Ae)}return N}function Ms(C,N,G){return G===void 0&&(G=!1),Object.keys(N).reduce(function(ye,Ae){var De=C?C[Ae]:{},st=N[Ae];if(C&&Ae in C&&Zn(st))ye[Ae]=Ms(De,st,G);else if(G&&Array.isArray(De)&&Array.isArray(st)){var xt=st;G==="preventDuplicates"&&(xt=st.reduce(function(Bt,or){return De.includes(or)||Bt.push(or),Bt},[])),ye[Ae]=De.concat(xt)}else ye[Ae]=st;return ye},Object.assign({},C))}function xa(C){return Array.isArray(C.enum)&&C.enum.length===1||Hn in C}function $s(C,N,G){G===void 0&&(G={});var ye=Ji(C,N,G,void 0),Ae=ye.oneOf||ye.anyOf;return Array.isArray(ye.enum)?!0:Array.isArray(Ae)?Ae.every(function(De){return typeof De!="boolean"&&xa(De)}):!1}function gs(C,N,G){return!N.uniqueItems||!N.items||typeof N.items=="boolean"?!1:$s(C,N.items,G)}var xo;(function(C){C[C.Ignore=0]="Ignore",C[C.Invert=1]="Invert",C[C.Fallback=2]="Fallback"})(xo||(xo={}));function Is(C,N,G){if(N===void 0&&(N=xo.Ignore),G===void 0&&(G=-1),G>=0){if(Array.isArray(C.items)&&G<C.items.length){var ye=C.items[G];if(typeof ye!="boolean")return ye}}else if(C.items&&!Array.isArray(C.items)&&typeof C.items!="boolean")return C.items;return N!==xo.Ignore&&Zn(C.additionalItems)?C.additionalItems:{}}function Ca(C,N,G,ye,Ae,De,st){De===void 0&&(De=[]),st===void 0&&(st={});var xt=st,Bt=xt.emptyObjectFields,or=Bt===void 0?"populateAllDefaults":Bt;ye?C[N]=G:or!=="skipDefaults"&&(Zn(G)?(!(0,Kr.Z)(G)||De.includes(N))&&(Ae||or!=="populateRequiredDefaults")&&(C[N]=G):G!==void 0&&(or==="populateAllDefaults"||De.includes(N))&&(C[N]=G))}function ko(C,N,G){var ye=G===void 0?{}:G,Ae=ye.parentDefaults,De=ye.rawFormData,st=ye.rootSchema,xt=st===void 0?{}:st,Bt=ye.includeUndefinedValues,or=Bt===void 0?!1:Bt,Er=ye._recurseList,mr=Er===void 0?[]:Er,nr=ye.experimental_defaultFormStateBehavior,Jr=nr===void 0?void 0:nr,xn=ye.required,_n=xn===void 0?!1:xn,jn=Zn(De)?De:{},Mr=Zn(N)?N:{},yn=Ae,oo=null,oi=mr;if(Zn(yn)&&Zn(Mr.default))yn=Ms(yn,Mr.default);else if(Eo in Mr)yn=Mr.default;else if(ei in Mr){var Rr=Mr[ei];mr.includes(Rr)||(oi=mr.concat(Rr),oo=Ei(Rr,xt))}else if(Ts in Mr){var ds=gn(C,Mr,xt,!1,jn);oo=ds[0]}else if(ks(Mr))yn=Mr.items.map(function(mt,vt){return ko(C,mt,{rootSchema:xt,includeUndefinedValues:or,_recurseList:mr,experimental_defaultFormStateBehavior:Jr,parentDefaults:Array.isArray(Ae)?Ae[vt]:void 0,rawFormData:jn})});else if(ji in Mr){if(Mr.oneOf.length===0)return;var pa=fo(Mr);oo=Mr.oneOf[as(C,xt,(0,Kr.Z)(jn)?void 0:jn,Mr.oneOf,0,pa)]}else if(Bn in Mr){if(Mr.anyOf.length===0)return;var Ci=fo(Mr);oo=Mr.anyOf[as(C,xt,(0,Kr.Z)(jn)?void 0:jn,Mr.anyOf,0,Ci)]}if(oo)return ko(C,oo,{rootSchema:xt,includeUndefinedValues:or,_recurseList:oi,experimental_defaultFormStateBehavior:Jr,parentDefaults:yn,rawFormData:jn});switch(yn===void 0&&(yn=Mr.default),Uo(Mr)){case"object":{var Qs=Object.keys(Mr.properties||{}).reduce(function(mt,vt){var At,Xt=ko(C,(0,Ft.Z)(Mr,[Jn,vt]),{rootSchema:xt,_recurseList:mr,experimental_defaultFormStateBehavior:Jr,includeUndefinedValues:or===!0,parentDefaults:(0,Ft.Z)(yn,[vt]),rawFormData:(0,Ft.Z)(jn,[vt]),required:(At=Mr.required)===null||At===void 0?void 0:At.includes(vt)});return Ca(mt,vt,Xt,or,_n,Mr.required,Jr),mt},{});if(Mr.additionalProperties){var ga=Zn(Mr.additionalProperties)?Mr.additionalProperties:{},s=new Set;Zn(yn)&&Object.keys(yn).filter(function(mt){return!Mr.properties||!Mr.properties[mt]}).forEach(function(mt){return s.add(mt)});var h;Zn(jn)&&(h=[],Object.keys(jn).filter(function(mt){return!Mr.properties||!Mr.properties[mt]}).forEach(function(mt){s.add(mt),h.push(mt)})),s.forEach(function(mt){var vt,At=ko(C,ga,{rootSchema:xt,_recurseList:mr,experimental_defaultFormStateBehavior:Jr,includeUndefinedValues:or===!0,parentDefaults:(0,Ft.Z)(yn,[mt]),rawFormData:(0,Ft.Z)(jn,[mt]),required:(vt=Mr.required)===null||vt===void 0?void 0:vt.includes(mt)});Ca(Qs,mt,At,or,_n,h)})}return Qs}case"array":{if(Array.isArray(yn)&&(yn=yn.map(function(mt,vt){var At=Is(Mr,xo.Fallback,vt);return ko(C,At,{rootSchema:xt,_recurseList:mr,experimental_defaultFormStateBehavior:Jr,parentDefaults:mt})})),Array.isArray(De)){var x=Is(Mr);yn=De.map(function(mt,vt){return ko(C,x,{rootSchema:xt,_recurseList:mr,experimental_defaultFormStateBehavior:Jr,rawFormData:mt,parentDefaults:(0,Ft.Z)(yn,[vt])})})}var g=(Jr==null?void 0:Jr.arrayMinItems)==="requiredOnly";if(g&&!_n)return yn||void 0;var j=Array.isArray(yn)?yn.length:0;if(!Mr.minItems||gs(C,Mr,xt)||Mr.minItems<=j)return yn||[];var de=yn||[],Qe=Is(Mr,xo.Invert),et=Qe.default,lt=new Array(Mr.minItems-j).fill(ko(C,Qe,{parentDefaults:et,rootSchema:xt,_recurseList:mr,experimental_defaultFormStateBehavior:Jr}));return de.concat(lt)}}return yn}function Rs(C,N,G,ye,Ae,De){if(Ae===void 0&&(Ae=!1),!Zn(N))throw new Error("Invalid schema: "+N);var st=Ji(C,N,ye,G),xt=ko(C,st,{rootSchema:ye,includeUndefinedValues:Ae,experimental_defaultFormStateBehavior:De,rawFormData:G});return G==null||typeof G=="number"&&isNaN(G)?xt:Zn(G)||Array.isArray(G)?oa(xt,G):G}function ys(C){return C===void 0&&(C={}),"widget"in wo(C)&&wo(C).widget!=="hidden"}function Co(C,N,G,ye){if(G===void 0&&(G={}),G[Mi]==="files")return!0;if(N.items){var Ae=Ji(C,N.items,ye);return Ae.type==="string"&&Ae.format==="data-url"}return!1}function sa(C,N,G,ye,Ae){G===void 0&&(G={});var De=wo(G,Ae),st=De.label,xt=st===void 0?!0:st,Bt=!!xt,or=Uo(N);return or==="array"&&(Bt=gs(C,N,ye)||Co(C,N,G,ye)||ys(G)),or==="object"&&(Bt=!1),or==="boolean"&&!G[Mi]&&(Bt=!1),G[ti]&&(Bt=!1),Bt}function Ba(C,N,G){if(!G)return N;var ye=N.errors,Ae=N.errorSchema,De=C.toErrorList(G),st=G;return(0,Kr.Z)(Ae)||(st=Ms(Ae,G,!0),De=[].concat(ye).concat(De)),{errorSchema:st,errors:De}}var vs=Symbol("no Value");function aa(C,N,G,ye,Ae){Ae===void 0&&(Ae={});var De;if((0,Dr.Z)(G,Jn)){var st={};if((0,Dr.Z)(ye,Jn)){var xt=(0,Ft.Z)(ye,Jn,{});Object.keys(xt).forEach(function(_n){(0,Dr.Z)(Ae,_n)&&(st[_n]=void 0)})}var Bt=Object.keys((0,Ft.Z)(G,Jn,{})),or={};Bt.forEach(function(_n){var jn=(0,Ft.Z)(Ae,_n),Mr=(0,Ft.Z)(ye,[Jn,_n],{}),yn=(0,Ft.Z)(G,[Jn,_n],{});(0,Dr.Z)(Mr,ei)&&(Mr=Ji(C,Mr,N,jn)),(0,Dr.Z)(yn,ei)&&(yn=Ji(C,yn,N,jn));var oo=(0,Ft.Z)(Mr,"type"),oi=(0,Ft.Z)(yn,"type");if(!oo||oo===oi)if((0,Dr.Z)(st,_n)&&delete st[_n],oi==="object"||oi==="array"&&Array.isArray(jn)){var Rr=aa(C,N,yn,Mr,jn);(Rr!==void 0||oi==="array")&&(or[_n]=Rr)}else{var ds=(0,Ft.Z)(yn,"default",vs),pa=(0,Ft.Z)(Mr,"default",vs);ds!==vs&&ds!==jn&&(pa===jn?st[_n]=ds:(0,Ft.Z)(yn,"readOnly")===!0&&(st[_n]=void 0));var Ci=(0,Ft.Z)(yn,"const",vs),Qs=(0,Ft.Z)(Mr,"const",vs);Ci!==vs&&Ci!==jn&&(st[_n]=Qs===jn?Ci:void 0)}}),De=En({},Ae,st,or)}else if((0,Ft.Z)(ye,"type")==="array"&&(0,Ft.Z)(G,"type")==="array"&&Array.isArray(Ae)){var Er=(0,Ft.Z)(ye,"items"),mr=(0,Ft.Z)(G,"items");if(typeof Er=="object"&&typeof mr=="object"&&!Array.isArray(Er)&&!Array.isArray(mr)){(0,Dr.Z)(Er,ei)&&(Er=Ji(C,Er,N,Ae)),(0,Dr.Z)(mr,ei)&&(mr=Ji(C,mr,N,Ae));var nr=(0,Ft.Z)(Er,"type"),Jr=(0,Ft.Z)(mr,"type");if(!nr||nr===Jr){var xn=(0,Ft.Z)(G,"maxItems",-1);Jr==="object"?De=Ae.reduce(function(_n,jn){var Mr=aa(C,N,mr,Er,jn);return Mr!==void 0&&(xn<0||_n.length<xn)&&_n.push(Mr),_n},[]):De=xn>0&&Ae.length>xn?Ae.slice(0,xn):Ae}}else typeof Er=="boolean"&&typeof mr=="boolean"&&Er===mr&&(De=Ae)}return De}function qo(C,N,G,ye,Ae,De,st,xt){if(xt===void 0&&(xt=[]),ei in N||Ts in N||Xo in N){var Bt=Ji(C,N,De,st),or=xt.findIndex(function(_n){return yi(_n,Bt)});if(or===-1)return qo(C,Bt,G,ye,Ae,De,st,xt.concat(Bt))}if(zi in N&&!(0,Ft.Z)(N,[zi,ei]))return qo(C,(0,Ft.Z)(N,zi),G,ye,Ae,De,st,xt);var Er=Ae||G,mr={$id:Er};if(Uo(N)==="object"&&Jn in N)for(var nr in N.properties){var Jr=(0,Ft.Z)(N,[Jn,nr]),xn=mr[Qo]+ye+nr;mr[nr]=qo(C,Zn(Jr)?Jr:{},G,ye,xn,De,(0,Ft.Z)(st,[nr]),xt)}return mr}function io(C,N,G,ye,Ae,De,st){return De===void 0&&(De="root"),st===void 0&&(st="_"),qo(C,N,De,st,G,ye,Ae)}function po(C,N,G,ye,Ae,De){var st;if(De===void 0&&(De=[]),ei in N||Ts in N||Xo in N){var xt=Ji(C,N,ye,Ae),Bt=De.findIndex(function(jn){return yi(jn,xt)});if(Bt===-1)return po(C,xt,G,ye,Ae,De.concat(xt))}var or=(st={},st[Bo]=G.replace(/^\./,""),st);if(ji in N||Bn in N){var Er=ji in N?N.oneOf:N.anyOf,mr=fo(N),nr=as(C,ye,Ae,Er,0,mr),Jr=Er[nr];or=En({},or,po(C,Jr,G,ye,Ae,De))}if(fi in N&&N[fi]!==!1&&(0,jo.Z)(or,ss,!0),zi in N&&Array.isArray(Ae))Ae.forEach(function(jn,Mr){or[Mr]=po(C,N.items,G+"."+Mr,ye,jn,De)});else if(Jn in N)for(var xn in N.properties){var _n=(0,Ft.Z)(N,[Jn,xn]);or[xn]=po(C,_n,G+"."+xn,ye,(0,Ft.Z)(Ae,[xn]),De)}return or}function tl(C,N,G,ye,Ae){return G===void 0&&(G=""),po(C,N,G,ye,Ae)}var la=function(){function C(G,ye,Ae){this.rootSchema=void 0,this.validator=void 0,this.experimental_defaultFormStateBehavior=void 0,this.rootSchema=ye,this.validator=G,this.experimental_defaultFormStateBehavior=Ae}var N=C.prototype;return N.getValidator=function(){return this.validator},N.doesSchemaUtilsDiffer=function(ye,Ae,De){return De===void 0&&(De={}),!ye||!Ae?!1:this.validator!==ye||!at(this.rootSchema,Ae)||!at(this.experimental_defaultFormStateBehavior,De)},N.getDefaultFormState=function(ye,Ae,De){return De===void 0&&(De=!1),Rs(this.validator,ye,Ae,this.rootSchema,De,this.experimental_defaultFormStateBehavior)},N.getDisplayLabel=function(ye,Ae,De){return sa(this.validator,ye,Ae,this.rootSchema,De)},N.getClosestMatchingOption=function(ye,Ae,De,st){return as(this.validator,this.rootSchema,ye,Ae,De,st)},N.getFirstMatchingOption=function(ye,Ae,De){return Xn(this.validator,ye,Ae,this.rootSchema,De)},N.getMatchingOption=function(ye,Ae,De){return Br(this.validator,ye,Ae,this.rootSchema,De)},N.isFilesArray=function(ye,Ae){return Co(this.validator,ye,Ae,this.rootSchema)},N.isMultiSelect=function(ye){return gs(this.validator,ye,this.rootSchema)},N.isSelect=function(ye){return $s(this.validator,ye,this.rootSchema)},N.mergeValidationData=function(ye,Ae){return Ba(this.validator,ye,Ae)},N.retrieveSchema=function(ye,Ae){return Ji(this.validator,ye,this.rootSchema,Ae)},N.sanitizeDataForNewSchema=function(ye,Ae,De){return aa(this.validator,this.rootSchema,ye,Ae,De)},N.toIdSchema=function(ye,Ae,De,st,xt){return st===void 0&&(st="root"),xt===void 0&&(xt="_"),io(this.validator,ye,Ae,this.rootSchema,De,st,xt)},N.toPathSchema=function(ye,Ae,De){return tl(this.validator,ye,Ae,this.rootSchema,De)},C}();function Pa(C,N,G){return G===void 0&&(G={}),new la(C,N,G)}function Zi(C){var N=C.split(","),G=N[0].split(";"),ye=G[0].replace("data:",""),Ae=G.filter(function(Er){return Er.split("=")[0]==="name"}),De;Ae.length!==1?De="unknown":De=decodeURI(Ae[0].split("=")[1]);try{for(var st=atob(N[1]),xt=[],Bt=0;Bt<st.length;Bt++)xt.push(st.charCodeAt(Bt));var or=new window.Blob([new Uint8Array(xt)],{type:ye});return{blob:or,name:De}}catch(Er){return{blob:{size:0,type:Er.message},name:C}}}function Aa(C,N){var G=C;if(Array.isArray(N)){var ye=G.split(/(%\d)/);N.forEach(function(Ae,De){var st=ye.findIndex(function(xt){return xt==="%"+(De+1)});st>=0&&(ye[st]=Ae)}),G=ye.join("")}return G}function yo(C,N){return Aa(C,N)}function ls(C,N,G){if(N===void 0&&(N=[]),Array.isArray(C))return C.map(function(De){return ls(De,N)}).filter(function(De){return De});var ye=C===""||C===null?-1:Number(C),Ae=N[ye];return Ae?Ae.value:G}function vo(C,N,G){G===void 0&&(G=[]);var ye=ls(C,G);return Array.isArray(N)?N.filter(function(Ae){return!yi(Ae,ye)}):yi(ye,N)?void 0:N}function Hs(C,N){return Array.isArray(N)?N.some(function(G){return yi(G,C)}):yi(N,C)}function Fs(C,N,G){N===void 0&&(N=[]),G===void 0&&(G=!1);var ye=N.map(function(Ae,De){return Hs(Ae.value,C)?String(De):void 0}).filter(function(Ae){return typeof Ae!="undefined"});return G?ye:ye[0]}function us(C,N,G){G===void 0&&(G=[]);var ye=ls(C,G);if(ye){var Ae=G.findIndex(function(xt){return ye===xt.value}),De=G.map(function(xt){var Bt=xt.value;return Bt}),st=N.slice(0,Ae).concat(ye,N.slice(Ae));return st.sort(function(xt,Bt){return Number(De.indexOf(xt)>De.indexOf(Bt))})}return N}var bs=function(){function C(G){this.errorSchema={},this.resetAllErrors(G)}var N=C.prototype;return N.getOrCreateErrorBlock=function(ye){var Ae=Array.isArray(ye)&&ye.length>0||typeof ye=="string",De=Ae?(0,Ft.Z)(this.errorSchema,ye):this.errorSchema;return!De&&ye&&(De={},(0,jo.Z)(this.errorSchema,ye,De)),De},N.resetAllErrors=function(ye){return this.errorSchema=ye?(0,Ni.Z)(ye):{},this},N.addErrors=function(ye,Ae){var De=this.getOrCreateErrorBlock(Ae),st=(0,Ft.Z)(De,ki);if(Array.isArray(st)||(st=[],De[ki]=st),Array.isArray(ye)){var xt;(xt=st).push.apply(xt,ye)}else st.push(ye);return this},N.setErrors=function(ye,Ae){var De=this.getOrCreateErrorBlock(Ae),st=Array.isArray(ye)?[].concat(ye):[ye];return(0,jo.Z)(De,ki,st),this},N.clearErrors=function(ye){var Ae=this.getOrCreateErrorBlock(ye);return(0,jo.Z)(Ae,ki,[]),this},pi(C,[{key:"ErrorSchema",get:function(){return this.errorSchema}}]),C}();function ua(C){var N={};return C.multipleOf&&(N.step=C.multipleOf),(C.minimum||C.minimum===0)&&(N.min=C.minimum),(C.maximum||C.maximum===0)&&(N.max=C.maximum),N}function Ss(C,N,G,ye){G===void 0&&(G={}),ye===void 0&&(ye=!0);var Ae=En({type:N||"text"},ua(C));return G.inputType?Ae.type=G.inputType:N||(C.type==="number"?(Ae.type="number",ye&&Ae.step===void 0&&(Ae.step="any")):C.type==="integer"&&(Ae.type="number",Ae.step===void 0&&(Ae.step=1))),G.autocomplete&&(Ae.autoComplete=G.autocomplete),Ae}var Gi={props:{disabled:!1},submitText:"Submit",norender:!1};function Ns(C){C===void 0&&(C={});var N=wo(C);if(N&&N[no]){var G=N[no];return En({},Gi,G)}return Gi}function es(C,N,G){G===void 0&&(G={});var ye=N.templates;return C==="ButtonTemplates"?ye[C]:G[C]||ye[C]}var Ga=["options"],Vo={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Ta(C){var N=(0,Ft.Z)(C,"MergedWidget");if(!N){var G=C.defaultProps&&C.defaultProps.options||{};N=function(Ae){var De=Ae.options,st=_o(Ae,Ga);return(0,Lo.jsx)(C,En({options:En({},G,De)},st))},(0,jo.Z)(C,"MergedWidget",N)}return N}function ca(C,N,G){G===void 0&&(G={});var ye=Uo(C);if(typeof N=="function"||N&&ns.isForwardRef((0,zn.createElement)(N))||ns.isMemo(N))return Ta(N);if(typeof N!="string")throw new Error("Unsupported widget definition: "+typeof N);if(N in G){var Ae=G[N];return ca(C,Ae,G)}if(typeof ye=="string"){if(!(ye in Vo))throw new Error("No widget for type '"+ye+"'");if(N in Vo[ye]){var De=G[Vo[ye][N]];return ca(C,De,G)}}throw new Error("No widget '"+N+"' for type '"+ye+"'")}function Es(C){for(var N=0,G=0;G<C.length;G+=1){var ye=C.charCodeAt(G);N=(N<<5)-N+ye,N=N&N}return N.toString(16)}function rl(C){return Es(JSON.stringify(C))}function Ai(C,N,G){G===void 0&&(G={});try{return ca(C,N,G),!0}catch(Ae){var ye=Ae;if(ye.message&&(ye.message.startsWith("No widget")||ye.message.startsWith("Unsupported widget")))return!1;throw Ae}}function Po(C,N){var G=Gt(C)?C:C[Qo];return G+"__"+N}function cs(C){return Po(C,"description")}function Wa(C){return Po(C,"error")}function _a(C){return Po(C,"examples")}function Js(C){return Po(C,"help")}function js(C){return Po(C,"title")}function fa(C,N){N===void 0&&(N=!1);var G=N?" "+_a(C):"";return Wa(C)+" "+cs(C)+" "+Js(C)+G}function da(C,N){return C+"-"+N}function Gs(C,N,G){return N?G:C}function Ya(C){return C?new Date(C).toJSON():void 0}function Mo(C){if(uo in C&&Array.isArray(C.enum)&&C.enum.length===1)return C.enum[0];if(Hn in C)return C.const;throw new Error("schema cannot be inferred as a constant")}function Ko(C){var N=C;if(N.enumNames,C.enum)return C.enum.map(function(ye,Ae){var De=N.enumNames&&N.enumNames[Ae]||String(ye);return{label:De,value:ye}});var G=C.oneOf||C.anyOf;return G&&G.map(function(ye){var Ae=ye,De=Mo(Ae),st=Ae.title||String(De);return{schema:Ae,label:st,value:De}})}function ws(C,N){if(!Array.isArray(N))return C;var G=function(mr){return mr.reduce(function(nr,Jr){return nr[Jr]=!0,nr},{})},ye=function(mr){return mr.length>1?"properties '"+mr.join("', '")+"'":"property '"+mr[0]+"'"},Ae=G(C),De=N.filter(function(Er){return Er==="*"||Ae[Er]}),st=G(De),xt=C.filter(function(Er){return!st[Er]}),Bt=De.indexOf("*");if(Bt===-1){if(xt.length)throw new Error("uiSchema order list does not contain "+ye(xt));return De}if(Bt!==De.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var or=[].concat(De);return or.splice.apply(or,[Bt,1].concat(xt)),or}function ts(C,N){for(var G=String(C);G.length<N;)G="0"+G;return G}function ha(C,N){if(N===void 0&&(N=!0),!C)return{year:-1,month:-1,day:-1,hour:N?-1:0,minute:N?-1:0,second:N?-1:0};var G=new Date(C);if(Number.isNaN(G.getTime()))throw new Error("Unable to parse date "+C);return{year:G.getUTCFullYear(),month:G.getUTCMonth()+1,day:G.getUTCDate(),hour:N?G.getUTCHours():0,minute:N?G.getUTCMinutes():0,second:N?G.getUTCSeconds():0}}function fs(C){if(C.const||C.enum&&C.enum.length===1&&C.enum[0]===!0)return!0;if(C.anyOf&&C.anyOf.length===1)return fs(C.anyOf[0]);if(C.oneOf&&C.oneOf.length===1)return fs(C.oneOf[0]);if(C.allOf){var N=function(ye){return fs(ye)};return C.allOf.some(N)}return!1}function Gn(C,N,G){var ye=C.props,Ae=C.state;return!at(ye,N)||!at(Ae,G)}function Da(C,N){N===void 0&&(N=!0);var G=C.year,ye=C.month,Ae=C.day,De=C.hour,st=De===void 0?0:De,xt=C.minute,Bt=xt===void 0?0:xt,or=C.second,Er=or===void 0?0:or,mr=Date.UTC(G,ye-1,Ae,st,Bt,Er),nr=new Date(mr).toJSON();return N?nr:nr.slice(0,10)}function ka(C,N){if(N===void 0&&(N=[]),!C)return[];var G=[];return ki in C&&(G=G.concat(C[ki].map(function(ye){var Ae="."+N.join(".");return{property:Ae,message:ye,stack:Ae+" "+ye}}))),Object.keys(C).reduce(function(ye,Ae){if(Ae!==ki){var De=C[Ae];(0,n.Z)(De)&&(ye=ye.concat(ka(De,[].concat(N,[Ae]))))}return ye},G)}function Za(C){var N=new bs;return C.length&&C.forEach(function(G){var ye=G.property,Ae=G.message,De=ye==="."?[]:(0,to.Z)(ye);De.length>0&&De[0]===""&&De.splice(0,1),Ae&&N.addErrors(Ae,De)}),N.ErrorSchema}function Ys(C){return Object.keys(C).reduce(function(N,G){if(G==="addError")return N;var ye,Ae=C[G];if((0,n.Z)(Ae)){var De;return En({},N,(De={},De[G]=Ys(Ae),De))}return En({},N,(ye={},ye[G]=Ae,ye))},{})}function Ua(C){if(!C)return"";var N=new Date(C),G=ts(N.getFullYear(),4),ye=ts(N.getMonth()+1,2),Ae=ts(N.getDate(),2),De=ts(N.getHours(),2),st=ts(N.getMinutes(),2),xt=ts(N.getSeconds(),2),Bt=ts(N.getMilliseconds(),3);return G+"-"+ye+"-"+Ae+"T"+De+":"+st+":"+xt+"."+Bt}function Va(C,N){if(!N)return C;var G=C.errors,ye=C.errorSchema,Ae=ka(N),De=N;return(0,Kr.Z)(ye)||(De=Ms(ye,N,!0),Ae=[].concat(G).concat(Ae)),{errorSchema:De,errors:Ae}}function ma(C){for(var N in C){var G=C,ye=G[N];N===ei&&typeof ye=="string"&&ye.startsWith("#")?G[N]=Zo+ye:G[N]=Xs(ye)}return C}function Yi(C){for(var N=0;N<C.length;N++)C[N]=Xs(C[N]);return C}function Xs(C){return C.constructor===Object?ma(En({},C)):Array.isArray(C)?Yi([].concat(C)):C}var zo;(function(C){C.ArrayItemTitle="Item",C.MissingItems="Missing items definition",C.YesLabel="Yes",C.NoLabel="No",C.CloseLabel="Close",C.ErrorsLabel="Errors",C.NewStringDefault="New Value",C.AddButton="Add",C.AddItemButton="Add Item",C.CopyButton="Copy",C.MoveDownButton="Move down",C.MoveUpButton="Move up",C.RemoveButton="Remove",C.NowLabel="Now",C.ClearLabel="Clear",C.AriaDateLabel="Select a date",C.PreviewLabel="Preview",C.DecrementAriaLabel="Decrease value by 1",C.IncrementAriaLabel="Increase value by 1",C.UnknownFieldType="Unknown field type %1",C.OptionPrefix="Option %1",C.TitleOptionPrefix="%1 option %2",C.KeyLabel="%1 Key",C.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',C.UnsupportedField="Unsupported field schema.",C.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",C.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",C.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",C.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"})(zo||(zo={}));var Ao=null;function bo(C,N,G,ye){var Ae=fr(C,ye,G,void 0,!0);Ae.forEach(function(De){var st=N.findIndex(function(Bt){return isEqual(Bt,De)});if(st===-1){N.push(De);var xt=$r(C,De,G,!0);xt.forEach(function(Bt){Jn in Bt&&Bt[Jn]&&forEach(De[Jn],function(or){bo(C,N,G,or)})}),zi in De&&!Array.isArray(De.items)&&typeof De.items!="boolean"&&bo(C,N,G,De.items)}})}function Ho(C){var N=new Ao(C),G=[];return bo(N,G,C,C),N.getSchemaMap()}},39362:function(_e,w,a){"use strict";a.d(w,{ZP:function(){return Te}});var n=a(13880),p=a(98892),I=a.n(p),O=a(97540),D=a.n(O),k=a(93122),L=a(90772);function M(){return M=Object.assign?Object.assign.bind():function(re){for(var ce=1;ce<arguments.length;ce++){var F=arguments[ce];for(var We in F)Object.prototype.hasOwnProperty.call(F,We)&&(re[We]=F[We])}return re},M.apply(this,arguments)}function $(re,ce){if(re==null)return{};var F={},We=Object.keys(re),xe,Be;for(Be=0;Be<We.length;Be++)xe=We[Be],!(ce.indexOf(xe)>=0)&&(F[xe]=re[xe]);return F}var z={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},J=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ne=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function te(re,ce,F,We,xe){F===void 0&&(F={}),xe===void 0&&(xe=I());var Be=new xe(M({},z,F));return We?D()(Be,We):We!==!1&&D()(Be),Be.addFormat("data-url",ne),Be.addFormat("color",J),Be.addKeyword(n.jk),Be.addKeyword(n.g$),Array.isArray(re)&&Be.addMetaSchema(re),(0,k.Z)(ce)&&Object.keys(ce).forEach(function(Ye){Be.addFormat(Ye,ce[Ye])}),Be}var oe=["instancePath","keyword","params","schemaPath","parentSchema"];function we(re,ce){return re===void 0&&(re=[]),re.map(function(F){var We=F.instancePath,xe=F.keyword,Be=F.params,Ye=F.schemaPath,kt=F.parentSchema,Le=$(F,oe),ut=Le.message,gt=ut===void 0?"":ut,Ut=We.replace(/\//g,"."),wt=(Ut+" "+gt).trim();if("missingProperty"in Be){Ut=Ut?Ut+"."+Be.missingProperty:Be.missingProperty;var Ot=Be.missingProperty,pt=(0,n.LI)((0,L.Z)(ce,""+Ut.replace(/^\./,""))).title;if(pt)gt=gt.replace(Ot,pt);else{var Ne=(0,L.Z)(kt,[n.MA,Ot,"title"]);Ne&&(gt=gt.replace(Ot,Ne))}wt=gt}else{var bt=(0,n.LI)((0,L.Z)(ce,""+Ut.replace(/^\./,""))).title;if(bt)wt=("'"+bt+"' "+gt).trim();else{var ot=kt==null?void 0:kt.title;ot&&(wt=("'"+ot+"' "+gt).trim())}}return{name:xe,property:Ut,message:gt,params:Be,stack:wt,schemaPath:Ye}})}function U(re,ce,F,We,xe,Be,Ye){var kt=ce.validationError,Le=we(ce.errors,Ye);kt&&(Le=[].concat(Le,[{stack:kt.message}])),typeof Be=="function"&&(Le=Be(Le,Ye));var ut=(0,n.y5)(Le);if(kt&&(ut=M({},ut,{$schema:{__errors:[kt.message]}})),typeof xe!="function")return{errors:Le,errorSchema:ut};var gt=(0,n.Tx)(re,We,F,We,!0),Ut=xe(gt,(0,n.v$)(gt),Ye),wt=(0,n.yv)(Ut);return(0,n.J0)({errors:Le,errorSchema:ut},wt)}var q=function(){function re(F,We){this.ajv=void 0,this.localizer=void 0;var xe=F.additionalMetaSchemas,Be=F.customFormats,Ye=F.ajvOptionsOverrides,kt=F.ajvFormatOptions,Le=F.AjvClass;this.ajv=te(xe,Be,Ye,kt,Le),this.localizer=We}var ce=re.prototype;return ce.toErrorList=function(We,xe){return xe===void 0&&(xe=[]),(0,n.mp)(We,xe)},ce.rawValidation=function(We,xe){var Be=void 0,Ye;We[n.BO]&&(Ye=this.ajv.getSchema(We[n.BO]));try{Ye===void 0&&(Ye=this.ajv.compile(We)),Ye(xe)}catch(Le){Be=Le}var kt;return Ye&&(typeof this.localizer=="function"&&this.localizer(Ye.errors),kt=Ye.errors||void 0,Ye.errors=null),{errors:kt,validationError:Be}},ce.validateFormData=function(We,xe,Be,Ye,kt){var Le=this.rawValidation(xe,We);return U(this,Le,We,xe,Be,Ye,kt)},ce.isValid=function(We,xe,Be){var Ye,kt=(Ye=Be[n.BO])!=null?Ye:n.dW;try{this.ajv.getSchema(kt)===void 0&&this.ajv.addSchema(Be,kt);var Le=(0,n.RQ)(We),ut;Le[n.BO]&&(ut=this.ajv.getSchema(Le[n.BO])),ut===void 0&&(ut=this.ajv.compile(Le));var gt=ut(xe);return gt}catch(Ut){return console.warn("Error encountered compiling schema:",Ut),!1}finally{this.ajv.removeSchema(kt)}},re}();function Oe(re,ce){return re===void 0&&(re={}),new q(re,ce)}var ae=null;function ve(re,ce,F){return new ae(re,ce,F)}var Te=Oe()},78127:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.formatNames=w.fastFormats=w.fullFormats=void 0;function a(F,We){return{validate:F,compare:We}}w.fullFormats={date:a(O,D),time:a(L,M),"date-time":a(z,J),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:oe,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:ce,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:U,int32:{type:"number",validate:ae},int64:{type:"number",validate:ve},float:{type:"number",validate:Te},double:{type:"number",validate:Te},password:!0,binary:!0},w.fastFormats={...w.fullFormats,date:a(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,D),time:a(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,M),"date-time":a(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,J),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},w.formatNames=Object.keys(w.fullFormats);function n(F){return F%4===0&&(F%100!==0||F%400===0)}const p=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,I=[0,31,28,31,30,31,30,31,31,30,31,30,31];function O(F){const We=p.exec(F);if(!We)return!1;const xe=+We[1],Be=+We[2],Ye=+We[3];return Be>=1&&Be<=12&&Ye>=1&&Ye<=(Be===2&&n(xe)?29:I[Be])}function D(F,We){if(F&&We)return F>We?1:F<We?-1:0}const k=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function L(F,We){const xe=k.exec(F);if(!xe)return!1;const Be=+xe[1],Ye=+xe[2],kt=+xe[3],Le=xe[5];return(Be<=23&&Ye<=59&&kt<=59||Be===23&&Ye===59&&kt===60)&&(!We||Le!=="")}function M(F,We){if(!(F&&We))return;const xe=k.exec(F),Be=k.exec(We);if(xe&&Be)return F=xe[1]+xe[2]+xe[3]+(xe[4]||""),We=Be[1]+Be[2]+Be[3]+(Be[4]||""),F>We?1:F<We?-1:0}const $=/t|\s/i;function z(F){const We=F.split($);return We.length===2&&O(We[0])&&L(We[1],!0)}function J(F,We){if(!(F&&We))return;const[xe,Be]=F.split($),[Ye,kt]=We.split($),Le=D(xe,Ye);if(Le!==void 0)return Le||M(Be,kt)}const ne=/\/|:/,te=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function oe(F){return ne.test(F)&&te.test(F)}const we=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function U(F){return we.lastIndex=0,we.test(F)}const q=-(2**31),Oe=2**31-1;function ae(F){return Number.isInteger(F)&&F<=Oe&&F>=q}function ve(F){return Number.isInteger(F)}function Te(){return!0}const re=/[^\\]\\Z/;function ce(F){if(re.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}},97540:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(78127),p=a(38273),I=a(45117),O=new I.Name("fullFormats"),D=new I.Name("fastFormats"),k=(M,$={keywords:!0})=>{if(Array.isArray($))return L(M,$,n.fullFormats,O),M;const[z,J]=$.mode==="fast"?[n.fastFormats,D]:[n.fullFormats,O],ne=$.formats||n.formatNames;return L(M,ne,z,J),$.keywords&&p.default(M),M};k.get=(M,$="full")=>{const J=($==="fast"?n.fastFormats:n.fullFormats)[M];if(!J)throw new Error(`Unknown format "${M}"`);return J};function L(M,$,z,J){var ne,te;(ne=(te=M.opts.code).formats)!==null&&ne!==void 0||(te.formats=I._`require("ajv-formats/dist/formats").${J}`);for(const oe of $)M.addFormat(oe,z[oe])}_e.exports=w=k,Object.defineProperty(w,"__esModule",{value:!0}),w.default=k},38273:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.formatLimitDefinition=void 0;const n=a(98892),p=a(45117),I=p.operators,O={formatMaximum:{okStr:"<=",ok:I.LTE,fail:I.GT},formatMinimum:{okStr:">=",ok:I.GTE,fail:I.LT},formatExclusiveMaximum:{okStr:"<",ok:I.LT,fail:I.GTE},formatExclusiveMinimum:{okStr:">",ok:I.GT,fail:I.LTE}},D={message:({keyword:L,schemaCode:M})=>p.str`should be ${O[L].okStr} ${M}`,params:({keyword:L,schemaCode:M})=>p._`{comparison: ${O[L].okStr}, limit: ${M}}`};w.formatLimitDefinition={keyword:Object.keys(O),type:"string",schemaType:"string",$data:!0,error:D,code(L){const{gen:M,data:$,schemaCode:z,keyword:J,it:ne}=L,{opts:te,self:oe}=ne;if(!te.validateFormats)return;const we=new n.KeywordCxt(ne,oe.RULES.all.format.definition,"format");we.$data?U():q();function U(){const ae=M.scopeValue("formats",{ref:oe.formats,code:te.code.formats}),ve=M.const("fmt",p._`${ae}[${we.schemaCode}]`);L.fail$data(p.or(p._`typeof ${ve} != "object"`,p._`${ve} instanceof RegExp`,p._`typeof ${ve}.compare != "function"`,Oe(ve)))}function q(){const ae=we.schema,ve=oe.formats[ae];if(!ve||ve===!0)return;if(typeof ve!="object"||ve instanceof RegExp||typeof ve.compare!="function")throw new Error(`"${J}": format "${ae}" does not define "compare" function`);const Te=M.scopeValue("formats",{key:ae,ref:ve,code:te.code.formats?p._`${te.code.formats}${p.getProperty(ae)}`:void 0});L.fail$data(Oe(Te))}function Oe(ae){return p._`${ae}.compare(${$}, ${z}) ${O[J].fail} 0`}},dependencies:["format"]};const k=L=>(L.addKeyword(w.formatLimitDefinition),L);w.default=k},98892:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.MissingRefError=w.ValidationError=w.CodeGen=w.Name=w.nil=w.stringify=w.str=w._=w.KeywordCxt=void 0;const n=a(29414),p=a(6797),I=a(72360),O=a(22396),D=["/properties"],k="http://json-schema.org/draft-07/schema";class L extends n.default{_addVocabularies(){super._addVocabularies(),p.default.forEach(te=>this.addVocabulary(te)),this.opts.discriminator&&this.addKeyword(I.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const te=this.opts.$data?this.$dataMetaSchema(O,D):O;this.addMetaSchema(te,k,!1),this.refs["http://json-schema.org/schema"]=k}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(k)?k:void 0)}}_e.exports=w=L,Object.defineProperty(w,"__esModule",{value:!0}),w.default=L;var M=a(53970);Object.defineProperty(w,"KeywordCxt",{enumerable:!0,get:function(){return M.KeywordCxt}});var $=a(45117);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return $._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return $.str}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return $.stringify}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return $.nil}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return $.Name}}),Object.defineProperty(w,"CodeGen",{enumerable:!0,get:function(){return $.CodeGen}});var z=a(65282);Object.defineProperty(w,"ValidationError",{enumerable:!0,get:function(){return z.default}});var J=a(97566);Object.defineProperty(w,"MissingRefError",{enumerable:!0,get:function(){return J.default}})},28044:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.regexpCode=w.getEsmExportName=w.getProperty=w.safeStringify=w.stringify=w.strConcat=w.addCodeArg=w.str=w._=w.nil=w._Code=w.Name=w.IDENTIFIER=w._CodeOrName=void 0;class a{}w._CodeOrName=a,w.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends a{constructor(q){if(super(),!w.IDENTIFIER.test(q))throw new Error("CodeGen: name must be a valid identifier");this.str=q}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}w.Name=n;class p extends a{constructor(q){super(),this._items=typeof q=="string"?[q]:q}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const q=this._items[0];return q===""||q==='""'}get str(){var q;return(q=this._str)!==null&&q!==void 0?q:this._str=this._items.reduce((Oe,ae)=>`${Oe}${ae}`,"")}get names(){var q;return(q=this._names)!==null&&q!==void 0?q:this._names=this._items.reduce((Oe,ae)=>(ae instanceof n&&(Oe[ae.str]=(Oe[ae.str]||0)+1),Oe),{})}}w._Code=p,w.nil=new p("");function I(U,...q){const Oe=[U[0]];let ae=0;for(;ae<q.length;)k(Oe,q[ae]),Oe.push(U[++ae]);return new p(Oe)}w._=I;const O=new p("+");function D(U,...q){const Oe=[ne(U[0])];let ae=0;for(;ae<q.length;)Oe.push(O),k(Oe,q[ae]),Oe.push(O,ne(U[++ae]));return L(Oe),new p(Oe)}w.str=D;function k(U,q){q instanceof p?U.push(...q._items):q instanceof n?U.push(q):U.push(z(q))}w.addCodeArg=k;function L(U){let q=1;for(;q<U.length-1;){if(U[q]===O){const Oe=M(U[q-1],U[q+1]);if(Oe!==void 0){U.splice(q-1,3,Oe);continue}U[q++]="+"}q++}}function M(U,q){if(q==='""')return U;if(U==='""')return q;if(typeof U=="string")return q instanceof n||U[U.length-1]!=='"'?void 0:typeof q!="string"?`${U.slice(0,-1)}${q}"`:q[0]==='"'?U.slice(0,-1)+q.slice(1):void 0;if(typeof q=="string"&&q[0]==='"'&&!(U instanceof n))return`"${U}${q.slice(1)}`}function $(U,q){return q.emptyStr()?U:U.emptyStr()?q:D`${U}${q}`}w.strConcat=$;function z(U){return typeof U=="number"||typeof U=="boolean"||U===null?U:ne(Array.isArray(U)?U.join(","):U)}function J(U){return new p(ne(U))}w.stringify=J;function ne(U){return JSON.stringify(U).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}w.safeStringify=ne;function te(U){return typeof U=="string"&&w.IDENTIFIER.test(U)?new p(`.${U}`):I`[${U}]`}w.getProperty=te;function oe(U){if(typeof U=="string"&&w.IDENTIFIER.test(U))return new p(`${U}`);throw new Error(`CodeGen: invalid export name: ${U}, use explicit $id name mapping`)}w.getEsmExportName=oe;function we(U){return new p(U.toString())}w.regexpCode=we},45117:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.or=w.and=w.not=w.CodeGen=w.operators=w.varKinds=w.ValueScopeName=w.ValueScope=w.Scope=w.Name=w.regexpCode=w.stringify=w.getProperty=w.nil=w.strConcat=w.str=w._=void 0;const n=a(28044),p=a(36001);var I=a(28044);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return I._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return I.str}}),Object.defineProperty(w,"strConcat",{enumerable:!0,get:function(){return I.strConcat}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return I.nil}}),Object.defineProperty(w,"getProperty",{enumerable:!0,get:function(){return I.getProperty}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return I.stringify}}),Object.defineProperty(w,"regexpCode",{enumerable:!0,get:function(){return I.regexpCode}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return I.Name}});var O=a(36001);Object.defineProperty(w,"Scope",{enumerable:!0,get:function(){return O.Scope}}),Object.defineProperty(w,"ValueScope",{enumerable:!0,get:function(){return O.ValueScope}}),Object.defineProperty(w,"ValueScopeName",{enumerable:!0,get:function(){return O.ValueScopeName}}),Object.defineProperty(w,"varKinds",{enumerable:!0,get:function(){return O.varKinds}}),w.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class D{optimizeNodes(){return this}optimizeNames(fe,Re){return this}}class k extends D{constructor(fe,Re,ct){super(),this.varKind=fe,this.name=Re,this.rhs=ct}render({es5:fe,_n:Re}){const ct=fe?p.varKinds.var:this.varKind,$t=this.rhs===void 0?"":` = ${this.rhs}`;return`${ct} ${this.name}${$t};`+Re}optimizeNames(fe,Re){if(fe[this.name.str])return this.rhs&&(this.rhs=Le(this.rhs,fe,Re)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class L extends D{constructor(fe,Re,ct){super(),this.lhs=fe,this.rhs=Re,this.sideEffects=ct}render({_n:fe}){return`${this.lhs} = ${this.rhs};`+fe}optimizeNames(fe,Re){if(!(this.lhs instanceof n.Name&&!fe[this.lhs.str]&&!this.sideEffects))return this.rhs=Le(this.rhs,fe,Re),this}get names(){const fe=this.lhs instanceof n.Name?{}:{...this.lhs.names};return kt(fe,this.rhs)}}class M extends L{constructor(fe,Re,ct,$t){super(fe,ct,$t),this.op=Re}render({_n:fe}){return`${this.lhs} ${this.op}= ${this.rhs};`+fe}}class $ extends D{constructor(fe){super(),this.label=fe,this.names={}}render({_n:fe}){return`${this.label}:`+fe}}class z extends D{constructor(fe){super(),this.label=fe,this.names={}}render({_n:fe}){return`break${this.label?` ${this.label}`:""};`+fe}}class J extends D{constructor(fe){super(),this.error=fe}render({_n:fe}){return`throw ${this.error};`+fe}get names(){return this.error.names}}class ne extends D{constructor(fe){super(),this.code=fe}render({_n:fe}){return`${this.code};`+fe}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(fe,Re){return this.code=Le(this.code,fe,Re),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class te extends D{constructor(fe=[]){super(),this.nodes=fe}render(fe){return this.nodes.reduce((Re,ct)=>Re+ct.render(fe),"")}optimizeNodes(){const{nodes:fe}=this;let Re=fe.length;for(;Re--;){const ct=fe[Re].optimizeNodes();Array.isArray(ct)?fe.splice(Re,1,...ct):ct?fe[Re]=ct:fe.splice(Re,1)}return fe.length>0?this:void 0}optimizeNames(fe,Re){const{nodes:ct}=this;let $t=ct.length;for(;$t--;){const er=ct[$t];er.optimizeNames(fe,Re)||(ut(fe,er.names),ct.splice($t,1))}return ct.length>0?this:void 0}get names(){return this.nodes.reduce((fe,Re)=>Ye(fe,Re.names),{})}}class oe extends te{render(fe){return"{"+fe._n+super.render(fe)+"}"+fe._n}}class we extends te{}class U extends oe{}U.kind="else";class q extends oe{constructor(fe,Re){super(Re),this.condition=fe}render(fe){let Re=`if(${this.condition})`+super.render(fe);return this.else&&(Re+="else "+this.else.render(fe)),Re}optimizeNodes(){super.optimizeNodes();const fe=this.condition;if(fe===!0)return this.nodes;let Re=this.else;if(Re){const ct=Re.optimizeNodes();Re=this.else=Array.isArray(ct)?new U(ct):ct}if(Re)return fe===!1?Re instanceof q?Re:Re.nodes:this.nodes.length?this:new q(gt(fe),Re instanceof q?[Re]:Re.nodes);if(!(fe===!1||!this.nodes.length))return this}optimizeNames(fe,Re){var ct;if(this.else=(ct=this.else)===null||ct===void 0?void 0:ct.optimizeNames(fe,Re),!!(super.optimizeNames(fe,Re)||this.else))return this.condition=Le(this.condition,fe,Re),this}get names(){const fe=super.names;return kt(fe,this.condition),this.else&&Ye(fe,this.else.names),fe}}q.kind="if";class Oe extends oe{}Oe.kind="for";class ae extends Oe{constructor(fe){super(),this.iteration=fe}render(fe){return`for(${this.iteration})`+super.render(fe)}optimizeNames(fe,Re){if(super.optimizeNames(fe,Re))return this.iteration=Le(this.iteration,fe,Re),this}get names(){return Ye(super.names,this.iteration.names)}}class ve extends Oe{constructor(fe,Re,ct,$t){super(),this.varKind=fe,this.name=Re,this.from=ct,this.to=$t}render(fe){const Re=fe.es5?p.varKinds.var:this.varKind,{name:ct,from:$t,to:er}=this;return`for(${Re} ${ct}=${$t}; ${ct}<${er}; ${ct}++)`+super.render(fe)}get names(){const fe=kt(super.names,this.from);return kt(fe,this.to)}}class Te extends Oe{constructor(fe,Re,ct,$t){super(),this.loop=fe,this.varKind=Re,this.name=ct,this.iterable=$t}render(fe){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(fe)}optimizeNames(fe,Re){if(super.optimizeNames(fe,Re))return this.iterable=Le(this.iterable,fe,Re),this}get names(){return Ye(super.names,this.iterable.names)}}class re extends oe{constructor(fe,Re,ct){super(),this.name=fe,this.args=Re,this.async=ct}render(fe){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(fe)}}re.kind="func";class ce extends te{render(fe){return"return "+super.render(fe)}}ce.kind="return";class F extends oe{render(fe){let Re="try"+super.render(fe);return this.catch&&(Re+=this.catch.render(fe)),this.finally&&(Re+=this.finally.render(fe)),Re}optimizeNodes(){var fe,Re;return super.optimizeNodes(),(fe=this.catch)===null||fe===void 0||fe.optimizeNodes(),(Re=this.finally)===null||Re===void 0||Re.optimizeNodes(),this}optimizeNames(fe,Re){var ct,$t;return super.optimizeNames(fe,Re),(ct=this.catch)===null||ct===void 0||ct.optimizeNames(fe,Re),($t=this.finally)===null||$t===void 0||$t.optimizeNames(fe,Re),this}get names(){const fe=super.names;return this.catch&&Ye(fe,this.catch.names),this.finally&&Ye(fe,this.finally.names),fe}}class We extends oe{constructor(fe){super(),this.error=fe}render(fe){return`catch(${this.error})`+super.render(fe)}}We.kind="catch";class xe extends oe{render(fe){return"finally"+super.render(fe)}}xe.kind="finally";class Be{constructor(fe,Re={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Re,_n:Re.lines?`
`:""},this._extScope=fe,this._scope=new p.Scope({parent:fe}),this._nodes=[new we]}toString(){return this._root.render(this.opts)}name(fe){return this._scope.name(fe)}scopeName(fe){return this._extScope.name(fe)}scopeValue(fe,Re){const ct=this._extScope.value(fe,Re);return(this._values[ct.prefix]||(this._values[ct.prefix]=new Set)).add(ct),ct}getScopeValue(fe,Re){return this._extScope.getValue(fe,Re)}scopeRefs(fe){return this._extScope.scopeRefs(fe,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(fe,Re,ct,$t){const er=this._scope.toName(Re);return ct!==void 0&&$t&&(this._constants[er.str]=ct),this._leafNode(new k(fe,er,ct)),er}const(fe,Re,ct){return this._def(p.varKinds.const,fe,Re,ct)}let(fe,Re,ct){return this._def(p.varKinds.let,fe,Re,ct)}var(fe,Re,ct){return this._def(p.varKinds.var,fe,Re,ct)}assign(fe,Re,ct){return this._leafNode(new L(fe,Re,ct))}add(fe,Re){return this._leafNode(new M(fe,w.operators.ADD,Re))}code(fe){return typeof fe=="function"?fe():fe!==n.nil&&this._leafNode(new ne(fe)),this}object(...fe){const Re=["{"];for(const[ct,$t]of fe)Re.length>1&&Re.push(","),Re.push(ct),(ct!==$t||this.opts.es5)&&(Re.push(":"),(0,n.addCodeArg)(Re,$t));return Re.push("}"),new n._Code(Re)}if(fe,Re,ct){if(this._blockNode(new q(fe)),Re&&ct)this.code(Re).else().code(ct).endIf();else if(Re)this.code(Re).endIf();else if(ct)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(fe){return this._elseNode(new q(fe))}else(){return this._elseNode(new U)}endIf(){return this._endBlockNode(q,U)}_for(fe,Re){return this._blockNode(fe),Re&&this.code(Re).endFor(),this}for(fe,Re){return this._for(new ae(fe),Re)}forRange(fe,Re,ct,$t,er=this.opts.es5?p.varKinds.var:p.varKinds.let){const Cr=this._scope.toName(fe);return this._for(new ve(er,Cr,Re,ct),()=>$t(Cr))}forOf(fe,Re,ct,$t=p.varKinds.const){const er=this._scope.toName(fe);if(this.opts.es5){const Cr=Re instanceof n.Name?Re:this.var("_arr",Re);return this.forRange("_i",0,(0,n._)`${Cr}.length`,ze=>{this.var(er,(0,n._)`${Cr}[${ze}]`),ct(er)})}return this._for(new Te("of",$t,er,Re),()=>ct(er))}forIn(fe,Re,ct,$t=this.opts.es5?p.varKinds.var:p.varKinds.const){if(this.opts.ownProperties)return this.forOf(fe,(0,n._)`Object.keys(${Re})`,ct);const er=this._scope.toName(fe);return this._for(new Te("in",$t,er,Re),()=>ct(er))}endFor(){return this._endBlockNode(Oe)}label(fe){return this._leafNode(new $(fe))}break(fe){return this._leafNode(new z(fe))}return(fe){const Re=new ce;if(this._blockNode(Re),this.code(fe),Re.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(fe,Re,ct){if(!Re&&!ct)throw new Error('CodeGen: "try" without "catch" and "finally"');const $t=new F;if(this._blockNode($t),this.code(fe),Re){const er=this.name("e");this._currNode=$t.catch=new We(er),Re(er)}return ct&&(this._currNode=$t.finally=new xe,this.code(ct)),this._endBlockNode(We,xe)}throw(fe){return this._leafNode(new J(fe))}block(fe,Re){return this._blockStarts.push(this._nodes.length),fe&&this.code(fe).endBlock(Re),this}endBlock(fe){const Re=this._blockStarts.pop();if(Re===void 0)throw new Error("CodeGen: not in self-balancing block");const ct=this._nodes.length-Re;if(ct<0||fe!==void 0&&ct!==fe)throw new Error(`CodeGen: wrong number of nodes: ${ct} vs ${fe} expected`);return this._nodes.length=Re,this}func(fe,Re=n.nil,ct,$t){return this._blockNode(new re(fe,Re,ct)),$t&&this.code($t).endFunc(),this}endFunc(){return this._endBlockNode(re)}optimize(fe=1){for(;fe-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(fe){return this._currNode.nodes.push(fe),this}_blockNode(fe){this._currNode.nodes.push(fe),this._nodes.push(fe)}_endBlockNode(fe,Re){const ct=this._currNode;if(ct instanceof fe||Re&&ct instanceof Re)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Re?`${fe.kind}/${Re.kind}`:fe.kind}"`)}_elseNode(fe){const Re=this._currNode;if(!(Re instanceof q))throw new Error('CodeGen: "else" without "if"');return this._currNode=Re.else=fe,this}get _root(){return this._nodes[0]}get _currNode(){const fe=this._nodes;return fe[fe.length-1]}set _currNode(fe){const Re=this._nodes;Re[Re.length-1]=fe}}w.CodeGen=Be;function Ye(ot,fe){for(const Re in fe)ot[Re]=(ot[Re]||0)+(fe[Re]||0);return ot}function kt(ot,fe){return fe instanceof n._CodeOrName?Ye(ot,fe.names):ot}function Le(ot,fe,Re){if(ot instanceof n.Name)return ct(ot);if(!$t(ot))return ot;return new n._Code(ot._items.reduce((er,Cr)=>(Cr instanceof n.Name&&(Cr=ct(Cr)),Cr instanceof n._Code?er.push(...Cr._items):er.push(Cr),er),[]));function ct(er){const Cr=Re[er.str];return Cr===void 0||fe[er.str]!==1?er:(delete fe[er.str],Cr)}function $t(er){return er instanceof n._Code&&er._items.some(Cr=>Cr instanceof n.Name&&fe[Cr.str]===1&&Re[Cr.str]!==void 0)}}function ut(ot,fe){for(const Re in fe)ot[Re]=(ot[Re]||0)-(fe[Re]||0)}function gt(ot){return typeof ot=="boolean"||typeof ot=="number"||ot===null?!ot:(0,n._)`!${bt(ot)}`}w.not=gt;const Ut=Ne(w.operators.AND);function wt(...ot){return ot.reduce(Ut)}w.and=wt;const Ot=Ne(w.operators.OR);function pt(...ot){return ot.reduce(Ot)}w.or=pt;function Ne(ot){return(fe,Re)=>fe===n.nil?Re:Re===n.nil?fe:(0,n._)`${bt(fe)} ${ot} ${bt(Re)}`}function bt(ot){return ot instanceof n.Name?ot:(0,n._)`(${ot})`}},36001:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.ValueScope=w.ValueScopeName=w.Scope=w.varKinds=w.UsedValueState=void 0;const n=a(28044);class p extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var I;(function(M){M[M.Started=0]="Started",M[M.Completed=1]="Completed"})(I=w.UsedValueState||(w.UsedValueState={})),w.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class O{constructor({prefixes:$,parent:z}={}){this._names={},this._prefixes=$,this._parent=z}toName($){return $ instanceof n.Name?$:this.name($)}name($){return new n.Name(this._newName($))}_newName($){const z=this._names[$]||this._nameGroup($);return`${$}${z.index++}`}_nameGroup($){var z,J;if(!((J=(z=this._parent)===null||z===void 0?void 0:z._prefixes)===null||J===void 0)&&J.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}w.Scope=O;class D extends n.Name{constructor($,z){super(z),this.prefix=$}setValue($,{property:z,itemIndex:J}){this.value=$,this.scopePath=(0,n._)`.${new n.Name(z)}[${J}]`}}w.ValueScopeName=D;const k=(0,n._)`\n`;class L extends O{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?k:n.nil}}get(){return this._scope}name($){return new D($,this._newName($))}value($,z){var J;if(z.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const ne=this.toName($),{prefix:te}=ne,oe=(J=z.key)!==null&&J!==void 0?J:z.ref;let we=this._values[te];if(we){const Oe=we.get(oe);if(Oe)return Oe}else we=this._values[te]=new Map;we.set(oe,ne);const U=this._scope[te]||(this._scope[te]=[]),q=U.length;return U[q]=z.ref,ne.setValue(z,{property:te,itemIndex:q}),ne}getValue($,z){const J=this._values[$];if(J)return J.get(z)}scopeRefs($,z=this._values){return this._reduceValues(z,J=>{if(J.scopePath===void 0)throw new Error(`CodeGen: name "${J}" has no value`);return(0,n._)`${$}${J.scopePath}`})}scopeCode($=this._values,z,J){return this._reduceValues($,ne=>{if(ne.value===void 0)throw new Error(`CodeGen: name "${ne}" has no value`);return ne.value.code},z,J)}_reduceValues($,z,J={},ne){let te=n.nil;for(const oe in $){const we=$[oe];if(!we)continue;const U=J[oe]=J[oe]||new Map;we.forEach(q=>{if(U.has(q))return;U.set(q,I.Started);let Oe=z(q);if(Oe){const ae=this.opts.es5?w.varKinds.var:w.varKinds.const;te=(0,n._)`${te}${ae} ${q} = ${Oe};${this.opts._n}`}else if(Oe=ne==null?void 0:ne(q))te=(0,n._)`${te}${Oe}${this.opts._n}`;else throw new p(q);U.set(q,I.Completed)})}return te}}w.ValueScope=L},19606:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.extendErrors=w.resetErrorsCount=w.reportExtraError=w.reportError=w.keyword$DataError=w.keywordError=void 0;const n=a(45117),p=a(79812),I=a(93239);w.keywordError={message:({keyword:U})=>(0,n.str)`must pass "${U}" keyword validation`},w.keyword$DataError={message:({keyword:U,schemaType:q})=>q?(0,n.str)`"${U}" keyword must be ${q} ($data)`:(0,n.str)`"${U}" keyword is invalid ($data)`};function O(U,q=w.keywordError,Oe,ae){const{it:ve}=U,{gen:Te,compositeRule:re,allErrors:ce}=ve,F=J(U,q,Oe);(ae!=null?ae:re||ce)?M(Te,F):$(ve,(0,n._)`[${F}]`)}w.reportError=O;function D(U,q=w.keywordError,Oe){const{it:ae}=U,{gen:ve,compositeRule:Te,allErrors:re}=ae,ce=J(U,q,Oe);M(ve,ce),Te||re||$(ae,I.default.vErrors)}w.reportExtraError=D;function k(U,q){U.assign(I.default.errors,q),U.if((0,n._)`${I.default.vErrors} !== null`,()=>U.if(q,()=>U.assign((0,n._)`${I.default.vErrors}.length`,q),()=>U.assign(I.default.vErrors,null)))}w.resetErrorsCount=k;function L({gen:U,keyword:q,schemaValue:Oe,data:ae,errsCount:ve,it:Te}){if(ve===void 0)throw new Error("ajv implementation error");const re=U.name("err");U.forRange("i",ve,I.default.errors,ce=>{U.const(re,(0,n._)`${I.default.vErrors}[${ce}]`),U.if((0,n._)`${re}.instancePath === undefined`,()=>U.assign((0,n._)`${re}.instancePath`,(0,n.strConcat)(I.default.instancePath,Te.errorPath))),U.assign((0,n._)`${re}.schemaPath`,(0,n.str)`${Te.errSchemaPath}/${q}`),Te.opts.verbose&&(U.assign((0,n._)`${re}.schema`,Oe),U.assign((0,n._)`${re}.data`,ae))})}w.extendErrors=L;function M(U,q){const Oe=U.const("err",q);U.if((0,n._)`${I.default.vErrors} === null`,()=>U.assign(I.default.vErrors,(0,n._)`[${Oe}]`),(0,n._)`${I.default.vErrors}.push(${Oe})`),U.code((0,n._)`${I.default.errors}++`)}function $(U,q){const{gen:Oe,validateName:ae,schemaEnv:ve}=U;ve.$async?Oe.throw((0,n._)`new ${U.ValidationError}(${q})`):(Oe.assign((0,n._)`${ae}.errors`,q),Oe.return(!1))}const z={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function J(U,q,Oe){const{createErrors:ae}=U.it;return ae===!1?(0,n._)`{}`:ne(U,q,Oe)}function ne(U,q,Oe={}){const{gen:ae,it:ve}=U,Te=[te(ve,Oe),oe(U,Oe)];return we(U,q,Te),ae.object(...Te)}function te({errorPath:U},{instancePath:q}){const Oe=q?(0,n.str)`${U}${(0,p.getErrorPath)(q,p.Type.Str)}`:U;return[I.default.instancePath,(0,n.strConcat)(I.default.instancePath,Oe)]}function oe({keyword:U,it:{errSchemaPath:q}},{schemaPath:Oe,parentSchema:ae}){let ve=ae?q:(0,n.str)`${q}/${U}`;return Oe&&(ve=(0,n.str)`${ve}${(0,p.getErrorPath)(Oe,p.Type.Str)}`),[z.schemaPath,ve]}function we(U,{params:q,message:Oe},ae){const{keyword:ve,data:Te,schemaValue:re,it:ce}=U,{opts:F,propertyName:We,topSchemaRef:xe,schemaPath:Be}=ce;ae.push([z.keyword,ve],[z.params,typeof q=="function"?q(U):q||(0,n._)`{}`]),F.messages&&ae.push([z.message,typeof Oe=="function"?Oe(U):Oe]),F.verbose&&ae.push([z.schema,re],[z.parentSchema,(0,n._)`${xe}${Be}`],[I.default.data,Te]),We&&ae.push([z.propertyName,We])}},19984:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.resolveSchema=w.getCompilingSchema=w.resolveRef=w.compileSchema=w.SchemaEnv=void 0;const n=a(45117),p=a(65282),I=a(93239),O=a(40071),D=a(79812),k=a(53970);class L{constructor(Oe){var ae;this.refs={},this.dynamicAnchors={};let ve;typeof Oe.schema=="object"&&(ve=Oe.schema),this.schema=Oe.schema,this.schemaId=Oe.schemaId,this.root=Oe.root||this,this.baseId=(ae=Oe.baseId)!==null&&ae!==void 0?ae:(0,O.normalizeId)(ve==null?void 0:ve[Oe.schemaId||"$id"]),this.schemaPath=Oe.schemaPath,this.localRefs=Oe.localRefs,this.meta=Oe.meta,this.$async=ve==null?void 0:ve.$async,this.refs={}}}w.SchemaEnv=L;function M(q){const Oe=J.call(this,q);if(Oe)return Oe;const ae=(0,O.getFullPath)(this.opts.uriResolver,q.root.baseId),{es5:ve,lines:Te}=this.opts.code,{ownProperties:re}=this.opts,ce=new n.CodeGen(this.scope,{es5:ve,lines:Te,ownProperties:re});let F;q.$async&&(F=ce.scopeValue("Error",{ref:p.default,code:(0,n._)`require("ajv/dist/runtime/validation_error").default`}));const We=ce.scopeName("validate");q.validateName=We;const xe={gen:ce,allErrors:this.opts.allErrors,data:I.default.data,parentData:I.default.parentData,parentDataProperty:I.default.parentDataProperty,dataNames:[I.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ce.scopeValue("schema",this.opts.code.source===!0?{ref:q.schema,code:(0,n.stringify)(q.schema)}:{ref:q.schema}),validateName:We,ValidationError:F,schema:q.schema,schemaEnv:q,rootId:ae,baseId:q.baseId||ae,schemaPath:n.nil,errSchemaPath:q.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,n._)`""`,opts:this.opts,self:this};let Be;try{this._compilations.add(q),(0,k.validateFunctionCode)(xe),ce.optimize(this.opts.code.optimize);const Ye=ce.toString();Be=`${ce.scopeRefs(I.default.scope)}return ${Ye}`,this.opts.code.process&&(Be=this.opts.code.process(Be,q));const Le=new Function(`${I.default.self}`,`${I.default.scope}`,Be)(this,this.scope.get());if(this.scope.value(We,{ref:Le}),Le.errors=null,Le.schema=q.schema,Le.schemaEnv=q,q.$async&&(Le.$async=!0),this.opts.code.source===!0&&(Le.source={validateName:We,validateCode:Ye,scopeValues:ce._values}),this.opts.unevaluated){const{props:ut,items:gt}=xe;Le.evaluated={props:ut instanceof n.Name?void 0:ut,items:gt instanceof n.Name?void 0:gt,dynamicProps:ut instanceof n.Name,dynamicItems:gt instanceof n.Name},Le.source&&(Le.source.evaluated=(0,n.stringify)(Le.evaluated))}return q.validate=Le,q}catch(Ye){throw delete q.validate,delete q.validateName,Be&&this.logger.error("Error compiling schema, function code:",Be),Ye}finally{this._compilations.delete(q)}}w.compileSchema=M;function $(q,Oe,ae){var ve;ae=(0,O.resolveUrl)(this.opts.uriResolver,Oe,ae);const Te=q.refs[ae];if(Te)return Te;let re=te.call(this,q,ae);if(re===void 0){const ce=(ve=q.localRefs)===null||ve===void 0?void 0:ve[ae],{schemaId:F}=this.opts;ce&&(re=new L({schema:ce,schemaId:F,root:q,baseId:Oe}))}if(re!==void 0)return q.refs[ae]=z.call(this,re)}w.resolveRef=$;function z(q){return(0,O.inlineRef)(q.schema,this.opts.inlineRefs)?q.schema:q.validate?q:M.call(this,q)}function J(q){for(const Oe of this._compilations)if(ne(Oe,q))return Oe}w.getCompilingSchema=J;function ne(q,Oe){return q.schema===Oe.schema&&q.root===Oe.root&&q.baseId===Oe.baseId}function te(q,Oe){let ae;for(;typeof(ae=this.refs[Oe])=="string";)Oe=ae;return ae||this.schemas[Oe]||oe.call(this,q,Oe)}function oe(q,Oe){const ae=this.opts.uriResolver.parse(Oe),ve=(0,O._getFullPath)(this.opts.uriResolver,ae);let Te=(0,O.getFullPath)(this.opts.uriResolver,q.baseId,void 0);if(Object.keys(q.schema).length>0&&ve===Te)return U.call(this,ae,q);const re=(0,O.normalizeId)(ve),ce=this.refs[re]||this.schemas[re];if(typeof ce=="string"){const F=oe.call(this,q,ce);return typeof(F==null?void 0:F.schema)!="object"?void 0:U.call(this,ae,F)}if(typeof(ce==null?void 0:ce.schema)=="object"){if(ce.validate||M.call(this,ce),re===(0,O.normalizeId)(Oe)){const{schema:F}=ce,{schemaId:We}=this.opts,xe=F[We];return xe&&(Te=(0,O.resolveUrl)(this.opts.uriResolver,Te,xe)),new L({schema:F,schemaId:We,root:q,baseId:Te})}return U.call(this,ae,ce)}}w.resolveSchema=oe;const we=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function U(q,{baseId:Oe,schema:ae,root:ve}){var Te;if(((Te=q.fragment)===null||Te===void 0?void 0:Te[0])!=="/")return;for(const F of q.fragment.slice(1).split("/")){if(typeof ae=="boolean")return;const We=ae[(0,D.unescapeFragment)(F)];if(We===void 0)return;ae=We;const xe=typeof ae=="object"&&ae[this.opts.schemaId];!we.has(F)&&xe&&(Oe=(0,O.resolveUrl)(this.opts.uriResolver,Oe,xe))}let re;if(typeof ae!="boolean"&&ae.$ref&&!(0,D.schemaHasRulesButRef)(ae,this.RULES)){const F=(0,O.resolveUrl)(this.opts.uriResolver,Oe,ae.$ref);re=oe.call(this,ve,F)}const{schemaId:ce}=this.opts;if(re=re||new L({schema:ae,schemaId:ce,root:ve,baseId:Oe}),re.schema!==re.root.schema)return re}},93239:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};w.default=p},97566:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(40071);class p extends Error{constructor(O,D,k,L){super(L||`can't resolve reference ${k} from id ${D}`),this.missingRef=(0,n.resolveUrl)(O,D,k),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(O,this.missingRef))}}w.default=p},40071:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getSchemaRefs=w.resolveUrl=w.normalizeId=w._getFullPath=w.getFullPath=w.inlineRef=void 0;const n=a(79812),p=a(69378),I=a(19522),O=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function D(U,q=!0){return typeof U=="boolean"?!0:q===!0?!L(U):q?M(U)<=q:!1}w.inlineRef=D;const k=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function L(U){for(const q in U){if(k.has(q))return!0;const Oe=U[q];if(Array.isArray(Oe)&&Oe.some(L)||typeof Oe=="object"&&L(Oe))return!0}return!1}function M(U){let q=0;for(const Oe in U){if(Oe==="$ref")return 1/0;if(q++,!O.has(Oe)&&(typeof U[Oe]=="object"&&(0,n.eachItem)(U[Oe],ae=>q+=M(ae)),q===1/0))return 1/0}return q}function $(U,q="",Oe){Oe!==!1&&(q=ne(q));const ae=U.parse(q);return z(U,ae)}w.getFullPath=$;function z(U,q){return U.serialize(q).split("#")[0]+"#"}w._getFullPath=z;const J=/#\/?$/;function ne(U){return U?U.replace(J,""):""}w.normalizeId=ne;function te(U,q,Oe){return Oe=ne(Oe),U.resolve(q,Oe)}w.resolveUrl=te;const oe=/^[a-z_][-a-z0-9._]*$/i;function we(U,q){if(typeof U=="boolean")return{};const{schemaId:Oe,uriResolver:ae}=this.opts,ve=ne(U[Oe]||q),Te={"":ve},re=$(ae,ve,!1),ce={},F=new Set;return I(U,{allKeys:!0},(Be,Ye,kt,Le)=>{if(Le===void 0)return;const ut=re+Ye;let gt=Te[Le];typeof Be[Oe]=="string"&&(gt=Ut.call(this,Be[Oe])),wt.call(this,Be.$anchor),wt.call(this,Be.$dynamicAnchor),Te[Ye]=gt;function Ut(Ot){const pt=this.opts.uriResolver.resolve;if(Ot=ne(gt?pt(gt,Ot):Ot),F.has(Ot))throw xe(Ot);F.add(Ot);let Ne=this.refs[Ot];return typeof Ne=="string"&&(Ne=this.refs[Ne]),typeof Ne=="object"?We(Be,Ne.schema,Ot):Ot!==ne(ut)&&(Ot[0]==="#"?(We(Be,ce[Ot],Ot),ce[Ot]=Be):this.refs[Ot]=ut),Ot}function wt(Ot){if(typeof Ot=="string"){if(!oe.test(Ot))throw new Error(`invalid anchor "${Ot}"`);Ut.call(this,`#${Ot}`)}}}),ce;function We(Be,Ye,kt){if(Ye!==void 0&&!p(Be,Ye))throw xe(kt)}function xe(Be){return new Error(`reference "${Be}" resolves to more than one schema`)}}w.getSchemaRefs=we},60968:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getRules=w.isJSONType=void 0;const a=["string","number","integer","boolean","null","object","array"],n=new Set(a);function p(O){return typeof O=="string"&&n.has(O)}w.isJSONType=p;function I(){const O={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...O,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},O.number,O.string,O.array,O.object],post:{rules:[]},all:{},keywords:{}}}w.getRules=I},79812:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.checkStrictMode=w.getErrorPath=w.Type=w.useFunc=w.setEvaluated=w.evaluatedPropsToName=w.mergeEvaluated=w.eachItem=w.unescapeJsonPointer=w.escapeJsonPointer=w.escapeFragment=w.unescapeFragment=w.schemaRefOrVal=w.schemaHasRulesButRef=w.schemaHasRules=w.checkUnknownRules=w.alwaysValidSchema=w.toHash=void 0;const n=a(45117),p=a(28044);function I(re){const ce={};for(const F of re)ce[F]=!0;return ce}w.toHash=I;function O(re,ce){return typeof ce=="boolean"?ce:Object.keys(ce).length===0?!0:(D(re,ce),!k(ce,re.self.RULES.all))}w.alwaysValidSchema=O;function D(re,ce=re.schema){const{opts:F,self:We}=re;if(!F.strictSchema||typeof ce=="boolean")return;const xe=We.RULES.keywords;for(const Be in ce)xe[Be]||Te(re,`unknown keyword: "${Be}"`)}w.checkUnknownRules=D;function k(re,ce){if(typeof re=="boolean")return!re;for(const F in re)if(ce[F])return!0;return!1}w.schemaHasRules=k;function L(re,ce){if(typeof re=="boolean")return!re;for(const F in re)if(F!=="$ref"&&ce.all[F])return!0;return!1}w.schemaHasRulesButRef=L;function M({topSchemaRef:re,schemaPath:ce},F,We,xe){if(!xe){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,n._)`${F}`}return(0,n._)`${re}${ce}${(0,n.getProperty)(We)}`}w.schemaRefOrVal=M;function $(re){return ne(decodeURIComponent(re))}w.unescapeFragment=$;function z(re){return encodeURIComponent(J(re))}w.escapeFragment=z;function J(re){return typeof re=="number"?`${re}`:re.replace(/~/g,"~0").replace(/\//g,"~1")}w.escapeJsonPointer=J;function ne(re){return re.replace(/~1/g,"/").replace(/~0/g,"~")}w.unescapeJsonPointer=ne;function te(re,ce){if(Array.isArray(re))for(const F of re)ce(F);else ce(re)}w.eachItem=te;function oe({mergeNames:re,mergeToName:ce,mergeValues:F,resultToName:We}){return(xe,Be,Ye,kt)=>{const Le=Ye===void 0?Be:Ye instanceof n.Name?(Be instanceof n.Name?re(xe,Be,Ye):ce(xe,Be,Ye),Ye):Be instanceof n.Name?(ce(xe,Ye,Be),Be):F(Be,Ye);return kt===n.Name&&!(Le instanceof n.Name)?We(xe,Le):Le}}w.mergeEvaluated={props:oe({mergeNames:(re,ce,F)=>re.if((0,n._)`${F} !== true && ${ce} !== undefined`,()=>{re.if((0,n._)`${ce} === true`,()=>re.assign(F,!0),()=>re.assign(F,(0,n._)`${F} || {}`).code((0,n._)`Object.assign(${F}, ${ce})`))}),mergeToName:(re,ce,F)=>re.if((0,n._)`${F} !== true`,()=>{ce===!0?re.assign(F,!0):(re.assign(F,(0,n._)`${F} || {}`),U(re,F,ce))}),mergeValues:(re,ce)=>re===!0?!0:{...re,...ce},resultToName:we}),items:oe({mergeNames:(re,ce,F)=>re.if((0,n._)`${F} !== true && ${ce} !== undefined`,()=>re.assign(F,(0,n._)`${ce} === true ? true : ${F} > ${ce} ? ${F} : ${ce}`)),mergeToName:(re,ce,F)=>re.if((0,n._)`${F} !== true`,()=>re.assign(F,ce===!0?!0:(0,n._)`${F} > ${ce} ? ${F} : ${ce}`)),mergeValues:(re,ce)=>re===!0?!0:Math.max(re,ce),resultToName:(re,ce)=>re.var("items",ce)})};function we(re,ce){if(ce===!0)return re.var("props",!0);const F=re.var("props",(0,n._)`{}`);return ce!==void 0&&U(re,F,ce),F}w.evaluatedPropsToName=we;function U(re,ce,F){Object.keys(F).forEach(We=>re.assign((0,n._)`${ce}${(0,n.getProperty)(We)}`,!0))}w.setEvaluated=U;const q={};function Oe(re,ce){return re.scopeValue("func",{ref:ce,code:q[ce.code]||(q[ce.code]=new p._Code(ce.code))})}w.useFunc=Oe;var ae;(function(re){re[re.Num=0]="Num",re[re.Str=1]="Str"})(ae=w.Type||(w.Type={}));function ve(re,ce,F){if(re instanceof n.Name){const We=ce===ae.Num;return F?We?(0,n._)`"[" + ${re} + "]"`:(0,n._)`"['" + ${re} + "']"`:We?(0,n._)`"/" + ${re}`:(0,n._)`"/" + ${re}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,n.getProperty)(re).toString():"/"+J(re)}w.getErrorPath=ve;function Te(re,ce,F=re.opts.strictSchema){if(F){if(ce=`strict mode: ${ce}`,F===!0)throw new Error(ce);re.self.logger.warn(ce)}}w.checkStrictMode=Te},15149:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.shouldUseRule=w.shouldUseGroup=w.schemaHasRulesForType=void 0;function a({schema:I,self:O},D){const k=O.RULES.types[D];return k&&k!==!0&&n(I,k)}w.schemaHasRulesForType=a;function n(I,O){return O.rules.some(D=>p(I,D))}w.shouldUseGroup=n;function p(I,O){var D;return I[O.keyword]!==void 0||((D=O.definition.implements)===null||D===void 0?void 0:D.some(k=>I[k]!==void 0))}w.shouldUseRule=p},87929:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.boolOrEmptySchema=w.topBoolOrEmptySchema=void 0;const n=a(19606),p=a(45117),I=a(93239),O={message:"boolean schema is false"};function D(M){const{gen:$,schema:z,validateName:J}=M;z===!1?L(M,!1):typeof z=="object"&&z.$async===!0?$.return(I.default.data):($.assign((0,p._)`${J}.errors`,null),$.return(!0))}w.topBoolOrEmptySchema=D;function k(M,$){const{gen:z,schema:J}=M;J===!1?(z.var($,!1),L(M)):z.var($,!0)}w.boolOrEmptySchema=k;function L(M,$){const{gen:z,data:J}=M,ne={gen:z,keyword:"false schema",data:J,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:M};(0,n.reportError)(ne,O,void 0,$)}},51549:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.reportTypeError=w.checkDataTypes=w.checkDataType=w.coerceAndCheckDataType=w.getJSONTypes=w.getSchemaTypes=w.DataType=void 0;const n=a(60968),p=a(15149),I=a(19606),O=a(45117),D=a(79812);var k;(function(ae){ae[ae.Correct=0]="Correct",ae[ae.Wrong=1]="Wrong"})(k=w.DataType||(w.DataType={}));function L(ae){const ve=M(ae.type);if(ve.includes("null")){if(ae.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!ve.length&&ae.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');ae.nullable===!0&&ve.push("null")}return ve}w.getSchemaTypes=L;function M(ae){const ve=Array.isArray(ae)?ae:ae?[ae]:[];if(ve.every(n.isJSONType))return ve;throw new Error("type must be JSONType or JSONType[]: "+ve.join(","))}w.getJSONTypes=M;function $(ae,ve){const{gen:Te,data:re,opts:ce}=ae,F=J(ve,ce.coerceTypes),We=ve.length>0&&!(F.length===0&&ve.length===1&&(0,p.schemaHasRulesForType)(ae,ve[0]));if(We){const xe=we(ve,re,ce.strictNumbers,k.Wrong);Te.if(xe,()=>{F.length?ne(ae,ve,F):q(ae)})}return We}w.coerceAndCheckDataType=$;const z=new Set(["string","number","integer","boolean","null"]);function J(ae,ve){return ve?ae.filter(Te=>z.has(Te)||ve==="array"&&Te==="array"):[]}function ne(ae,ve,Te){const{gen:re,data:ce,opts:F}=ae,We=re.let("dataType",(0,O._)`typeof ${ce}`),xe=re.let("coerced",(0,O._)`undefined`);F.coerceTypes==="array"&&re.if((0,O._)`${We} == 'object' && Array.isArray(${ce}) && ${ce}.length == 1`,()=>re.assign(ce,(0,O._)`${ce}[0]`).assign(We,(0,O._)`typeof ${ce}`).if(we(ve,ce,F.strictNumbers),()=>re.assign(xe,ce))),re.if((0,O._)`${xe} !== undefined`);for(const Ye of Te)(z.has(Ye)||Ye==="array"&&F.coerceTypes==="array")&&Be(Ye);re.else(),q(ae),re.endIf(),re.if((0,O._)`${xe} !== undefined`,()=>{re.assign(ce,xe),te(ae,xe)});function Be(Ye){switch(Ye){case"string":re.elseIf((0,O._)`${We} == "number" || ${We} == "boolean"`).assign(xe,(0,O._)`"" + ${ce}`).elseIf((0,O._)`${ce} === null`).assign(xe,(0,O._)`""`);return;case"number":re.elseIf((0,O._)`${We} == "boolean" || ${ce} === null
              || (${We} == "string" && ${ce} && ${ce} == +${ce})`).assign(xe,(0,O._)`+${ce}`);return;case"integer":re.elseIf((0,O._)`${We} === "boolean" || ${ce} === null
              || (${We} === "string" && ${ce} && ${ce} == +${ce} && !(${ce} % 1))`).assign(xe,(0,O._)`+${ce}`);return;case"boolean":re.elseIf((0,O._)`${ce} === "false" || ${ce} === 0 || ${ce} === null`).assign(xe,!1).elseIf((0,O._)`${ce} === "true" || ${ce} === 1`).assign(xe,!0);return;case"null":re.elseIf((0,O._)`${ce} === "" || ${ce} === 0 || ${ce} === false`),re.assign(xe,null);return;case"array":re.elseIf((0,O._)`${We} === "string" || ${We} === "number"
              || ${We} === "boolean" || ${ce} === null`).assign(xe,(0,O._)`[${ce}]`)}}}function te({gen:ae,parentData:ve,parentDataProperty:Te},re){ae.if((0,O._)`${ve} !== undefined`,()=>ae.assign((0,O._)`${ve}[${Te}]`,re))}function oe(ae,ve,Te,re=k.Correct){const ce=re===k.Correct?O.operators.EQ:O.operators.NEQ;let F;switch(ae){case"null":return(0,O._)`${ve} ${ce} null`;case"array":F=(0,O._)`Array.isArray(${ve})`;break;case"object":F=(0,O._)`${ve} && typeof ${ve} == "object" && !Array.isArray(${ve})`;break;case"integer":F=We((0,O._)`!(${ve} % 1) && !isNaN(${ve})`);break;case"number":F=We();break;default:return(0,O._)`typeof ${ve} ${ce} ${ae}`}return re===k.Correct?F:(0,O.not)(F);function We(xe=O.nil){return(0,O.and)((0,O._)`typeof ${ve} == "number"`,xe,Te?(0,O._)`isFinite(${ve})`:O.nil)}}w.checkDataType=oe;function we(ae,ve,Te,re){if(ae.length===1)return oe(ae[0],ve,Te,re);let ce;const F=(0,D.toHash)(ae);if(F.array&&F.object){const We=(0,O._)`typeof ${ve} != "object"`;ce=F.null?We:(0,O._)`!${ve} || ${We}`,delete F.null,delete F.array,delete F.object}else ce=O.nil;F.number&&delete F.integer;for(const We in F)ce=(0,O.and)(ce,oe(We,ve,Te,re));return ce}w.checkDataTypes=we;const U={message:({schema:ae})=>`must be ${ae}`,params:({schema:ae,schemaValue:ve})=>typeof ae=="string"?(0,O._)`{type: ${ae}}`:(0,O._)`{type: ${ve}}`};function q(ae){const ve=Oe(ae);(0,I.reportError)(ve,U)}w.reportTypeError=q;function Oe(ae){const{gen:ve,data:Te,schema:re}=ae,ce=(0,D.schemaRefOrVal)(ae,re,"type");return{gen:ve,keyword:"type",data:Te,schema:re.type,schemaCode:ce,schemaValue:ce,parentSchema:re,params:{},it:ae}}},6549:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.assignDefaults=void 0;const n=a(45117),p=a(79812);function I(D,k){const{properties:L,items:M}=D.schema;if(k==="object"&&L)for(const $ in L)O(D,$,L[$].default);else k==="array"&&Array.isArray(M)&&M.forEach(($,z)=>O(D,z,$.default))}w.assignDefaults=I;function O(D,k,L){const{gen:M,compositeRule:$,data:z,opts:J}=D;if(L===void 0)return;const ne=(0,n._)`${z}${(0,n.getProperty)(k)}`;if($){(0,p.checkStrictMode)(D,`default is ignored for: ${ne}`);return}let te=(0,n._)`${ne} === undefined`;J.useDefaults==="empty"&&(te=(0,n._)`${te} || ${ne} === null || ${ne} === ""`),M.if(te,(0,n._)`${ne} = ${(0,n.stringify)(L)}`)}},53970:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.getData=w.KeywordCxt=w.validateFunctionCode=void 0;const n=a(87929),p=a(51549),I=a(15149),O=a(51549),D=a(6549),k=a(87896),L=a(94929),M=a(45117),$=a(93239),z=a(40071),J=a(79812),ne=a(19606);function te(Z){if(re(Z)&&(F(Z),Te(Z))){q(Z);return}oe(Z,()=>(0,n.topBoolOrEmptySchema)(Z))}w.validateFunctionCode=te;function oe({gen:Z,validateName:Q,schema:pe,schemaEnv:ke,opts:tt},Ke){tt.code.es5?Z.func(Q,(0,M._)`${$.default.data}, ${$.default.valCxt}`,ke.$async,()=>{Z.code((0,M._)`"use strict"; ${ae(pe,tt)}`),U(Z,tt),Z.code(Ke)}):Z.func(Q,(0,M._)`${$.default.data}, ${we(tt)}`,ke.$async,()=>Z.code(ae(pe,tt)).code(Ke))}function we(Z){return(0,M._)`{${$.default.instancePath}="", ${$.default.parentData}, ${$.default.parentDataProperty}, ${$.default.rootData}=${$.default.data}${Z.dynamicRef?(0,M._)`, ${$.default.dynamicAnchors}={}`:M.nil}}={}`}function U(Z,Q){Z.if($.default.valCxt,()=>{Z.var($.default.instancePath,(0,M._)`${$.default.valCxt}.${$.default.instancePath}`),Z.var($.default.parentData,(0,M._)`${$.default.valCxt}.${$.default.parentData}`),Z.var($.default.parentDataProperty,(0,M._)`${$.default.valCxt}.${$.default.parentDataProperty}`),Z.var($.default.rootData,(0,M._)`${$.default.valCxt}.${$.default.rootData}`),Q.dynamicRef&&Z.var($.default.dynamicAnchors,(0,M._)`${$.default.valCxt}.${$.default.dynamicAnchors}`)},()=>{Z.var($.default.instancePath,(0,M._)`""`),Z.var($.default.parentData,(0,M._)`undefined`),Z.var($.default.parentDataProperty,(0,M._)`undefined`),Z.var($.default.rootData,$.default.data),Q.dynamicRef&&Z.var($.default.dynamicAnchors,(0,M._)`{}`)})}function q(Z){const{schema:Q,opts:pe,gen:ke}=Z;oe(Z,()=>{pe.$comment&&Q.$comment&&Le(Z),Be(Z),ke.let($.default.vErrors,null),ke.let($.default.errors,0),pe.unevaluated&&Oe(Z),We(Z),ut(Z)})}function Oe(Z){const{gen:Q,validateName:pe}=Z;Z.evaluated=Q.const("evaluated",(0,M._)`${pe}.evaluated`),Q.if((0,M._)`${Z.evaluated}.dynamicProps`,()=>Q.assign((0,M._)`${Z.evaluated}.props`,(0,M._)`undefined`)),Q.if((0,M._)`${Z.evaluated}.dynamicItems`,()=>Q.assign((0,M._)`${Z.evaluated}.items`,(0,M._)`undefined`))}function ae(Z,Q){const pe=typeof Z=="object"&&Z[Q.schemaId];return pe&&(Q.code.source||Q.code.process)?(0,M._)`/*# sourceURL=${pe} */`:M.nil}function ve(Z,Q){if(re(Z)&&(F(Z),Te(Z))){ce(Z,Q);return}(0,n.boolOrEmptySchema)(Z,Q)}function Te({schema:Z,self:Q}){if(typeof Z=="boolean")return!Z;for(const pe in Z)if(Q.RULES.all[pe])return!0;return!1}function re(Z){return typeof Z.schema!="boolean"}function ce(Z,Q){const{schema:pe,gen:ke,opts:tt}=Z;tt.$comment&&pe.$comment&&Le(Z),Ye(Z),kt(Z);const Ke=ke.const("_errs",$.default.errors);We(Z,Ke),ke.var(Q,(0,M._)`${Ke} === ${$.default.errors}`)}function F(Z){(0,J.checkUnknownRules)(Z),xe(Z)}function We(Z,Q){if(Z.opts.jtd)return Ut(Z,[],!1,Q);const pe=(0,p.getSchemaTypes)(Z.schema),ke=(0,p.coerceAndCheckDataType)(Z,pe);Ut(Z,pe,!ke,Q)}function xe(Z){const{schema:Q,errSchemaPath:pe,opts:ke,self:tt}=Z;Q.$ref&&ke.ignoreKeywordsWithRef&&(0,J.schemaHasRulesButRef)(Q,tt.RULES)&&tt.logger.warn(`$ref: keywords ignored in schema at path "${pe}"`)}function Be(Z){const{schema:Q,opts:pe}=Z;Q.default!==void 0&&pe.useDefaults&&pe.strictSchema&&(0,J.checkStrictMode)(Z,"default is ignored in the schema root")}function Ye(Z){const Q=Z.schema[Z.opts.schemaId];Q&&(Z.baseId=(0,z.resolveUrl)(Z.opts.uriResolver,Z.baseId,Q))}function kt(Z){if(Z.schema.$async&&!Z.schemaEnv.$async)throw new Error("async schema in sync schema")}function Le({gen:Z,schemaEnv:Q,schema:pe,errSchemaPath:ke,opts:tt}){const Ke=pe.$comment;if(tt.$comment===!0)Z.code((0,M._)`${$.default.self}.logger.log(${Ke})`);else if(typeof tt.$comment=="function"){const jt=(0,M.str)`${ke}/$comment`,lr=Z.scopeValue("root",{ref:Q.root});Z.code((0,M._)`${$.default.self}.opts.$comment(${Ke}, ${jt}, ${lr}.schema)`)}}function ut(Z){const{gen:Q,schemaEnv:pe,validateName:ke,ValidationError:tt,opts:Ke}=Z;pe.$async?Q.if((0,M._)`${$.default.errors} === 0`,()=>Q.return($.default.data),()=>Q.throw((0,M._)`new ${tt}(${$.default.vErrors})`)):(Q.assign((0,M._)`${ke}.errors`,$.default.vErrors),Ke.unevaluated&&gt(Z),Q.return((0,M._)`${$.default.errors} === 0`))}function gt({gen:Z,evaluated:Q,props:pe,items:ke}){pe instanceof M.Name&&Z.assign((0,M._)`${Q}.props`,pe),ke instanceof M.Name&&Z.assign((0,M._)`${Q}.items`,ke)}function Ut(Z,Q,pe,ke){const{gen:tt,schema:Ke,data:jt,allErrors:lr,opts:Jt,self:Yt}=Z,{RULES:Qt}=Yt;if(Ke.$ref&&(Jt.ignoreKeywordsWithRef||!(0,J.schemaHasRulesButRef)(Ke,Qt))){tt.block(()=>er(Z,"$ref",Qt.all.$ref.definition));return}Jt.jtd||Ot(Z,Q),tt.block(()=>{for(const Tt of Qt.rules)nt(Tt);nt(Qt.post)});function nt(Tt){(0,I.shouldUseGroup)(Ke,Tt)&&(Tt.type?(tt.if((0,O.checkDataType)(Tt.type,jt,Jt.strictNumbers)),wt(Z,Tt),Q.length===1&&Q[0]===Tt.type&&pe&&(tt.else(),(0,O.reportTypeError)(Z)),tt.endIf()):wt(Z,Tt),lr||tt.if((0,M._)`${$.default.errors} === ${ke||0}`))}}function wt(Z,Q){const{gen:pe,schema:ke,opts:{useDefaults:tt}}=Z;tt&&(0,D.assignDefaults)(Z,Q.type),pe.block(()=>{for(const Ke of Q.rules)(0,I.shouldUseRule)(ke,Ke)&&er(Z,Ke.keyword,Ke.definition,Q.type)})}function Ot(Z,Q){Z.schemaEnv.meta||!Z.opts.strictTypes||(pt(Z,Q),Z.opts.allowUnionTypes||Ne(Z,Q),bt(Z,Z.dataTypes))}function pt(Z,Q){if(Q.length){if(!Z.dataTypes.length){Z.dataTypes=Q;return}Q.forEach(pe=>{fe(Z.dataTypes,pe)||ct(Z,`type "${pe}" not allowed by context "${Z.dataTypes.join(",")}"`)}),Re(Z,Q)}}function Ne(Z,Q){Q.length>1&&!(Q.length===2&&Q.includes("null"))&&ct(Z,"use allowUnionTypes to allow union type keyword")}function bt(Z,Q){const pe=Z.self.RULES.all;for(const ke in pe){const tt=pe[ke];if(typeof tt=="object"&&(0,I.shouldUseRule)(Z.schema,tt)){const{type:Ke}=tt.definition;Ke.length&&!Ke.some(jt=>ot(Q,jt))&&ct(Z,`missing type "${Ke.join(",")}" for keyword "${ke}"`)}}}function ot(Z,Q){return Z.includes(Q)||Q==="number"&&Z.includes("integer")}function fe(Z,Q){return Z.includes(Q)||Q==="integer"&&Z.includes("number")}function Re(Z,Q){const pe=[];for(const ke of Z.dataTypes)fe(Q,ke)?pe.push(ke):Q.includes("integer")&&ke==="number"&&pe.push("integer");Z.dataTypes=pe}function ct(Z,Q){const pe=Z.schemaEnv.baseId+Z.errSchemaPath;Q+=` at "${pe}" (strictTypes)`,(0,J.checkStrictMode)(Z,Q,Z.opts.strictTypes)}class $t{constructor(Q,pe,ke){if((0,k.validateKeywordUsage)(Q,pe,ke),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=ke,this.data=Q.data,this.schema=Q.schema[ke],this.$data=pe.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,J.schemaRefOrVal)(Q,this.schema,ke,this.$data),this.schemaType=pe.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=pe,this.$data)this.schemaCode=Q.gen.const("vSchema",K(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,k.validSchemaType)(this.schema,pe.schemaType,pe.allowUndefined))throw new Error(`${ke} value must be ${JSON.stringify(pe.schemaType)}`);("code"in pe?pe.trackErrors:pe.errors!==!1)&&(this.errsCount=Q.gen.const("_errs",$.default.errors))}result(Q,pe,ke){this.failResult((0,M.not)(Q),pe,ke)}failResult(Q,pe,ke){this.gen.if(Q),ke?ke():this.error(),pe?(this.gen.else(),pe(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Q,pe){this.failResult((0,M.not)(Q),void 0,pe)}fail(Q){if(Q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(Q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);const{schemaCode:pe}=this;this.fail((0,M._)`${pe} !== undefined && (${(0,M.or)(this.invalid$data(),Q)})`)}error(Q,pe,ke){if(pe){this.setParams(pe),this._error(Q,ke),this.setParams({});return}this._error(Q,ke)}_error(Q,pe){(Q?ne.reportExtraError:ne.reportError)(this,this.def.error,pe)}$dataError(){(0,ne.reportError)(this,this.def.$dataError||ne.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ne.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){this.allErrors||this.gen.if(Q)}setParams(Q,pe){pe?Object.assign(this.params,Q):this.params=Q}block$data(Q,pe,ke=M.nil){this.gen.block(()=>{this.check$data(Q,ke),pe()})}check$data(Q=M.nil,pe=M.nil){if(!this.$data)return;const{gen:ke,schemaCode:tt,schemaType:Ke,def:jt}=this;ke.if((0,M.or)((0,M._)`${tt} === undefined`,pe)),Q!==M.nil&&ke.assign(Q,!0),(Ke.length||jt.validateSchema)&&(ke.elseIf(this.invalid$data()),this.$dataError(),Q!==M.nil&&ke.assign(Q,!1)),ke.else()}invalid$data(){const{gen:Q,schemaCode:pe,schemaType:ke,def:tt,it:Ke}=this;return(0,M.or)(jt(),lr());function jt(){if(ke.length){if(!(pe instanceof M.Name))throw new Error("ajv implementation error");const Jt=Array.isArray(ke)?ke:[ke];return(0,M._)`${(0,O.checkDataTypes)(Jt,pe,Ke.opts.strictNumbers,O.DataType.Wrong)}`}return M.nil}function lr(){if(tt.validateSchema){const Jt=Q.scopeValue("validate$data",{ref:tt.validateSchema});return(0,M._)`!${Jt}(${pe})`}return M.nil}}subschema(Q,pe){const ke=(0,L.getSubschema)(this.it,Q);(0,L.extendSubschemaData)(ke,this.it,Q),(0,L.extendSubschemaMode)(ke,Q);const tt={...this.it,...ke,items:void 0,props:void 0};return ve(tt,pe),tt}mergeEvaluated(Q,pe){const{it:ke,gen:tt}=this;ke.opts.unevaluated&&(ke.props!==!0&&Q.props!==void 0&&(ke.props=J.mergeEvaluated.props(tt,Q.props,ke.props,pe)),ke.items!==!0&&Q.items!==void 0&&(ke.items=J.mergeEvaluated.items(tt,Q.items,ke.items,pe)))}mergeValidEvaluated(Q,pe){const{it:ke,gen:tt}=this;if(ke.opts.unevaluated&&(ke.props!==!0||ke.items!==!0))return tt.if(pe,()=>this.mergeEvaluated(Q,M.Name)),!0}}w.KeywordCxt=$t;function er(Z,Q,pe,ke){const tt=new $t(Z,pe,Q);"code"in pe?pe.code(tt,ke):tt.$data&&pe.validate?(0,k.funcKeywordCode)(tt,pe):"macro"in pe?(0,k.macroKeywordCode)(tt,pe):(pe.compile||pe.validate)&&(0,k.funcKeywordCode)(tt,pe)}const Cr=/^\/(?:[^~]|~0|~1)*$/,ze=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(Z,{dataLevel:Q,dataNames:pe,dataPathArr:ke}){let tt,Ke;if(Z==="")return $.default.rootData;if(Z[0]==="/"){if(!Cr.test(Z))throw new Error(`Invalid JSON-pointer: ${Z}`);tt=Z,Ke=$.default.rootData}else{const Yt=ze.exec(Z);if(!Yt)throw new Error(`Invalid JSON-pointer: ${Z}`);const Qt=+Yt[1];if(tt=Yt[2],tt==="#"){if(Qt>=Q)throw new Error(Jt("property/index",Qt));return ke[Q-Qt]}if(Qt>Q)throw new Error(Jt("data",Qt));if(Ke=pe[Q-Qt],!tt)return Ke}let jt=Ke;const lr=tt.split("/");for(const Yt of lr)Yt&&(Ke=(0,M._)`${Ke}${(0,M.getProperty)((0,J.unescapeJsonPointer)(Yt))}`,jt=(0,M._)`${jt} && ${Ke}`);return jt;function Jt(Yt,Qt){return`Cannot access ${Yt} ${Qt} levels up, current level is ${Q}`}}w.getData=K},87896:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateKeywordUsage=w.validSchemaType=w.funcKeywordCode=w.macroKeywordCode=void 0;const n=a(45117),p=a(93239),I=a(13898),O=a(19606);function D(te,oe){const{gen:we,keyword:U,schema:q,parentSchema:Oe,it:ae}=te,ve=oe.macro.call(ae.self,q,Oe,ae),Te=z(we,U,ve);ae.opts.validateSchema!==!1&&ae.self.validateSchema(ve,!0);const re=we.name("valid");te.subschema({schema:ve,schemaPath:n.nil,errSchemaPath:`${ae.errSchemaPath}/${U}`,topSchemaRef:Te,compositeRule:!0},re),te.pass(re,()=>te.error(!0))}w.macroKeywordCode=D;function k(te,oe){var we;const{gen:U,keyword:q,schema:Oe,parentSchema:ae,$data:ve,it:Te}=te;$(Te,oe);const re=!ve&&oe.compile?oe.compile.call(Te.self,Oe,ae,Te):oe.validate,ce=z(U,q,re),F=U.let("valid");te.block$data(F,We),te.ok((we=oe.valid)!==null&&we!==void 0?we:F);function We(){if(oe.errors===!1)Ye(),oe.modifying&&L(te),kt(()=>te.error());else{const Le=oe.async?xe():Be();oe.modifying&&L(te),kt(()=>M(te,Le))}}function xe(){const Le=U.let("ruleErrs",null);return U.try(()=>Ye((0,n._)`await `),ut=>U.assign(F,!1).if((0,n._)`${ut} instanceof ${Te.ValidationError}`,()=>U.assign(Le,(0,n._)`${ut}.errors`),()=>U.throw(ut))),Le}function Be(){const Le=(0,n._)`${ce}.errors`;return U.assign(Le,null),Ye(n.nil),Le}function Ye(Le=oe.async?(0,n._)`await `:n.nil){const ut=Te.opts.passContext?p.default.this:p.default.self,gt=!("compile"in oe&&!ve||oe.schema===!1);U.assign(F,(0,n._)`${Le}${(0,I.callValidateCode)(te,ce,ut,gt)}`,oe.modifying)}function kt(Le){var ut;U.if((0,n.not)((ut=oe.valid)!==null&&ut!==void 0?ut:F),Le)}}w.funcKeywordCode=k;function L(te){const{gen:oe,data:we,it:U}=te;oe.if(U.parentData,()=>oe.assign(we,(0,n._)`${U.parentData}[${U.parentDataProperty}]`))}function M(te,oe){const{gen:we}=te;we.if((0,n._)`Array.isArray(${oe})`,()=>{we.assign(p.default.vErrors,(0,n._)`${p.default.vErrors} === null ? ${oe} : ${p.default.vErrors}.concat(${oe})`).assign(p.default.errors,(0,n._)`${p.default.vErrors}.length`),(0,O.extendErrors)(te)},()=>te.error())}function $({schemaEnv:te},oe){if(oe.async&&!te.$async)throw new Error("async keyword in sync schema")}function z(te,oe,we){if(we===void 0)throw new Error(`keyword "${oe}" failed to compile`);return te.scopeValue("keyword",typeof we=="function"?{ref:we}:{ref:we,code:(0,n.stringify)(we)})}function J(te,oe,we=!1){return!oe.length||oe.some(U=>U==="array"?Array.isArray(te):U==="object"?te&&typeof te=="object"&&!Array.isArray(te):typeof te==U||we&&typeof te=="undefined")}w.validSchemaType=J;function ne({schema:te,opts:oe,self:we,errSchemaPath:U},q,Oe){if(Array.isArray(q.keyword)?!q.keyword.includes(Oe):q.keyword!==Oe)throw new Error("ajv implementation error");const ae=q.dependencies;if(ae!=null&&ae.some(ve=>!Object.prototype.hasOwnProperty.call(te,ve)))throw new Error(`parent schema must have dependencies of ${Oe}: ${ae.join(",")}`);if(q.validateSchema&&!q.validateSchema(te[Oe])){const Te=`keyword "${Oe}" value is invalid at path "${U}": `+we.errorsText(q.validateSchema.errors);if(oe.validateSchema==="log")we.logger.error(Te);else throw new Error(Te)}}w.validateKeywordUsage=ne},94929:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.extendSubschemaMode=w.extendSubschemaData=w.getSubschema=void 0;const n=a(45117),p=a(79812);function I(k,{keyword:L,schemaProp:M,schema:$,schemaPath:z,errSchemaPath:J,topSchemaRef:ne}){if(L!==void 0&&$!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(L!==void 0){const te=k.schema[L];return M===void 0?{schema:te,schemaPath:(0,n._)`${k.schemaPath}${(0,n.getProperty)(L)}`,errSchemaPath:`${k.errSchemaPath}/${L}`}:{schema:te[M],schemaPath:(0,n._)`${k.schemaPath}${(0,n.getProperty)(L)}${(0,n.getProperty)(M)}`,errSchemaPath:`${k.errSchemaPath}/${L}/${(0,p.escapeFragment)(M)}`}}if($!==void 0){if(z===void 0||J===void 0||ne===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:$,schemaPath:z,topSchemaRef:ne,errSchemaPath:J}}throw new Error('either "keyword" or "schema" must be passed')}w.getSubschema=I;function O(k,L,{dataProp:M,dataPropType:$,data:z,dataTypes:J,propertyName:ne}){if(z!==void 0&&M!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:te}=L;if(M!==void 0){const{errorPath:we,dataPathArr:U,opts:q}=L,Oe=te.let("data",(0,n._)`${L.data}${(0,n.getProperty)(M)}`,!0);oe(Oe),k.errorPath=(0,n.str)`${we}${(0,p.getErrorPath)(M,$,q.jsPropertySyntax)}`,k.parentDataProperty=(0,n._)`${M}`,k.dataPathArr=[...U,k.parentDataProperty]}if(z!==void 0){const we=z instanceof n.Name?z:te.let("data",z,!0);oe(we),ne!==void 0&&(k.propertyName=ne)}J&&(k.dataTypes=J);function oe(we){k.data=we,k.dataLevel=L.dataLevel+1,k.dataTypes=[],L.definedProperties=new Set,k.parentData=L.data,k.dataNames=[...L.dataNames,we]}}w.extendSubschemaData=O;function D(k,{jtdDiscriminator:L,jtdMetadata:M,compositeRule:$,createErrors:z,allErrors:J}){$!==void 0&&(k.compositeRule=$),z!==void 0&&(k.createErrors=z),J!==void 0&&(k.allErrors=J),k.jtdDiscriminator=L,k.jtdMetadata=M}w.extendSubschemaMode=D},29414:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.CodeGen=w.Name=w.nil=w.stringify=w.str=w._=w.KeywordCxt=void 0;var n=a(53970);Object.defineProperty(w,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var p=a(45117);Object.defineProperty(w,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(w,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(w,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(w,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(w,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(w,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});const I=a(65282),O=a(97566),D=a(60968),k=a(19984),L=a(45117),M=a(40071),$=a(51549),z=a(79812),J=a(75758),ne=a(36651),te=(pt,Ne)=>new RegExp(pt,Ne);te.code="new RegExp";const oe=["removeAdditional","useDefaults","coerceTypes"],we=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),U={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},q={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Oe=200;function ae(pt){var Ne,bt,ot,fe,Re,ct,$t,er,Cr,ze,K,Z,Q,pe,ke,tt,Ke,jt,lr,Jt,Yt,Qt,nt,Tt,Vt;const yr=pt.strict,_r=(Ne=pt.code)===null||Ne===void 0?void 0:Ne.optimize,wr=_r===!0||_r===void 0?1:_r||0,vr=(ot=(bt=pt.code)===null||bt===void 0?void 0:bt.regExp)!==null&&ot!==void 0?ot:te,Ft=(fe=pt.uriResolver)!==null&&fe!==void 0?fe:ne.default;return{strictSchema:(ct=(Re=pt.strictSchema)!==null&&Re!==void 0?Re:yr)!==null&&ct!==void 0?ct:!0,strictNumbers:(er=($t=pt.strictNumbers)!==null&&$t!==void 0?$t:yr)!==null&&er!==void 0?er:!0,strictTypes:(ze=(Cr=pt.strictTypes)!==null&&Cr!==void 0?Cr:yr)!==null&&ze!==void 0?ze:"log",strictTuples:(Z=(K=pt.strictTuples)!==null&&K!==void 0?K:yr)!==null&&Z!==void 0?Z:"log",strictRequired:(pe=(Q=pt.strictRequired)!==null&&Q!==void 0?Q:yr)!==null&&pe!==void 0?pe:!1,code:pt.code?{...pt.code,optimize:wr,regExp:vr}:{optimize:wr,regExp:vr},loopRequired:(ke=pt.loopRequired)!==null&&ke!==void 0?ke:Oe,loopEnum:(tt=pt.loopEnum)!==null&&tt!==void 0?tt:Oe,meta:(Ke=pt.meta)!==null&&Ke!==void 0?Ke:!0,messages:(jt=pt.messages)!==null&&jt!==void 0?jt:!0,inlineRefs:(lr=pt.inlineRefs)!==null&&lr!==void 0?lr:!0,schemaId:(Jt=pt.schemaId)!==null&&Jt!==void 0?Jt:"$id",addUsedSchema:(Yt=pt.addUsedSchema)!==null&&Yt!==void 0?Yt:!0,validateSchema:(Qt=pt.validateSchema)!==null&&Qt!==void 0?Qt:!0,validateFormats:(nt=pt.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(Tt=pt.unicodeRegExp)!==null&&Tt!==void 0?Tt:!0,int32range:(Vt=pt.int32range)!==null&&Vt!==void 0?Vt:!0,uriResolver:Ft}}class ve{constructor(Ne={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Ne=this.opts={...Ne,...ae(Ne)};const{es5:bt,lines:ot}=this.opts.code;this.scope=new L.ValueScope({scope:{},prefixes:we,es5:bt,lines:ot}),this.logger=Ye(Ne.logger);const fe=Ne.validateFormats;Ne.validateFormats=!1,this.RULES=(0,D.getRules)(),Te.call(this,U,Ne,"NOT SUPPORTED"),Te.call(this,q,Ne,"DEPRECATED","warn"),this._metaOpts=xe.call(this),Ne.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Ne.keywords&&We.call(this,Ne.keywords),typeof Ne.meta=="object"&&this.addMetaSchema(Ne.meta),ce.call(this),Ne.validateFormats=fe}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Ne,meta:bt,schemaId:ot}=this.opts;let fe=J;ot==="id"&&(fe={...J},fe.id=fe.$id,delete fe.$id),bt&&Ne&&this.addMetaSchema(fe,fe[ot],!1)}defaultMeta(){const{meta:Ne,schemaId:bt}=this.opts;return this.opts.defaultMeta=typeof Ne=="object"?Ne[bt]||Ne:void 0}validate(Ne,bt){let ot;if(typeof Ne=="string"){if(ot=this.getSchema(Ne),!ot)throw new Error(`no schema with key or ref "${Ne}"`)}else ot=this.compile(Ne);const fe=ot(bt);return"$async"in ot||(this.errors=ot.errors),fe}compile(Ne,bt){const ot=this._addSchema(Ne,bt);return ot.validate||this._compileSchemaEnv(ot)}compileAsync(Ne,bt){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:ot}=this.opts;return fe.call(this,Ne,bt);async function fe(ze,K){await Re.call(this,ze.$schema);const Z=this._addSchema(ze,K);return Z.validate||ct.call(this,Z)}async function Re(ze){ze&&!this.getSchema(ze)&&await fe.call(this,{$ref:ze},!0)}async function ct(ze){try{return this._compileSchemaEnv(ze)}catch(K){if(!(K instanceof O.default))throw K;return $t.call(this,K),await er.call(this,K.missingSchema),ct.call(this,ze)}}function $t({missingSchema:ze,missingRef:K}){if(this.refs[ze])throw new Error(`AnySchema ${ze} is loaded but ${K} cannot be resolved`)}async function er(ze){const K=await Cr.call(this,ze);this.refs[ze]||await Re.call(this,K.$schema),this.refs[ze]||this.addSchema(K,ze,bt)}async function Cr(ze){const K=this._loading[ze];if(K)return K;try{return await(this._loading[ze]=ot(ze))}finally{delete this._loading[ze]}}}addSchema(Ne,bt,ot,fe=this.opts.validateSchema){if(Array.isArray(Ne)){for(const ct of Ne)this.addSchema(ct,void 0,ot,fe);return this}let Re;if(typeof Ne=="object"){const{schemaId:ct}=this.opts;if(Re=Ne[ct],Re!==void 0&&typeof Re!="string")throw new Error(`schema ${ct} must be string`)}return bt=(0,M.normalizeId)(bt||Re),this._checkUnique(bt),this.schemas[bt]=this._addSchema(Ne,ot,bt,fe,!0),this}addMetaSchema(Ne,bt,ot=this.opts.validateSchema){return this.addSchema(Ne,bt,!0,ot),this}validateSchema(Ne,bt){if(typeof Ne=="boolean")return!0;let ot;if(ot=Ne.$schema,ot!==void 0&&typeof ot!="string")throw new Error("$schema must be a string");if(ot=ot||this.opts.defaultMeta||this.defaultMeta(),!ot)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const fe=this.validate(ot,Ne);if(!fe&&bt){const Re="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Re);else throw new Error(Re)}return fe}getSchema(Ne){let bt;for(;typeof(bt=re.call(this,Ne))=="string";)Ne=bt;if(bt===void 0){const{schemaId:ot}=this.opts,fe=new k.SchemaEnv({schema:{},schemaId:ot});if(bt=k.resolveSchema.call(this,fe,Ne),!bt)return;this.refs[Ne]=bt}return bt.validate||this._compileSchemaEnv(bt)}removeSchema(Ne){if(Ne instanceof RegExp)return this._removeAllSchemas(this.schemas,Ne),this._removeAllSchemas(this.refs,Ne),this;switch(typeof Ne){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const bt=re.call(this,Ne);return typeof bt=="object"&&this._cache.delete(bt.schema),delete this.schemas[Ne],delete this.refs[Ne],this}case"object":{const bt=Ne;this._cache.delete(bt);let ot=Ne[this.opts.schemaId];return ot&&(ot=(0,M.normalizeId)(ot),delete this.schemas[ot],delete this.refs[ot]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Ne){for(const bt of Ne)this.addKeyword(bt);return this}addKeyword(Ne,bt){let ot;if(typeof Ne=="string")ot=Ne,typeof bt=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),bt.keyword=ot);else if(typeof Ne=="object"&&bt===void 0){if(bt=Ne,ot=bt.keyword,Array.isArray(ot)&&!ot.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Le.call(this,ot,bt),!bt)return(0,z.eachItem)(ot,Re=>ut.call(this,Re)),this;Ut.call(this,bt);const fe={...bt,type:(0,$.getJSONTypes)(bt.type),schemaType:(0,$.getJSONTypes)(bt.schemaType)};return(0,z.eachItem)(ot,fe.type.length===0?Re=>ut.call(this,Re,fe):Re=>fe.type.forEach(ct=>ut.call(this,Re,fe,ct))),this}getKeyword(Ne){const bt=this.RULES.all[Ne];return typeof bt=="object"?bt.definition:!!bt}removeKeyword(Ne){const{RULES:bt}=this;delete bt.keywords[Ne],delete bt.all[Ne];for(const ot of bt.rules){const fe=ot.rules.findIndex(Re=>Re.keyword===Ne);fe>=0&&ot.rules.splice(fe,1)}return this}addFormat(Ne,bt){return typeof bt=="string"&&(bt=new RegExp(bt)),this.formats[Ne]=bt,this}errorsText(Ne=this.errors,{separator:bt=", ",dataVar:ot="data"}={}){return!Ne||Ne.length===0?"No errors":Ne.map(fe=>`${ot}${fe.instancePath} ${fe.message}`).reduce((fe,Re)=>fe+bt+Re)}$dataMetaSchema(Ne,bt){const ot=this.RULES.all;Ne=JSON.parse(JSON.stringify(Ne));for(const fe of bt){const Re=fe.split("/").slice(1);let ct=Ne;for(const $t of Re)ct=ct[$t];for(const $t in ot){const er=ot[$t];if(typeof er!="object")continue;const{$data:Cr}=er.definition,ze=ct[$t];Cr&&ze&&(ct[$t]=Ot(ze))}}return Ne}_removeAllSchemas(Ne,bt){for(const ot in Ne){const fe=Ne[ot];(!bt||bt.test(ot))&&(typeof fe=="string"?delete Ne[ot]:fe&&!fe.meta&&(this._cache.delete(fe.schema),delete Ne[ot]))}}_addSchema(Ne,bt,ot,fe=this.opts.validateSchema,Re=this.opts.addUsedSchema){let ct;const{schemaId:$t}=this.opts;if(typeof Ne=="object")ct=Ne[$t];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Ne!="boolean")throw new Error("schema must be object or boolean")}let er=this._cache.get(Ne);if(er!==void 0)return er;ot=(0,M.normalizeId)(ct||ot);const Cr=M.getSchemaRefs.call(this,Ne,ot);return er=new k.SchemaEnv({schema:Ne,schemaId:$t,meta:bt,baseId:ot,localRefs:Cr}),this._cache.set(er.schema,er),Re&&!ot.startsWith("#")&&(ot&&this._checkUnique(ot),this.refs[ot]=er),fe&&this.validateSchema(Ne,!0),er}_checkUnique(Ne){if(this.schemas[Ne]||this.refs[Ne])throw new Error(`schema with key or id "${Ne}" already exists`)}_compileSchemaEnv(Ne){if(Ne.meta?this._compileMetaSchema(Ne):k.compileSchema.call(this,Ne),!Ne.validate)throw new Error("ajv implementation error");return Ne.validate}_compileMetaSchema(Ne){const bt=this.opts;this.opts=this._metaOpts;try{k.compileSchema.call(this,Ne)}finally{this.opts=bt}}}w.default=ve,ve.ValidationError=I.default,ve.MissingRefError=O.default;function Te(pt,Ne,bt,ot="error"){for(const fe in pt){const Re=fe;Re in Ne&&this.logger[ot](`${bt}: option ${fe}. ${pt[Re]}`)}}function re(pt){return pt=(0,M.normalizeId)(pt),this.schemas[pt]||this.refs[pt]}function ce(){const pt=this.opts.schemas;if(pt)if(Array.isArray(pt))this.addSchema(pt);else for(const Ne in pt)this.addSchema(pt[Ne],Ne)}function F(){for(const pt in this.opts.formats){const Ne=this.opts.formats[pt];Ne&&this.addFormat(pt,Ne)}}function We(pt){if(Array.isArray(pt)){this.addVocabulary(pt);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Ne in pt){const bt=pt[Ne];bt.keyword||(bt.keyword=Ne),this.addKeyword(bt)}}function xe(){const pt={...this.opts};for(const Ne of oe)delete pt[Ne];return pt}const Be={log(){},warn(){},error(){}};function Ye(pt){if(pt===!1)return Be;if(pt===void 0)return console;if(pt.log&&pt.warn&&pt.error)return pt;throw new Error("logger must implement log, warn and error methods")}const kt=/^[a-z_$][a-z0-9_$:-]*$/i;function Le(pt,Ne){const{RULES:bt}=this;if((0,z.eachItem)(pt,ot=>{if(bt.keywords[ot])throw new Error(`Keyword ${ot} is already defined`);if(!kt.test(ot))throw new Error(`Keyword ${ot} has invalid name`)}),!!Ne&&Ne.$data&&!("code"in Ne||"validate"in Ne))throw new Error('$data keyword must have "code" or "validate" function')}function ut(pt,Ne,bt){var ot;const fe=Ne==null?void 0:Ne.post;if(bt&&fe)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Re}=this;let ct=fe?Re.post:Re.rules.find(({type:er})=>er===bt);if(ct||(ct={type:bt,rules:[]},Re.rules.push(ct)),Re.keywords[pt]=!0,!Ne)return;const $t={keyword:pt,definition:{...Ne,type:(0,$.getJSONTypes)(Ne.type),schemaType:(0,$.getJSONTypes)(Ne.schemaType)}};Ne.before?gt.call(this,ct,$t,Ne.before):ct.rules.push($t),Re.all[pt]=$t,(ot=Ne.implements)===null||ot===void 0||ot.forEach(er=>this.addKeyword(er))}function gt(pt,Ne,bt){const ot=pt.rules.findIndex(fe=>fe.keyword===bt);ot>=0?pt.rules.splice(ot,0,Ne):(pt.rules.push(Ne),this.logger.warn(`rule ${bt} is not defined`))}function Ut(pt){let{metaSchema:Ne}=pt;Ne!==void 0&&(pt.$data&&this.opts.$data&&(Ne=Ot(Ne)),pt.validateSchema=this.compile(Ne,!0))}const wt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ot(pt){return{anyOf:[pt,wt]}}},64629:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(69378);n.code='require("ajv/dist/runtime/equal").default',w.default=n},72496:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});function a(n){const p=n.length;let I=0,O=0,D;for(;O<p;)I++,D=n.charCodeAt(O++),D>=55296&&D<=56319&&O<p&&(D=n.charCodeAt(O),(D&64512)===56320&&O++);return I}w.default=a,a.code='require("ajv/dist/runtime/ucs2length").default'},36651:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(12854);n.code='require("ajv/dist/runtime/uri").default',w.default=n},65282:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});class a extends Error{constructor(p){super("validation failed"),this.errors=p,this.ajv=this.validation=!0}}w.default=a},80663:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateAdditionalItems=void 0;const n=a(45117),p=a(79812),O={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:k}})=>(0,n.str)`must NOT have more than ${k} items`,params:({params:{len:k}})=>(0,n._)`{limit: ${k}}`},code(k){const{parentSchema:L,it:M}=k,{items:$}=L;if(!Array.isArray($)){(0,p.checkStrictMode)(M,'"additionalItems" is ignored when "items" is not an array of schemas');return}D(k,$)}};function D(k,L){const{gen:M,schema:$,data:z,keyword:J,it:ne}=k;ne.items=!0;const te=M.const("len",(0,n._)`${z}.length`);if($===!1)k.setParams({len:L.length}),k.pass((0,n._)`${te} <= ${L.length}`);else if(typeof $=="object"&&!(0,p.alwaysValidSchema)(ne,$)){const we=M.var("valid",(0,n._)`${te} <= ${L.length}`);M.if((0,n.not)(we),()=>oe(we)),k.ok(we)}function oe(we){M.forRange("i",L.length,te,U=>{k.subschema({keyword:J,dataProp:U,dataPropType:p.Type.Num},we),ne.allErrors||M.if((0,n.not)(we),()=>M.break())})}}w.validateAdditionalItems=D,w.default=O},36166:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(13898),p=a(45117),I=a(93239),O=a(79812),k={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:L})=>(0,p._)`{additionalProperty: ${L.additionalProperty}}`},code(L){const{gen:M,schema:$,parentSchema:z,data:J,errsCount:ne,it:te}=L;if(!ne)throw new Error("ajv implementation error");const{allErrors:oe,opts:we}=te;if(te.props=!0,we.removeAdditional!=="all"&&(0,O.alwaysValidSchema)(te,$))return;const U=(0,n.allSchemaProperties)(z.properties),q=(0,n.allSchemaProperties)(z.patternProperties);Oe(),L.ok((0,p._)`${ne} === ${I.default.errors}`);function Oe(){M.forIn("key",J,ce=>{!U.length&&!q.length?Te(ce):M.if(ae(ce),()=>Te(ce))})}function ae(ce){let F;if(U.length>8){const We=(0,O.schemaRefOrVal)(te,z.properties,"properties");F=(0,n.isOwnProperty)(M,We,ce)}else U.length?F=(0,p.or)(...U.map(We=>(0,p._)`${ce} === ${We}`)):F=p.nil;return q.length&&(F=(0,p.or)(F,...q.map(We=>(0,p._)`${(0,n.usePattern)(L,We)}.test(${ce})`))),(0,p.not)(F)}function ve(ce){M.code((0,p._)`delete ${J}[${ce}]`)}function Te(ce){if(we.removeAdditional==="all"||we.removeAdditional&&$===!1){ve(ce);return}if($===!1){L.setParams({additionalProperty:ce}),L.error(),oe||M.break();return}if(typeof $=="object"&&!(0,O.alwaysValidSchema)(te,$)){const F=M.name("valid");we.removeAdditional==="failing"?(re(ce,F,!1),M.if((0,p.not)(F),()=>{L.reset(),ve(ce)})):(re(ce,F),oe||M.if((0,p.not)(F),()=>M.break()))}}function re(ce,F,We){const xe={keyword:"additionalProperties",dataProp:ce,dataPropType:O.Type.Str};We===!1&&Object.assign(xe,{compositeRule:!0,createErrors:!1,allErrors:!1}),L.subschema(xe,F)}}};w.default=k},2973:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(79812),p={keyword:"allOf",schemaType:"array",code(I){const{gen:O,schema:D,it:k}=I;if(!Array.isArray(D))throw new Error("ajv implementation error");const L=O.name("valid");D.forEach((M,$)=>{if((0,n.alwaysValidSchema)(k,M))return;const z=I.subschema({keyword:"allOf",schemaProp:$},L);I.ok(L),I.mergeEvaluated(z)})}};w.default=p},3067:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const p={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:a(13898).validateUnion,error:{message:"must match a schema in anyOf"}};w.default=p},53608:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),O={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:D,max:k}})=>k===void 0?(0,n.str)`must contain at least ${D} valid item(s)`:(0,n.str)`must contain at least ${D} and no more than ${k} valid item(s)`,params:({params:{min:D,max:k}})=>k===void 0?(0,n._)`{minContains: ${D}}`:(0,n._)`{minContains: ${D}, maxContains: ${k}}`},code(D){const{gen:k,schema:L,parentSchema:M,data:$,it:z}=D;let J,ne;const{minContains:te,maxContains:oe}=M;z.opts.next?(J=te===void 0?1:te,ne=oe):J=1;const we=k.const("len",(0,n._)`${$}.length`);if(D.setParams({min:J,max:ne}),ne===void 0&&J===0){(0,p.checkStrictMode)(z,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(ne!==void 0&&J>ne){(0,p.checkStrictMode)(z,'"minContains" > "maxContains" is always invalid'),D.fail();return}if((0,p.alwaysValidSchema)(z,L)){let ve=(0,n._)`${we} >= ${J}`;ne!==void 0&&(ve=(0,n._)`${ve} && ${we} <= ${ne}`),D.pass(ve);return}z.items=!0;const U=k.name("valid");ne===void 0&&J===1?Oe(U,()=>k.if(U,()=>k.break())):J===0?(k.let(U,!0),ne!==void 0&&k.if((0,n._)`${$}.length > 0`,q)):(k.let(U,!1),q()),D.result(U,()=>D.reset());function q(){const ve=k.name("_valid"),Te=k.let("count",0);Oe(ve,()=>k.if(ve,()=>ae(Te)))}function Oe(ve,Te){k.forRange("i",0,we,re=>{D.subschema({keyword:"contains",dataProp:re,dataPropType:p.Type.Num,compositeRule:!0},ve),Te()})}function ae(ve){k.code((0,n._)`${ve}++`),ne===void 0?k.if((0,n._)`${ve} >= ${J}`,()=>k.assign(U,!0).break()):(k.if((0,n._)`${ve} > ${ne}`,()=>k.assign(U,!1).break()),J===1?k.assign(U,!0):k.if((0,n._)`${ve} >= ${J}`,()=>k.assign(U,!0)))}}};w.default=O},96859:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateSchemaDeps=w.validatePropertyDeps=w.error=void 0;const n=a(45117),p=a(79812),I=a(13898);w.error={message:({params:{property:M,depsCount:$,deps:z}})=>{const J=$===1?"property":"properties";return(0,n.str)`must have ${J} ${z} when property ${M} is present`},params:({params:{property:M,depsCount:$,deps:z,missingProperty:J}})=>(0,n._)`{property: ${M},
    missingProperty: ${J},
    depsCount: ${$},
    deps: ${z}}`};const O={keyword:"dependencies",type:"object",schemaType:"object",error:w.error,code(M){const[$,z]=D(M);k(M,$),L(M,z)}};function D({schema:M}){const $={},z={};for(const J in M){if(J==="__proto__")continue;const ne=Array.isArray(M[J])?$:z;ne[J]=M[J]}return[$,z]}function k(M,$=M.schema){const{gen:z,data:J,it:ne}=M;if(Object.keys($).length===0)return;const te=z.let("missing");for(const oe in $){const we=$[oe];if(we.length===0)continue;const U=(0,I.propertyInData)(z,J,oe,ne.opts.ownProperties);M.setParams({property:oe,depsCount:we.length,deps:we.join(", ")}),ne.allErrors?z.if(U,()=>{for(const q of we)(0,I.checkReportMissingProp)(M,q)}):(z.if((0,n._)`${U} && (${(0,I.checkMissingProp)(M,we,te)})`),(0,I.reportMissingProp)(M,te),z.else())}}w.validatePropertyDeps=k;function L(M,$=M.schema){const{gen:z,data:J,keyword:ne,it:te}=M,oe=z.name("valid");for(const we in $)(0,p.alwaysValidSchema)(te,$[we])||(z.if((0,I.propertyInData)(z,J,we,te.opts.ownProperties),()=>{const U=M.subschema({keyword:ne,schemaProp:we},oe);M.mergeValidEvaluated(U,oe)},()=>z.var(oe,!0)),M.ok(oe))}w.validateSchemaDeps=L,w.default=O},91569:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),O={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:k})=>(0,n.str)`must match "${k.ifClause}" schema`,params:({params:k})=>(0,n._)`{failingKeyword: ${k.ifClause}}`},code(k){const{gen:L,parentSchema:M,it:$}=k;M.then===void 0&&M.else===void 0&&(0,p.checkStrictMode)($,'"if" without "then" and "else" is ignored');const z=D($,"then"),J=D($,"else");if(!z&&!J)return;const ne=L.let("valid",!0),te=L.name("_valid");if(oe(),k.reset(),z&&J){const U=L.let("ifClause");k.setParams({ifClause:U}),L.if(te,we("then",U),we("else",U))}else z?L.if(te,we("then")):L.if((0,n.not)(te),we("else"));k.pass(ne,()=>k.error(!0));function oe(){const U=k.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},te);k.mergeEvaluated(U)}function we(U,q){return()=>{const Oe=k.subschema({keyword:U},te);L.assign(ne,te),k.mergeValidEvaluated(Oe,ne),q?L.assign(q,(0,n._)`${U}`):k.setParams({ifClause:U})}}}};function D(k,L){const M=k.schema[L];return M!==void 0&&!(0,p.alwaysValidSchema)(k,M)}w.default=O},59708:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(80663),p=a(85490),I=a(22858),O=a(45610),D=a(53608),k=a(96859),L=a(17366),M=a(36166),$=a(34983),z=a(34783),J=a(63464),ne=a(3067),te=a(89338),oe=a(2973),we=a(91569),U=a(7303);function q(Oe=!1){const ae=[J.default,ne.default,te.default,oe.default,we.default,U.default,L.default,M.default,k.default,$.default,z.default];return Oe?ae.push(p.default,O.default):ae.push(n.default,I.default),ae.push(D.default),ae}w.default=q},22858:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateTuple=void 0;const n=a(45117),p=a(79812),I=a(13898),O={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(k){const{schema:L,it:M}=k;if(Array.isArray(L))return D(k,"additionalItems",L);M.items=!0,!(0,p.alwaysValidSchema)(M,L)&&k.ok((0,I.validateArray)(k))}};function D(k,L,M=k.schema){const{gen:$,parentSchema:z,data:J,keyword:ne,it:te}=k;U(z),te.opts.unevaluated&&M.length&&te.items!==!0&&(te.items=p.mergeEvaluated.items($,M.length,te.items));const oe=$.name("valid"),we=$.const("len",(0,n._)`${J}.length`);M.forEach((q,Oe)=>{(0,p.alwaysValidSchema)(te,q)||($.if((0,n._)`${we} > ${Oe}`,()=>k.subschema({keyword:ne,schemaProp:Oe,dataProp:Oe},oe)),k.ok(oe))});function U(q){const{opts:Oe,errSchemaPath:ae}=te,ve=M.length,Te=ve===q.minItems&&(ve===q.maxItems||q[L]===!1);if(Oe.strictTuples&&!Te){const re=`"${ne}" is ${ve}-tuple, but minItems or maxItems/${L} are not specified or different at path "${ae}"`;(0,p.checkStrictMode)(te,re,Oe.strictTuples)}}}w.validateTuple=D,w.default=O},45610:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),I=a(13898),O=a(80663),k={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:L}})=>(0,n.str)`must NOT have more than ${L} items`,params:({params:{len:L}})=>(0,n._)`{limit: ${L}}`},code(L){const{schema:M,parentSchema:$,it:z}=L,{prefixItems:J}=$;z.items=!0,!(0,p.alwaysValidSchema)(z,M)&&(J?(0,O.validateAdditionalItems)(L,J):L.ok((0,I.validateArray)(L)))}};w.default=k},63464:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(79812),p={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(I){const{gen:O,schema:D,it:k}=I;if((0,n.alwaysValidSchema)(k,D)){I.fail();return}const L=O.name("valid");I.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},L),I.failResult(L,()=>I.reset(),()=>I.error())},error:{message:"must NOT be valid"}};w.default=p},89338:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),O={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:D})=>(0,n._)`{passingSchemas: ${D.passing}}`},code(D){const{gen:k,schema:L,parentSchema:M,it:$}=D;if(!Array.isArray(L))throw new Error("ajv implementation error");if($.opts.discriminator&&M.discriminator)return;const z=L,J=k.let("valid",!1),ne=k.let("passing",null),te=k.name("_valid");D.setParams({passing:ne}),k.block(oe),D.result(J,()=>D.reset(),()=>D.error(!0));function oe(){z.forEach((we,U)=>{let q;(0,p.alwaysValidSchema)($,we)?k.var(te,!0):q=D.subschema({keyword:"oneOf",schemaProp:U,compositeRule:!0},te),U>0&&k.if((0,n._)`${te} && ${J}`).assign(J,!1).assign(ne,(0,n._)`[${ne}, ${U}]`).else(),k.if(te,()=>{k.assign(J,!0),k.assign(ne,U),q&&D.mergeEvaluated(q,n.Name)})})}}};w.default=O},34783:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(13898),p=a(45117),I=a(79812),O=a(79812),D={keyword:"patternProperties",type:"object",schemaType:"object",code(k){const{gen:L,schema:M,data:$,parentSchema:z,it:J}=k,{opts:ne}=J,te=(0,n.allSchemaProperties)(M),oe=te.filter(Te=>(0,I.alwaysValidSchema)(J,M[Te]));if(te.length===0||oe.length===te.length&&(!J.opts.unevaluated||J.props===!0))return;const we=ne.strictSchema&&!ne.allowMatchingProperties&&z.properties,U=L.name("valid");J.props!==!0&&!(J.props instanceof p.Name)&&(J.props=(0,O.evaluatedPropsToName)(L,J.props));const{props:q}=J;Oe();function Oe(){for(const Te of te)we&&ae(Te),J.allErrors?ve(Te):(L.var(U,!0),ve(Te),L.if(U))}function ae(Te){for(const re in we)new RegExp(Te).test(re)&&(0,I.checkStrictMode)(J,`property ${re} matches pattern ${Te} (use allowMatchingProperties)`)}function ve(Te){L.forIn("key",$,re=>{L.if((0,p._)`${(0,n.usePattern)(k,Te)}.test(${re})`,()=>{const ce=oe.includes(Te);ce||k.subschema({keyword:"patternProperties",schemaProp:Te,dataProp:re,dataPropType:O.Type.Str},U),J.opts.unevaluated&&q!==!0?L.assign((0,p._)`${q}[${re}]`,!0):!ce&&!J.allErrors&&L.if((0,p.not)(U),()=>L.break())})})}}};w.default=D},85490:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(22858),p={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:I=>(0,n.validateTuple)(I,"items")};w.default=p},34983:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(53970),p=a(13898),I=a(79812),O=a(36166),D={keyword:"properties",type:"object",schemaType:"object",code(k){const{gen:L,schema:M,parentSchema:$,data:z,it:J}=k;J.opts.removeAdditional==="all"&&$.additionalProperties===void 0&&O.default.code(new n.KeywordCxt(J,O.default,"additionalProperties"));const ne=(0,p.allSchemaProperties)(M);for(const q of ne)J.definedProperties.add(q);J.opts.unevaluated&&ne.length&&J.props!==!0&&(J.props=I.mergeEvaluated.props(L,(0,I.toHash)(ne),J.props));const te=ne.filter(q=>!(0,I.alwaysValidSchema)(J,M[q]));if(te.length===0)return;const oe=L.name("valid");for(const q of te)we(q)?U(q):(L.if((0,p.propertyInData)(L,z,q,J.opts.ownProperties)),U(q),J.allErrors||L.else().var(oe,!0),L.endIf()),k.it.definedProperties.add(q),k.ok(oe);function we(q){return J.opts.useDefaults&&!J.compositeRule&&M[q].default!==void 0}function U(q){k.subschema({keyword:"properties",schemaProp:q,dataProp:q},oe)}}};w.default=D},17366:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),O={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:D})=>(0,n._)`{propertyName: ${D.propertyName}}`},code(D){const{gen:k,schema:L,data:M,it:$}=D;if((0,p.alwaysValidSchema)($,L))return;const z=k.name("valid");k.forIn("key",M,J=>{D.setParams({propertyName:J}),D.subschema({keyword:"propertyNames",data:J,dataTypes:["string"],propertyName:J,compositeRule:!0},z),k.if((0,n.not)(z),()=>{D.error(!0),$.allErrors||k.break()})}),D.ok(z)}};w.default=O},7303:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(79812),p={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:I,parentSchema:O,it:D}){O.if===void 0&&(0,n.checkStrictMode)(D,`"${I}" without "if" is ignored`)}};w.default=p},13898:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.validateUnion=w.validateArray=w.usePattern=w.callValidateCode=w.schemaProperties=w.allSchemaProperties=w.noPropertyInData=w.propertyInData=w.isOwnProperty=w.hasPropFunc=w.reportMissingProp=w.checkMissingProp=w.checkReportMissingProp=void 0;const n=a(45117),p=a(79812),I=a(93239),O=a(79812);function D(ae,ve){const{gen:Te,data:re,it:ce}=ae;Te.if(J(Te,re,ve,ce.opts.ownProperties),()=>{ae.setParams({missingProperty:(0,n._)`${ve}`},!0),ae.error()})}w.checkReportMissingProp=D;function k({gen:ae,data:ve,it:{opts:Te}},re,ce){return(0,n.or)(...re.map(F=>(0,n.and)(J(ae,ve,F,Te.ownProperties),(0,n._)`${ce} = ${F}`)))}w.checkMissingProp=k;function L(ae,ve){ae.setParams({missingProperty:ve},!0),ae.error()}w.reportMissingProp=L;function M(ae){return ae.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,n._)`Object.prototype.hasOwnProperty`})}w.hasPropFunc=M;function $(ae,ve,Te){return(0,n._)`${M(ae)}.call(${ve}, ${Te})`}w.isOwnProperty=$;function z(ae,ve,Te,re){const ce=(0,n._)`${ve}${(0,n.getProperty)(Te)} !== undefined`;return re?(0,n._)`${ce} && ${$(ae,ve,Te)}`:ce}w.propertyInData=z;function J(ae,ve,Te,re){const ce=(0,n._)`${ve}${(0,n.getProperty)(Te)} === undefined`;return re?(0,n.or)(ce,(0,n.not)($(ae,ve,Te))):ce}w.noPropertyInData=J;function ne(ae){return ae?Object.keys(ae).filter(ve=>ve!=="__proto__"):[]}w.allSchemaProperties=ne;function te(ae,ve){return ne(ve).filter(Te=>!(0,p.alwaysValidSchema)(ae,ve[Te]))}w.schemaProperties=te;function oe({schemaCode:ae,data:ve,it:{gen:Te,topSchemaRef:re,schemaPath:ce,errorPath:F},it:We},xe,Be,Ye){const kt=Ye?(0,n._)`${ae}, ${ve}, ${re}${ce}`:ve,Le=[[I.default.instancePath,(0,n.strConcat)(I.default.instancePath,F)],[I.default.parentData,We.parentData],[I.default.parentDataProperty,We.parentDataProperty],[I.default.rootData,I.default.rootData]];We.opts.dynamicRef&&Le.push([I.default.dynamicAnchors,I.default.dynamicAnchors]);const ut=(0,n._)`${kt}, ${Te.object(...Le)}`;return Be!==n.nil?(0,n._)`${xe}.call(${Be}, ${ut})`:(0,n._)`${xe}(${ut})`}w.callValidateCode=oe;const we=(0,n._)`new RegExp`;function U({gen:ae,it:{opts:ve}},Te){const re=ve.unicodeRegExp?"u":"",{regExp:ce}=ve.code,F=ce(Te,re);return ae.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,n._)`${ce.code==="new RegExp"?we:(0,O.useFunc)(ae,ce)}(${Te}, ${re})`})}w.usePattern=U;function q(ae){const{gen:ve,data:Te,keyword:re,it:ce}=ae,F=ve.name("valid");if(ce.allErrors){const xe=ve.let("valid",!0);return We(()=>ve.assign(xe,!1)),xe}return ve.var(F,!0),We(()=>ve.break()),F;function We(xe){const Be=ve.const("len",(0,n._)`${Te}.length`);ve.forRange("i",0,Be,Ye=>{ae.subschema({keyword:re,dataProp:Ye,dataPropType:p.Type.Num},F),ve.if((0,n.not)(F),xe)})}}w.validateArray=q;function Oe(ae){const{gen:ve,schema:Te,keyword:re,it:ce}=ae;if(!Array.isArray(Te))throw new Error("ajv implementation error");if(Te.some(Be=>(0,p.alwaysValidSchema)(ce,Be))&&!ce.opts.unevaluated)return;const We=ve.let("valid",!1),xe=ve.name("_valid");ve.block(()=>Te.forEach((Be,Ye)=>{const kt=ae.subschema({keyword:re,schemaProp:Ye,compositeRule:!0},xe);ve.assign(We,(0,n._)`${We} || ${xe}`),ae.mergeValidEvaluated(kt,xe)||ve.if((0,n.not)(We))})),ae.result(We,()=>ae.reset(),()=>ae.error(!0))}w.validateUnion=Oe},70076:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const a={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};w.default=a},90394:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(70076),p=a(77350),I=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,p.default];w.default=I},77350:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.callRef=w.getValidate=void 0;const n=a(97566),p=a(13898),I=a(45117),O=a(93239),D=a(19984),k=a(79812),L={keyword:"$ref",schemaType:"string",code(z){const{gen:J,schema:ne,it:te}=z,{baseId:oe,schemaEnv:we,validateName:U,opts:q,self:Oe}=te,{root:ae}=we;if((ne==="#"||ne==="#/")&&oe===ae.baseId)return Te();const ve=D.resolveRef.call(Oe,ae,oe,ne);if(ve===void 0)throw new n.default(te.opts.uriResolver,oe,ne);if(ve instanceof D.SchemaEnv)return re(ve);return ce(ve);function Te(){if(we===ae)return $(z,U,we,we.$async);const F=J.scopeValue("root",{ref:ae});return $(z,(0,I._)`${F}.validate`,ae,ae.$async)}function re(F){const We=M(z,F);$(z,We,F,F.$async)}function ce(F){const We=J.scopeValue("schema",q.code.source===!0?{ref:F,code:(0,I.stringify)(F)}:{ref:F}),xe=J.name("valid"),Be=z.subschema({schema:F,dataTypes:[],schemaPath:I.nil,topSchemaRef:We,errSchemaPath:ne},xe);z.mergeEvaluated(Be),z.ok(xe)}}};function M(z,J){const{gen:ne}=z;return J.validate?ne.scopeValue("validate",{ref:J.validate}):(0,I._)`${ne.scopeValue("wrapper",{ref:J})}.validate`}w.getValidate=M;function $(z,J,ne,te){const{gen:oe,it:we}=z,{allErrors:U,schemaEnv:q,opts:Oe}=we,ae=Oe.passContext?O.default.this:I.nil;te?ve():Te();function ve(){if(!q.$async)throw new Error("async schema referenced by sync schema");const F=oe.let("valid");oe.try(()=>{oe.code((0,I._)`await ${(0,p.callValidateCode)(z,J,ae)}`),ce(J),U||oe.assign(F,!0)},We=>{oe.if((0,I._)`!(${We} instanceof ${we.ValidationError})`,()=>oe.throw(We)),re(We),U||oe.assign(F,!1)}),z.ok(F)}function Te(){z.result((0,p.callValidateCode)(z,J,ae),()=>ce(J),()=>re(J))}function re(F){const We=(0,I._)`${F}.errors`;oe.assign(O.default.vErrors,(0,I._)`${O.default.vErrors} === null ? ${We} : ${O.default.vErrors}.concat(${We})`),oe.assign(O.default.errors,(0,I._)`${O.default.vErrors}.length`)}function ce(F){var We;if(!we.opts.unevaluated)return;const xe=(We=ne==null?void 0:ne.validate)===null||We===void 0?void 0:We.evaluated;if(we.props!==!0)if(xe&&!xe.dynamicProps)xe.props!==void 0&&(we.props=k.mergeEvaluated.props(oe,xe.props,we.props));else{const Be=oe.var("props",(0,I._)`${F}.evaluated.props`);we.props=k.mergeEvaluated.props(oe,Be,we.props,I.Name)}if(we.items!==!0)if(xe&&!xe.dynamicItems)xe.items!==void 0&&(we.items=k.mergeEvaluated.items(oe,xe.items,we.items));else{const Be=oe.var("items",(0,I._)`${F}.evaluated.items`);we.items=k.mergeEvaluated.items(oe,Be,we.items,I.Name)}}}w.callRef=$,w.default=L},72360:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(41720),I=a(19984),O=a(79812),k={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:L,tagName:M}})=>L===p.DiscrError.Tag?`tag "${M}" must be string`:`value of tag "${M}" must be in oneOf`,params:({params:{discrError:L,tag:M,tagName:$}})=>(0,n._)`{error: ${L}, tag: ${$}, tagValue: ${M}}`},code(L){const{gen:M,data:$,schema:z,parentSchema:J,it:ne}=L,{oneOf:te}=J;if(!ne.opts.discriminator)throw new Error("discriminator: requires discriminator option");const oe=z.propertyName;if(typeof oe!="string")throw new Error("discriminator: requires propertyName");if(z.mapping)throw new Error("discriminator: mapping is not supported");if(!te)throw new Error("discriminator: requires oneOf keyword");const we=M.let("valid",!1),U=M.const("tag",(0,n._)`${$}${(0,n.getProperty)(oe)}`);M.if((0,n._)`typeof ${U} == "string"`,()=>q(),()=>L.error(!1,{discrError:p.DiscrError.Tag,tag:U,tagName:oe})),L.ok(we);function q(){const ve=ae();M.if(!1);for(const Te in ve)M.elseIf((0,n._)`${U} === ${Te}`),M.assign(we,Oe(ve[Te]));M.else(),L.error(!1,{discrError:p.DiscrError.Mapping,tag:U,tagName:oe}),M.endIf()}function Oe(ve){const Te=M.name("valid"),re=L.subschema({keyword:"oneOf",schemaProp:ve},Te);return L.mergeEvaluated(re,n.Name),Te}function ae(){var ve;const Te={},re=F(J);let ce=!0;for(let Be=0;Be<te.length;Be++){let Ye=te[Be];Ye!=null&&Ye.$ref&&!(0,O.schemaHasRulesButRef)(Ye,ne.self.RULES)&&(Ye=I.resolveRef.call(ne.self,ne.schemaEnv.root,ne.baseId,Ye==null?void 0:Ye.$ref),Ye instanceof I.SchemaEnv&&(Ye=Ye.schema));const kt=(ve=Ye==null?void 0:Ye.properties)===null||ve===void 0?void 0:ve[oe];if(typeof kt!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${oe}"`);ce=ce&&(re||F(Ye)),We(kt,Be)}if(!ce)throw new Error(`discriminator: "${oe}" must be required`);return Te;function F({required:Be}){return Array.isArray(Be)&&Be.includes(oe)}function We(Be,Ye){if(Be.const)xe(Be.const,Ye);else if(Be.enum)for(const kt of Be.enum)xe(kt,Ye);else throw new Error(`discriminator: "properties/${oe}" must have "const" or "enum"`)}function xe(Be,Ye){if(typeof Be!="string"||Be in Te)throw new Error(`discriminator: "${oe}" values must be unique strings`);Te[Be]=Ye}}}};w.default=k},41720:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.DiscrError=void 0;var a;(function(n){n.Tag="tag",n.Mapping="mapping"})(a=w.DiscrError||(w.DiscrError={}))},6797:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(90394),p=a(80794),I=a(59708),O=a(76481),D=a(43886),k=[n.default,p.default,(0,I.default)(),O.default,D.metadataVocabulary,D.contentVocabulary];w.default=k},9470:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),I={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:O})=>(0,n.str)`must match format "${O}"`,params:({schemaCode:O})=>(0,n._)`{format: ${O}}`},code(O,D){const{gen:k,data:L,$data:M,schema:$,schemaCode:z,it:J}=O,{opts:ne,errSchemaPath:te,schemaEnv:oe,self:we}=J;if(!ne.validateFormats)return;M?U():q();function U(){const Oe=k.scopeValue("formats",{ref:we.formats,code:ne.code.formats}),ae=k.const("fDef",(0,n._)`${Oe}[${z}]`),ve=k.let("fType"),Te=k.let("format");k.if((0,n._)`typeof ${ae} == "object" && !(${ae} instanceof RegExp)`,()=>k.assign(ve,(0,n._)`${ae}.type || "string"`).assign(Te,(0,n._)`${ae}.validate`),()=>k.assign(ve,(0,n._)`"string"`).assign(Te,ae)),O.fail$data((0,n.or)(re(),ce()));function re(){return ne.strictSchema===!1?n.nil:(0,n._)`${z} && !${Te}`}function ce(){const F=oe.$async?(0,n._)`(${ae}.async ? await ${Te}(${L}) : ${Te}(${L}))`:(0,n._)`${Te}(${L})`,We=(0,n._)`(typeof ${Te} == "function" ? ${F} : ${Te}.test(${L}))`;return(0,n._)`${Te} && ${Te} !== true && ${ve} === ${D} && !${We}`}}function q(){const Oe=we.formats[$];if(!Oe){re();return}if(Oe===!0)return;const[ae,ve,Te]=ce(Oe);ae===D&&O.pass(F());function re(){if(ne.strictSchema===!1){we.logger.warn(We());return}throw new Error(We());function We(){return`unknown format "${$}" ignored in schema at path "${te}"`}}function ce(We){const xe=We instanceof RegExp?(0,n.regexpCode)(We):ne.code.formats?(0,n._)`${ne.code.formats}${(0,n.getProperty)($)}`:void 0,Be=k.scopeValue("formats",{key:$,ref:We,code:xe});return typeof We=="object"&&!(We instanceof RegExp)?[We.type||"string",We.validate,(0,n._)`${Be}.validate`]:["string",We,Be]}function F(){if(typeof Oe=="object"&&!(Oe instanceof RegExp)&&Oe.async){if(!oe.$async)throw new Error("async format in sync schema");return(0,n._)`await ${Te}(${L})`}return typeof ve=="function"?(0,n._)`${Te}(${L})`:(0,n._)`${Te}.test(${L})`}}}};w.default=I},76481:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const p=[a(9470).default];w.default=p},43886:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.contentVocabulary=w.metadataVocabulary=void 0,w.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],w.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},78917:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),I=a(64629),D={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:k})=>(0,n._)`{allowedValue: ${k}}`},code(k){const{gen:L,data:M,$data:$,schemaCode:z,schema:J}=k;$||J&&typeof J=="object"?k.fail$data((0,n._)`!${(0,p.useFunc)(L,I.default)}(${M}, ${z})`):k.fail((0,n._)`${J} !== ${M}`)}};w.default=D},28328:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),I=a(64629),D={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:k})=>(0,n._)`{allowedValues: ${k}}`},code(k){const{gen:L,data:M,$data:$,schema:z,schemaCode:J,it:ne}=k;if(!$&&z.length===0)throw new Error("enum must have non-empty array");const te=z.length>=ne.opts.loopEnum;let oe;const we=()=>oe!=null?oe:oe=(0,p.useFunc)(L,I.default);let U;if(te||$)U=L.let("valid"),k.block$data(U,q);else{if(!Array.isArray(z))throw new Error("ajv implementation error");const ae=L.const("vSchema",J);U=(0,n.or)(...z.map((ve,Te)=>Oe(ae,Te)))}k.pass(U);function q(){L.assign(U,!1),L.forOf("v",J,ae=>L.if((0,n._)`${we()}(${M}, ${ae})`,()=>L.assign(U,!0).break()))}function Oe(ae,ve){const Te=z[ve];return typeof Te=="object"&&Te!==null?(0,n._)`${we()}(${M}, ${ae}[${ve}])`:(0,n._)`${M} === ${Te}`}}};w.default=D},80794:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(59135),p=a(71878),I=a(84008),O=a(98736),D=a(33789),k=a(86778),L=a(50524),M=a(44592),$=a(78917),z=a(28328),J=[n.default,p.default,I.default,O.default,D.default,k.default,L.default,M.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$.default,z.default];w.default=J},50524:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),I={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:D}){const k=O==="maxItems"?"more":"fewer";return(0,n.str)`must NOT have ${k} than ${D} items`},params:({schemaCode:O})=>(0,n._)`{limit: ${O}}`},code(O){const{keyword:D,data:k,schemaCode:L}=O,M=D==="maxItems"?n.operators.GT:n.operators.LT;O.fail$data((0,n._)`${k}.length ${M} ${L}`)}};w.default=I},84008:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=a(79812),I=a(72496),D={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:k,schemaCode:L}){const M=k==="maxLength"?"more":"fewer";return(0,n.str)`must NOT have ${M} than ${L} characters`},params:({schemaCode:k})=>(0,n._)`{limit: ${k}}`},code(k){const{keyword:L,data:M,schemaCode:$,it:z}=k,J=L==="maxLength"?n.operators.GT:n.operators.LT,ne=z.opts.unicode===!1?(0,n._)`${M}.length`:(0,n._)`${(0,p.useFunc)(k.gen,I.default)}(${M})`;k.fail$data((0,n._)`${ne} ${J} ${$}`)}};w.default=D},59135:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),p=n.operators,I={maximum:{okStr:"<=",ok:p.LTE,fail:p.GT},minimum:{okStr:">=",ok:p.GTE,fail:p.LT},exclusiveMaximum:{okStr:"<",ok:p.LT,fail:p.GTE},exclusiveMinimum:{okStr:">",ok:p.GT,fail:p.LTE}},O={message:({keyword:k,schemaCode:L})=>(0,n.str)`must be ${I[k].okStr} ${L}`,params:({keyword:k,schemaCode:L})=>(0,n._)`{comparison: ${I[k].okStr}, limit: ${L}}`},D={keyword:Object.keys(I),type:"number",schemaType:"number",$data:!0,error:O,code(k){const{keyword:L,data:M,schemaCode:$}=k;k.fail$data((0,n._)`${M} ${I[L].fail} ${$} || isNaN(${M})`)}};w.default=D},33789:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),I={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:O,schemaCode:D}){const k=O==="maxProperties"?"more":"fewer";return(0,n.str)`must NOT have ${k} than ${D} properties`},params:({schemaCode:O})=>(0,n._)`{limit: ${O}}`},code(O){const{keyword:D,data:k,schemaCode:L}=O,M=D==="maxProperties"?n.operators.GT:n.operators.LT;O.fail$data((0,n._)`Object.keys(${k}).length ${M} ${L}`)}};w.default=I},71878:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(45117),I={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>(0,n.str)`must be multiple of ${O}`,params:({schemaCode:O})=>(0,n._)`{multipleOf: ${O}}`},code(O){const{gen:D,data:k,schemaCode:L,it:M}=O,$=M.opts.multipleOfPrecision,z=D.let("res"),J=$?(0,n._)`Math.abs(Math.round(${z}) - ${z}) > 1e-${$}`:(0,n._)`${z} !== parseInt(${z})`;O.fail$data((0,n._)`(${L} === 0 || (${z} = ${k}/${L}, ${J}))`)}};w.default=I},98736:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(13898),p=a(45117),O={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:D})=>(0,p.str)`must match pattern "${D}"`,params:({schemaCode:D})=>(0,p._)`{pattern: ${D}}`},code(D){const{data:k,$data:L,schema:M,schemaCode:$,it:z}=D,J=z.opts.unicodeRegExp?"u":"",ne=L?(0,p._)`(new RegExp(${$}, ${J}))`:(0,n.usePattern)(D,M);D.fail$data((0,p._)`!${ne}.test(${k})`)}};w.default=O},86778:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(13898),p=a(45117),I=a(79812),D={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:k}})=>(0,p.str)`must have required property '${k}'`,params:({params:{missingProperty:k}})=>(0,p._)`{missingProperty: ${k}}`},code(k){const{gen:L,schema:M,schemaCode:$,data:z,$data:J,it:ne}=k,{opts:te}=ne;if(!J&&M.length===0)return;const oe=M.length>=te.loopRequired;if(ne.allErrors?we():U(),te.strictRequired){const ae=k.parentSchema.properties,{definedProperties:ve}=k.it;for(const Te of M)if((ae==null?void 0:ae[Te])===void 0&&!ve.has(Te)){const re=ne.schemaEnv.baseId+ne.errSchemaPath,ce=`required property "${Te}" is not defined at "${re}" (strictRequired)`;(0,I.checkStrictMode)(ne,ce,ne.opts.strictRequired)}}function we(){if(oe||J)k.block$data(p.nil,q);else for(const ae of M)(0,n.checkReportMissingProp)(k,ae)}function U(){const ae=L.let("missing");if(oe||J){const ve=L.let("valid",!0);k.block$data(ve,()=>Oe(ae,ve)),k.ok(ve)}else L.if((0,n.checkMissingProp)(k,M,ae)),(0,n.reportMissingProp)(k,ae),L.else()}function q(){L.forOf("prop",$,ae=>{k.setParams({missingProperty:ae}),L.if((0,n.noPropertyInData)(L,z,ae,te.ownProperties),()=>k.error())})}function Oe(ae,ve){k.setParams({missingProperty:ae}),L.forOf(ae,$,()=>{L.assign(ve,(0,n.propertyInData)(L,z,ae,te.ownProperties)),L.if((0,p.not)(ve),()=>{k.error(),L.break()})},p.nil)}}};w.default=D},44592:function(_e,w,a){"use strict";Object.defineProperty(w,"__esModule",{value:!0});const n=a(51549),p=a(45117),I=a(79812),O=a(64629),k={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:L,j:M}})=>(0,p.str)`must NOT have duplicate items (items ## ${M} and ${L} are identical)`,params:({params:{i:L,j:M}})=>(0,p._)`{i: ${L}, j: ${M}}`},code(L){const{gen:M,data:$,$data:z,schema:J,parentSchema:ne,schemaCode:te,it:oe}=L;if(!z&&!J)return;const we=M.let("valid"),U=ne.items?(0,n.getSchemaTypes)(ne.items):[];L.block$data(we,q,(0,p._)`${te} === false`),L.ok(we);function q(){const Te=M.let("i",(0,p._)`${$}.length`),re=M.let("j");L.setParams({i:Te,j:re}),M.assign(we,!0),M.if((0,p._)`${Te} > 1`,()=>(Oe()?ae:ve)(Te,re))}function Oe(){return U.length>0&&!U.some(Te=>Te==="object"||Te==="array")}function ae(Te,re){const ce=M.name("item"),F=(0,n.checkDataTypes)(U,ce,oe.opts.strictNumbers,n.DataType.Wrong),We=M.const("indices",(0,p._)`{}`);M.for((0,p._)`;${Te}--;`,()=>{M.let(ce,(0,p._)`${$}[${Te}]`),M.if(F,(0,p._)`continue`),U.length>1&&M.if((0,p._)`typeof ${ce} == "string"`,(0,p._)`${ce} += "_"`),M.if((0,p._)`typeof ${We}[${ce}] == "number"`,()=>{M.assign(re,(0,p._)`${We}[${ce}]`),L.error(),M.assign(we,!1).break()}).code((0,p._)`${We}[${ce}] = ${Te}`)})}function ve(Te,re){const ce=(0,I.useFunc)(M,O.default),F=M.name("outer");M.label(F).for((0,p._)`;${Te}--;`,()=>M.for((0,p._)`${re} = ${Te}; ${re}--;`,()=>M.if((0,p._)`${ce}(${$}[${Te}], ${$}[${re}])`,()=>{L.error(),M.assign(we,!1).break(F)})))}}};w.default=k},67142:function(_e){(function(w,a){_e.exports=a()})(typeof self!="undefined"?self:this,()=>(()=>{"use strict";var w={d:(xe,Be)=>{for(var Ye in Be)w.o(Be,Ye)&&!w.o(xe,Ye)&&Object.defineProperty(xe,Ye,{enumerable:!0,get:Be[Ye]})},o:(xe,Be)=>Object.prototype.hasOwnProperty.call(xe,Be),r:xe=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(xe,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(xe,"__esModule",{value:!0})}},a={};function n(xe){return xe==="#"||xe===""||Array.isArray(xe)&&xe.length===0||!1}w.r(a),w.d(a,{default:()=>We,get:()=>$,isRoot:()=>n,join:()=>ce,remove:()=>Oe,removeUndefinedItems:()=>q,set:()=>oe,split:()=>M,splitLast:()=>F});const p=/~1/g,I=/~0/g,O=/\/+/g,D=/(^[#/]*|\/+$)/g;function k(xe){return xe.replace(p,"/").replace(I,"~")}function L(xe){return k(decodeURIComponent(xe))}function M(xe){if(xe==null||typeof xe!="string"||n(xe))return Array.isArray(xe)?xe:[];const Be=xe.indexOf("#")>=0?L:k,Ye=(xe=(xe=xe.replace(O,"/")).replace(D,"")).split("/");for(let kt=0,Le=Ye.length;kt<Le;kt+=1)Ye[kt]=Be(Ye[kt]);return Ye}function $(xe,Be,Ye){if(Be==null||xe==null)return Ye;if(n(Be))return xe;const kt=z(xe,M(Be));return kt===void 0?Ye:kt}function z(xe,Be){const Ye=Be.shift();if(xe!==void 0)return Ye!==void 0?z(xe[Ye],Be):xe}const J=/^\[.*\]$/,ne=/^\[(.+)\]$/;function te(xe,Be){return xe==="__proto__"||xe=="constructor"&&Be.length>0&&Be[0]=="prototype"}function oe(xe,Be,Ye){if(Be==null)return xe;const kt=M(Be);if(kt.length===0)return xe;xe==null&&(xe=J.test(kt[0])?[]:{});let Le,ut,gt=xe;for(;kt.length>1;)Le=kt.shift(),ut=J.test(kt[0]),te(Le,kt)||(gt=U(gt,Le,ut));return Le=kt.pop(),we(gt,Le,Ye),xe}function we(xe,Be,Ye){let kt;const Le=Be.match(ne);Be==="[]"&&Array.isArray(xe)?xe.push(Ye):Le?(kt=Le.pop(),xe[kt]=Ye):xe[Be]=Ye}function U(xe,Be,Ye){if(xe[Be]!=null)return xe[Be];const kt=Ye?[]:{};return we(xe,Be,kt),kt}function q(xe){let Be=0,Ye=0;for(;Be+Ye<xe.length;)xe[Be+Ye]===void 0&&(Ye+=1),xe[Be]=xe[Be+Ye],Be+=1;return xe.length=xe.length-Ye,xe}function Oe(xe,Be,Ye){const kt=M(Be),Le=kt.pop(),ut=$(xe,kt);return ut&&delete ut[Le],Array.isArray(ut)&&Ye!==!0&&q(ut),xe}const ae=/\/+/g,ve=/~/g,Te=/\//g;function re(xe,Be){if(xe.length===0)return Be?"#":"";for(let Ye=0,kt=xe.length;Ye<kt;Ye+=1)xe[Ye]=xe[Ye].replace(ve,"~0").replace(Te,"~1"),Be&&(xe[Ye]=encodeURIComponent(xe[Ye]));return((Be?"#/":"/")+xe.join("/")).replace(ae,"/")}function ce(xe,...Be){const Ye=[];if(Array.isArray(xe))return re(xe,arguments[1]===!0);const kt=arguments[arguments.length-1],Le=typeof kt=="boolean"?kt:xe&&xe[0]==="#";for(let gt=0,Ut=arguments.length;gt<Ut;gt+=1)Ye.push.apply(Ye,M(arguments[gt]));const ut=[];for(let gt=0,Ut=Ye.length;gt<Ut;gt+=1)if(Ye[gt]===".."){if(ut.length===0)return Le?"#":"";ut.pop()}else ut.push(Ye[gt]);return re(ut,Le)}function F(xe){const Be=M(xe);if(Be.length===0)return typeof xe=="string"&&xe[0]==="#"?["#",Be[0]]:["",void 0];if(Be.length===1)return xe[0]==="#"?["#",Be[0]]:["",Be[0]];const Ye=Be.pop();return[ce(Be,xe[0]==="#"),Ye]}const We={get:$,set:oe,remove:Oe,join:ce,split:M,splitLast:F,isRoot:n,removeUndefinedItems:q};return a})())},31060:function(_e,w,a){"use strict";a.d(w,{ZP:function(){return Al}});var n=a(7896),p=a(31461),I=a(2784),O=a(1727),D=a(65329),k=a(77120),L=a(21649);const M=f=>{let{state:i}=f,m=i.doc.lineAt(i.selection.main.from),b=q(f.state,m.from);return b.line?z(f):b.block?U(f):!1};function $(f,i){return({state:m,dispatch:b})=>{if(m.readOnly)return!1;let A=f(i,m);return A?(b(m.update(A)),!0):!1}}const z=$(re,0),J=null,ne=null,te=$(Te,0),oe=null,we=null,U=$((f,i)=>Te(f,i,ve(i)),0);function q(f,i){let m=f.languageDataAt("commentTokens",i);return m.length?m[0]:{}}const Oe=50;function ae(f,{open:i,close:m},b,A){let B=f.sliceDoc(b-Oe,b),se=f.sliceDoc(A,A+Oe),Ce=/\s*$/.exec(B)[0].length,$e=/^\s*/.exec(se)[0].length,yt=B.length-Ce;if(B.slice(yt-i.length,yt)==i&&se.slice($e,$e+m.length)==m)return{open:{pos:b-Ce,margin:Ce&&1},close:{pos:A+$e,margin:$e&&1}};let _t,sr;A-b<=2*Oe?_t=sr=f.sliceDoc(b,A):(_t=f.sliceDoc(b,b+Oe),sr=f.sliceDoc(A-Oe,A));let on=/^\s*/.exec(_t)[0].length,In=/\s*$/.exec(sr)[0].length,Li=sr.length-In-m.length;return _t.slice(on,on+i.length)==i&&sr.slice(Li,Li+m.length)==m?{open:{pos:b+on+i.length,margin:/\s/.test(_t.charAt(on+i.length))?1:0},close:{pos:A-In-m.length,margin:/\s/.test(sr.charAt(Li-1))?1:0}}:null}function ve(f){let i=[];for(let m of f.selection.ranges){let b=f.doc.lineAt(m.from),A=m.to<=b.to?b:f.doc.lineAt(m.to),B=i.length-1;B>=0&&i[B].to>b.from?i[B].to=A.to:i.push({from:b.from+/^\s*/.exec(b.text)[0].length,to:A.to})}return i}function Te(f,i,m=i.selection.ranges){let b=m.map(B=>q(i,B.from).block);if(!b.every(B=>B))return null;let A=m.map((B,se)=>ae(i,b[se],B.from,B.to));if(f!=2&&!A.every(B=>B))return{changes:i.changes(m.map((B,se)=>A[se]?[]:[{from:B.from,insert:b[se].open+" "},{from:B.to,insert:" "+b[se].close}]))};if(f!=1&&A.some(B=>B)){let B=[];for(let se=0,Ce;se<A.length;se++)if(Ce=A[se]){let $e=b[se],{open:yt,close:_t}=Ce;B.push({from:yt.pos-$e.open.length,to:yt.pos+yt.margin},{from:_t.pos-_t.margin,to:_t.pos+$e.close.length})}return{changes:B}}return null}function re(f,i,m=i.selection.ranges){let b=[],A=-1;for(let{from:B,to:se}of m){let Ce=b.length,$e=1e9,yt=q(i,B).line;if(yt){for(let _t=B;_t<=se;){let sr=i.doc.lineAt(_t);if(sr.from>A&&(B==se||se>sr.from)){A=sr.from;let on=/^\s*/.exec(sr.text)[0].length,In=on==sr.length,Li=sr.text.slice(on,on+yt.length)==yt?on:-1;on<sr.text.length&&on<$e&&($e=on),b.push({line:sr,comment:Li,token:yt,indent:on,empty:In,single:!1})}_t=sr.to+1}if($e<1e9)for(let _t=Ce;_t<b.length;_t++)b[_t].indent<b[_t].line.text.length&&(b[_t].indent=$e);b.length==Ce+1&&(b[Ce].single=!0)}}if(f!=2&&b.some(B=>B.comment<0&&(!B.empty||B.single))){let B=[];for(let{line:Ce,token:$e,indent:yt,empty:_t,single:sr}of b)(sr||!_t)&&B.push({from:Ce.from+yt,insert:$e+" "});let se=i.changes(B);return{changes:se,selection:i.selection.map(se,1)}}else if(f!=1&&b.some(B=>B.comment>=0)){let B=[];for(let{line:se,comment:Ce,token:$e}of b)if(Ce>=0){let yt=se.from+Ce,_t=yt+$e.length;se.text[_t-se.from]==" "&&_t++,B.push({from:yt,to:_t})}return{changes:B}}return null}const ce=O.q6.define(),F=O.q6.define(),We=O.r$.define(),xe=O.r$.define({combine(f){return(0,O.BO)(f,{minDepth:100,newGroupDelay:500,joinToEvent:(i,m)=>m},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(i,m)=>(b,A)=>i(b,A)||m(b,A)})}});function Be(f){let i=0;return f.iterChangedRanges((m,b)=>i=b),i}const Ye=O.QQ.define({create(){return ke.empty},update(f,i){let m=i.state.facet(xe),b=i.annotation(ce);if(b){let $e=i.docChanged?O.jT.single(Be(i.changes)):void 0,yt=ot.fromTransaction(i,$e),_t=b.side,sr=_t==0?f.undone:f.done;return yt?sr=fe(sr,sr.length,m.minDepth,yt):sr=ze(sr,i.startState.selection),new ke(_t==0?b.rest:sr,_t==0?sr:b.rest)}let A=i.annotation(F);if((A=="full"||A=="before")&&(f=f.isolate()),i.annotation(O.YW.addToHistory)===!1)return i.changes.empty?f:f.addMapping(i.changes.desc);let B=ot.fromTransaction(i),se=i.annotation(O.YW.time),Ce=i.annotation(O.YW.userEvent);return B?f=f.addChanges(B,se,Ce,m,i):i.selection&&(f=f.addSelection(i.startState.selection,se,Ce,m.newGroupDelay)),(A=="full"||A=="after")&&(f=f.isolate()),f},toJSON(f){return{done:f.done.map(i=>i.toJSON()),undone:f.undone.map(i=>i.toJSON())}},fromJSON(f){return new ke(f.done.map(ot.fromJSON),f.undone.map(ot.fromJSON))}});function kt(f={}){return[Ye,xe.of(f),D.tk.domEventHandlers({beforeinput(i,m){let b=i.inputType=="historyUndo"?gt:i.inputType=="historyRedo"?Ut:null;return b?(i.preventDefault(),b(m)):!1}})]}const Le=null;function ut(f,i){return function({state:m,dispatch:b}){if(!i&&m.readOnly)return!1;let A=m.field(Ye,!1);if(!A)return!1;let B=A.pop(f,m,i);return B?(b(B),!0):!1}}const gt=ut(0,!1),Ut=ut(1,!1),wt=ut(0,!0),Ot=ut(1,!0);function pt(f){return function(i){let m=i.field(Ye,!1);if(!m)return 0;let b=f==0?m.done:m.undone;return b.length-(b.length&&!b[0].changes?1:0)}}const Ne=null,bt=null;class ot{constructor(i,m,b,A,B){this.changes=i,this.effects=m,this.mapped=b,this.startSelection=A,this.selectionsAfter=B}setSelAfter(i){return new ot(this.changes,this.effects,this.mapped,this.startSelection,i)}toJSON(){var i,m,b;return{changes:(i=this.changes)===null||i===void 0?void 0:i.toJSON(),mapped:(m=this.mapped)===null||m===void 0?void 0:m.toJSON(),startSelection:(b=this.startSelection)===null||b===void 0?void 0:b.toJSON(),selectionsAfter:this.selectionsAfter.map(A=>A.toJSON())}}static fromJSON(i){return new ot(i.changes&&O.as.fromJSON(i.changes),[],i.mapped&&O.n0.fromJSON(i.mapped),i.startSelection&&O.jT.fromJSON(i.startSelection),i.selectionsAfter.map(O.jT.fromJSON))}static fromTransaction(i,m){let b=er;for(let A of i.startState.facet(We)){let B=A(i);B.length&&(b=b.concat(B))}return!b.length&&i.changes.empty?null:new ot(i.changes.invert(i.startState.doc),b,void 0,m||i.startState.selection,er)}static selection(i){return new ot(void 0,er,void 0,void 0,i)}}function fe(f,i,m,b){let A=i+1>m+20?i-m-1:0,B=f.slice(A,i);return B.push(b),B}function Re(f,i){let m=[],b=!1;return f.iterChangedRanges((A,B)=>m.push(A,B)),i.iterChangedRanges((A,B,se,Ce)=>{for(let $e=0;$e<m.length;){let yt=m[$e++],_t=m[$e++];Ce>=yt&&se<=_t&&(b=!0)}}),b}function ct(f,i){return f.ranges.length==i.ranges.length&&f.ranges.filter((m,b)=>m.empty!=i.ranges[b].empty).length===0}function $t(f,i){return f.length?i.length?f.concat(i):f:i}const er=[],Cr=200;function ze(f,i){if(f.length){let m=f[f.length-1],b=m.selectionsAfter.slice(Math.max(0,m.selectionsAfter.length-Cr));return b.length&&b[b.length-1].eq(i)?f:(b.push(i),fe(f,f.length-1,1e9,m.setSelAfter(b)))}else return[ot.selection([i])]}function K(f){let i=f[f.length-1],m=f.slice();return m[f.length-1]=i.setSelAfter(i.selectionsAfter.slice(0,i.selectionsAfter.length-1)),m}function Z(f,i){if(!f.length)return f;let m=f.length,b=er;for(;m;){let A=Q(f[m-1],i,b);if(A.changes&&!A.changes.empty||A.effects.length){let B=f.slice(0,m);return B[m-1]=A,B}else i=A.mapped,m--,b=A.selectionsAfter}return b.length?[ot.selection(b)]:er}function Q(f,i,m){let b=$t(f.selectionsAfter.length?f.selectionsAfter.map(Ce=>Ce.map(i)):er,m);if(!f.changes)return ot.selection(b);let A=f.changes.map(i),B=i.mapDesc(f.changes,!0),se=f.mapped?f.mapped.composeDesc(B):B;return new ot(A,O.Py.mapEffects(f.effects,i),se,f.startSelection.map(B),b)}const pe=/^(input\.type|delete)($|\.)/;class ke{constructor(i,m,b=0,A=void 0){this.done=i,this.undone=m,this.prevTime=b,this.prevUserEvent=A}isolate(){return this.prevTime?new ke(this.done,this.undone):this}addChanges(i,m,b,A,B){let se=this.done,Ce=se[se.length-1];return Ce&&Ce.changes&&!Ce.changes.empty&&i.changes&&(!b||pe.test(b))&&(!Ce.selectionsAfter.length&&m-this.prevTime<A.newGroupDelay&&A.joinToEvent(B,Re(Ce.changes,i.changes))||b=="input.type.compose")?se=fe(se,se.length-1,A.minDepth,new ot(i.changes.compose(Ce.changes),$t(i.effects,Ce.effects),Ce.mapped,Ce.startSelection,er)):se=fe(se,se.length,A.minDepth,i),new ke(se,er,m,b)}addSelection(i,m,b,A){let B=this.done.length?this.done[this.done.length-1].selectionsAfter:er;return B.length>0&&m-this.prevTime<A&&b==this.prevUserEvent&&b&&/^select($|\.)/.test(b)&&ct(B[B.length-1],i)?this:new ke(ze(this.done,i),this.undone,m,b)}addMapping(i){return new ke(Z(this.done,i),Z(this.undone,i),this.prevTime,this.prevUserEvent)}pop(i,m,b){let A=i==0?this.done:this.undone;if(A.length==0)return null;let B=A[A.length-1];if(b&&B.selectionsAfter.length)return m.update({selection:B.selectionsAfter[B.selectionsAfter.length-1],annotations:ce.of({side:i,rest:K(A)}),userEvent:i==0?"select.undo":"select.redo",scrollIntoView:!0});if(B.changes){let se=A.length==1?er:A.slice(0,A.length-1);return B.mapped&&(se=Z(se,B.mapped)),m.update({changes:B.changes,selection:B.startSelection,effects:B.effects,annotations:ce.of({side:i,rest:se}),filter:!1,userEvent:i==0?"undo":"redo",scrollIntoView:!0})}else return null}}ke.empty=new ke(er,er);const tt=[{key:"Mod-z",run:gt,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ut,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ut,preventDefault:!0},{key:"Mod-u",run:wt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ot,preventDefault:!0}];function Ke(f,i){return O.jT.create(f.ranges.map(i),f.mainIndex)}function jt(f,i){return f.update({selection:i,scrollIntoView:!0,userEvent:"select"})}function lr({state:f,dispatch:i},m){let b=Ke(f.selection,m);return b.eq(f.selection)?!1:(i(jt(f,b)),!0)}function Jt(f,i){return O.jT.cursor(i?f.to:f.from)}function Yt(f,i){return lr(f,m=>m.empty?f.moveByChar(m,i):Jt(m,i))}function Qt(f){return f.textDirectionAt(f.state.selection.main.head)==D.Nm.LTR}const nt=f=>Yt(f,!Qt(f)),Tt=f=>Yt(f,Qt(f)),Vt=f=>Yt(f,!0),yr=f=>Yt(f,!1);function _r(f,i){return lr(f,m=>m.empty?f.moveByGroup(m,i):Jt(m,i))}const wr=f=>_r(f,!Qt(f)),vr=f=>_r(f,Qt(f)),Ft=f=>_r(f,!0),Kr=f=>_r(f,!1);function Or(f,i,m){let b=f.state.charCategorizer(i.from);return f.moveByChar(i,m,A=>{let B=CharCategory.Space,se=i.from,Ce=!1,$e=!1,yt=!1,_t=sr=>{if(Ce)return!1;se+=m?sr.length:-sr.length;let on=b(sr),In;if(on==CharCategory.Word&&sr.charCodeAt(0)<128&&/[\W_]/.test(sr)&&(on=-1),B==CharCategory.Space&&(B=on),B!=on)return!1;if(B==CharCategory.Word)if(sr.toLowerCase()==sr){if(!m&&$e)return!1;yt=!0}else if(yt){if(m)return!1;Ce=!0}else{if($e&&m&&b(In=f.state.sliceDoc(se,se+1))==CharCategory.Word&&In.toLowerCase()==In)return!1;$e=!0}return!0};return _t(A),_t})}function Nr(f,i){return lr(f,m=>m.empty?Or(f,m,i):Jt(m,i))}const Dr=f=>Nr(f,!0),Gr=f=>Nr(f,!1);function Yr(f,i,m){if(i.type.prop(m))return!0;let b=i.to-i.from;return b&&(b>2||/[^\s,.;:]/.test(f.sliceDoc(i.from,i.to)))||i.firstChild}function hr(f,i,m){let b=(0,k.qz)(f).resolveInner(i.head),A=m?L.md.closedBy:L.md.openedBy;for(let $e=i.head;;){let yt=m?b.childAfter($e):b.childBefore($e);if(!yt)break;Yr(f,yt,A)?b=yt:$e=m?yt.to:yt.from}let B=b.type.prop(A),se,Ce;return B&&(se=m?(0,k.Um)(f,b.from,1):(0,k.Um)(f,b.to,-1))&&se.matched?Ce=m?se.end.to:se.end.from:Ce=m?b.to:b.from,O.jT.cursor(Ce,m?-1:1)}const Ie=f=>lr(f,i=>hr(f.state,i,!Qt(f))),Gt=f=>lr(f,i=>hr(f.state,i,Qt(f)));function ur(f,i){return lr(f,m=>{if(!m.empty)return Jt(m,i);let b=f.moveVertically(m,i);return b.head!=m.head?b:f.moveToLineBoundary(m,i)})}const dr=f=>ur(f,!1),Wr=f=>ur(f,!0);function jr(f){let i=f.scrollDOM.clientHeight<f.scrollDOM.scrollHeight-2,m=0,b=0,A;if(i){for(let B of f.state.facet(D.tk.scrollMargins)){let se=B(f);se!=null&&se.top&&(m=Math.max(se==null?void 0:se.top,m)),se!=null&&se.bottom&&(b=Math.max(se==null?void 0:se.bottom,b))}A=f.scrollDOM.clientHeight-m-b}else A=(f.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:m,marginBottom:b,selfScroll:i,height:Math.max(f.defaultLineHeight,A-5)}}function Pr(f,i){let m=jr(f),{state:b}=f,A=Ke(b.selection,se=>se.empty?f.moveVertically(se,i,m.height):Jt(se,i));if(A.eq(b.selection))return!1;let B;if(m.selfScroll){let se=f.coordsAtPos(b.selection.main.head),Ce=f.scrollDOM.getBoundingClientRect(),$e=Ce.top+m.marginTop,yt=Ce.bottom-m.marginBottom;se&&se.top>$e&&se.bottom<yt&&(B=D.tk.scrollIntoView(A.main.head,{y:"start",yMargin:se.top-$e}))}return f.dispatch(jt(b,A),{effects:B}),!0}const Zr=f=>Pr(f,!1),Ar=f=>Pr(f,!0);function Lr(f,i,m){let b=f.lineBlockAt(i.head),A=f.moveToLineBoundary(i,m);if(A.head==i.head&&A.head!=(m?b.to:b.from)&&(A=f.moveToLineBoundary(i,m,!1)),!m&&A.head==b.from&&b.length){let B=/^\s*/.exec(f.state.sliceDoc(b.from,Math.min(b.from+100,b.to)))[0].length;B&&i.head!=b.from+B&&(A=O.jT.cursor(b.from+B))}return A}const qr=f=>lr(f,i=>Lr(f,i,!0)),mn=f=>lr(f,i=>Lr(f,i,!1)),Ur=f=>lr(f,i=>Lr(f,i,!Qt(f))),pn=f=>lr(f,i=>Lr(f,i,Qt(f))),bn=f=>lr(f,i=>O.jT.cursor(f.lineBlockAt(i.head).from,1)),wn=f=>lr(f,i=>O.jT.cursor(f.lineBlockAt(i.head).to,-1));function Xr(f,i,m){let b=!1,A=Ke(f.selection,B=>{let se=(0,k.Um)(f,B.head,-1)||(0,k.Um)(f,B.head,1)||B.head>0&&(0,k.Um)(f,B.head-1,1)||B.head<f.doc.length&&(0,k.Um)(f,B.head+1,-1);if(!se||!se.end)return B;b=!0;let Ce=se.start.from==B.head?se.end.to:se.end.from;return m?O.jT.range(B.anchor,Ce):O.jT.cursor(Ce)});return b?(i(jt(f,A)),!0):!1}const fn=({state:f,dispatch:i})=>Xr(f,i,!1),On=({state:f,dispatch:i})=>Xr(f,i,!0);function nn(f,i){let m=Ke(f.state.selection,b=>{let A=i(b);return O.jT.range(b.anchor,A.head,A.goalColumn,A.bidiLevel||void 0)});return m.eq(f.state.selection)?!1:(f.dispatch(jt(f.state,m)),!0)}function Tn(f,i){return nn(f,m=>f.moveByChar(m,i))}const Sn=f=>Tn(f,!Qt(f)),sn=f=>Tn(f,Qt(f)),un=f=>Tn(f,!0),ni=f=>Tn(f,!1);function hi(f,i){return nn(f,m=>f.moveByGroup(m,i))}const Bi=f=>hi(f,!Qt(f)),Pe=f=>hi(f,Qt(f)),y=f=>hi(f,!0),T=f=>hi(f,!1);function V(f,i){return nn(f,m=>Or(f,m,i))}const ee=f=>V(f,!0),Ee=f=>V(f,!1),Se=f=>nn(f,i=>hr(f.state,i,!Qt(f))),He=f=>nn(f,i=>hr(f.state,i,Qt(f)));function Je(f,i){return nn(f,m=>f.moveVertically(m,i))}const Ct=f=>Je(f,!1),Lt=f=>Je(f,!0);function It(f,i){return nn(f,m=>f.moveVertically(m,i,jr(f).height))}const kr=f=>It(f,!1),Sr=f=>It(f,!0),kn=f=>nn(f,i=>Lr(f,i,!0)),ci=f=>nn(f,i=>Lr(f,i,!1)),Fn=f=>nn(f,i=>Lr(f,i,!Qt(f))),Oi=f=>nn(f,i=>Lr(f,i,Qt(f))),vi=f=>nn(f,i=>O.jT.cursor(f.lineBlockAt(i.head).from)),Go=f=>nn(f,i=>O.jT.cursor(f.lineBlockAt(i.head).to)),Vi=({state:f,dispatch:i})=>(i(jt(f,{anchor:0})),!0),Qi=({state:f,dispatch:i})=>(i(jt(f,{anchor:f.doc.length})),!0),Yn=({state:f,dispatch:i})=>(i(jt(f,{anchor:f.selection.main.anchor,head:0})),!0),Mn=({state:f,dispatch:i})=>(i(jt(f,{anchor:f.selection.main.anchor,head:f.doc.length})),!0),Ki=({state:f,dispatch:i})=>(i(f.update({selection:{anchor:0,head:f.doc.length},userEvent:"select"})),!0),No=({state:f,dispatch:i})=>{let m=Ri(f).map(({from:b,to:A})=>O.jT.range(b,Math.min(A+1,f.doc.length)));return i(f.update({selection:O.jT.create(m),userEvent:"select"})),!0},tr=({state:f,dispatch:i})=>{let m=Ke(f.selection,b=>{var A;let B=(0,k.qz)(f).resolveInner(b.head,1);for(;!(B.from<b.from&&B.to>=b.to||B.to>b.to&&B.from<=b.from||!(!((A=B.parent)===null||A===void 0)&&A.parent));)B=B.parent;return O.jT.range(B.to,B.from)});return i(jt(f,m)),!0},ge=({state:f,dispatch:i})=>{let m=f.selection,b=null;return m.ranges.length>1?b=O.jT.create([m.main]):m.main.empty||(b=O.jT.create([O.jT.cursor(m.main.head)])),b?(i(jt(f,b)),!0):!1};function R(f,i){if(f.state.readOnly)return!1;let m="delete.selection",{state:b}=f,A=b.changeByRange(B=>{let{from:se,to:Ce}=B;if(se==Ce){let $e=i(se);$e<se?(m="delete.backward",$e=Y(f,$e,!1)):$e>se&&(m="delete.forward",$e=Y(f,$e,!0)),se=Math.min(se,$e),Ce=Math.max(Ce,$e)}else se=Y(f,se,!1),Ce=Y(f,Ce,!0);return se==Ce?{range:B}:{changes:{from:se,to:Ce},range:O.jT.cursor(se)}});return A.changes.empty?!1:(f.dispatch(b.update(A,{scrollIntoView:!0,userEvent:m,effects:m=="delete.selection"?D.tk.announce.of(b.phrase("Selection deleted")):void 0})),!0)}function Y(f,i,m){if(f instanceof D.tk)for(let b of f.state.facet(D.tk.atomicRanges).map(A=>A(f)))b.between(i,i,(A,B)=>{A<i&&B>i&&(i=m?B:A)});return i}const Me=(f,i)=>R(f,m=>{let{state:b}=f,A=b.doc.lineAt(m),B,se;if(!i&&m>A.from&&m<A.from+200&&!/[^ \t]/.test(B=A.text.slice(0,m-A.from))){if(B[B.length-1]=="	")return m-1;let Ce=(0,O.IS)(B,b.tabSize),$e=Ce%(0,k.y1)(b)||(0,k.y1)(b);for(let yt=0;yt<$e&&B[B.length-1-yt]==" ";yt++)m--;se=m}else se=(0,O.cp)(A.text,m-A.from,i,i)+A.from,se==m&&A.number!=(i?b.doc.lines:1)&&(se+=i?1:-1);return se}),Ze=f=>Me(f,!1),rt=f=>Me(f,!0),dt=(f,i)=>R(f,m=>{let b=m,{state:A}=f,B=A.doc.lineAt(b),se=A.charCategorizer(b);for(let Ce=null;;){if(b==(i?B.to:B.from)){b==m&&B.number!=(i?A.doc.lines:1)&&(b+=i?1:-1);break}let $e=(0,O.cp)(B.text,b-B.from,i)+B.from,yt=B.text.slice(Math.min(b,$e)-B.from,Math.max(b,$e)-B.from),_t=se(yt);if(Ce!=null&&_t!=Ce)break;(yt!=" "||b!=m)&&(Ce=_t),b=$e}return b}),Kt=f=>dt(f,!1),zt=f=>dt(f,!0),zr=f=>R(f,i=>{let m=f.lineBlockAt(i).to;return i<m?m:Math.min(f.state.doc.length,i+1)}),Vr=f=>R(f,i=>{let m=f.lineBlockAt(i).from;return i>m?m:Math.max(0,i-1)}),$n=({state:f,dispatch:i})=>{if(f.readOnly)return!1;let m=[];for(let b=0,A="",B=f.doc.iter();;){if(B.next(),B.lineBreak||B.done){let se=A.search(/\s+$/);if(se>-1&&m.push({from:b-(A.length-se),to:b}),B.done)break;A=""}else A=B.value;b+=B.value.length}return m.length?(i(f.update({changes:m,userEvent:"delete"})),!0):!1},bi=({state:f,dispatch:i})=>{if(f.readOnly)return!1;let m=f.changeByRange(b=>({changes:{from:b.from,to:b.to,insert:O.xv.of(["",""])},range:O.jT.cursor(b.from)}));return i(f.update(m,{scrollIntoView:!0,userEvent:"input"})),!0},Pi=({state:f,dispatch:i})=>{if(f.readOnly)return!1;let m=f.changeByRange(b=>{if(!b.empty||b.from==0||b.from==f.doc.length)return{range:b};let A=b.from,B=f.doc.lineAt(A),se=A==B.from?A-1:(0,O.cp)(B.text,A-B.from,!1)+B.from,Ce=A==B.to?A+1:(0,O.cp)(B.text,A-B.from,!0)+B.from;return{changes:{from:se,to:Ce,insert:f.doc.slice(A,Ce).append(f.doc.slice(se,A))},range:O.jT.cursor(Ce)}});return m.changes.empty?!1:(i(f.update(m,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ri(f){let i=[],m=-1;for(let b of f.selection.ranges){let A=f.doc.lineAt(b.from),B=f.doc.lineAt(b.to);if(!b.empty&&b.to==B.from&&(B=f.doc.lineAt(b.to-1)),m>=A.number){let se=i[i.length-1];se.to=B.to,se.ranges.push(b)}else i.push({from:A.from,to:B.to,ranges:[b]});m=B.number+1}return i}function Qn(f,i,m){if(f.readOnly)return!1;let b=[],A=[];for(let B of Ri(f)){if(m?B.to==f.doc.length:B.from==0)continue;let se=f.doc.lineAt(m?B.to+1:B.from-1),Ce=se.length+1;if(m){b.push({from:B.to,to:se.to},{from:B.from,insert:se.text+f.lineBreak});for(let $e of B.ranges)A.push(O.jT.range(Math.min(f.doc.length,$e.anchor+Ce),Math.min(f.doc.length,$e.head+Ce)))}else{b.push({from:se.from,to:B.from},{from:B.to,insert:f.lineBreak+se.text});for(let $e of B.ranges)A.push(O.jT.range($e.anchor-Ce,$e.head-Ce))}}return b.length?(i(f.update({changes:b,scrollIntoView:!0,selection:O.jT.create(A,f.selection.mainIndex),userEvent:"move.line"})),!0):!1}const qi=({state:f,dispatch:i})=>Qn(f,i,!1),ms=({state:f,dispatch:i})=>Qn(f,i,!0);function xs(f,i,m){if(f.readOnly)return!1;let b=[];for(let A of Ri(f))m?b.push({from:A.from,insert:f.doc.slice(A.from,A.to)+f.lineBreak}):b.push({from:A.to,insert:f.lineBreak+f.doc.slice(A.from,A.to)});return i(f.update({changes:b,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ws=({state:f,dispatch:i})=>xs(f,i,!1),ba=({state:f,dispatch:i})=>xs(f,i,!0),Zs=f=>{if(f.state.readOnly)return!1;let{state:i}=f,m=i.changes(Ri(i).map(({from:A,to:B})=>(A>0?A--:B<i.doc.length&&B++,{from:A,to:B}))),b=Ke(i.selection,A=>f.moveVertically(A,!0)).map(m);return f.dispatch({changes:m,selection:b,scrollIntoView:!0,userEvent:"delete.line"}),!0},Us=({state:f,dispatch:i})=>(i(f.update(f.replaceSelection(f.lineBreak),{scrollIntoView:!0,userEvent:"input"})),!0);function jo(f,i){if(/\(\)|\[\]|\{\}/.test(f.sliceDoc(i-1,i+1)))return{from:i,to:i};let m=(0,k.qz)(f).resolveInner(i),b=m.childBefore(i),A=m.childAfter(i),B;return b&&A&&b.to<=i&&A.from>=i&&(B=b.type.prop(L.md.closedBy))&&B.indexOf(A.name)>-1&&f.doc.lineAt(b.to).from==f.doc.lineAt(A.from).from?{from:b.to,to:A.from}:null}const Wn=Cs(!1),Sa=Cs(!0);function Cs(f){return({state:i,dispatch:m})=>{if(i.readOnly)return!1;let b=i.changeByRange(A=>{let{from:B,to:se}=A,Ce=i.doc.lineAt(B),$e=!f&&B==se&&jo(i,B);f&&(B=se=(se<=Ce.to?Ce:i.doc.lineAt(se)).to);let yt=new k.Gn(i,{simulateBreak:B,simulateDoubleBreak:!!$e}),_t=(0,k.K0)(yt,B);for(_t==null&&(_t=/^\s*/.exec(i.doc.lineAt(B).text)[0].length);se<Ce.to&&/\s/.test(Ce.text[se-Ce.from]);)se++;$e?{from:B,to:se}=$e:B>Ce.from&&B<Ce.from+100&&!/\S/.test(Ce.text.slice(0,B))&&(B=Ce.from);let sr=["",(0,k.SS)(i,_t)];return $e&&sr.push((0,k.SS)(i,yt.lineIndent(Ce.from,-1))),{changes:{from:B,to:se,insert:O.xv.of(sr)},range:O.jT.cursor(B+1+sr[1].length)}});return m(i.update(b,{scrollIntoView:!0,userEvent:"input"})),!0}}function ra(f,i){let m=-1;return f.changeByRange(b=>{let A=[];for(let se=b.from;se<=b.to;){let Ce=f.doc.lineAt(se);Ce.number>m&&(b.empty||b.to>Ce.from)&&(i(Ce,A,b),m=Ce.number),se=Ce.to+1}let B=f.changes(A);return{changes:A,range:O.jT.range(B.mapPos(b.anchor,1),B.mapPos(b.head,1))}})}const Ea=({state:f,dispatch:i})=>{if(f.readOnly)return!1;let m=Object.create(null),b=new k.Gn(f,{overrideIndentation:B=>{let se=m[B];return se==null?-1:se}}),A=ra(f,(B,se,Ce)=>{let $e=(0,k.K0)(b,B.from);if($e==null)return;/\S/.test(B.text)||($e=0);let yt=/^\s*/.exec(B.text)[0],_t=(0,k.SS)(f,$e);(yt!=_t||Ce.from<B.from+yt.length)&&(m[B.from]=$e,se.push({from:B.from,to:B.from+yt.length,insert:_t}))});return A.changes.empty||i(f.update(A,{userEvent:"indent"})),!0},Ps=({state:f,dispatch:i})=>f.readOnly?!1:(i(f.update(ra(f,(m,b)=>{b.push({from:m.from,insert:f.facet(k.c)})}),{userEvent:"input.indent"})),!0),wa=({state:f,dispatch:i})=>f.readOnly?!1:(i(f.update(ra(f,(m,b)=>{let A=/^\s*/.exec(m.text)[0];if(!A)return;let B=(0,O.IS)(A,f.tabSize),se=0,Ce=(0,k.SS)(f,Math.max(0,B-(0,k.y1)(f)));for(;se<A.length&&se<Ce.length&&A.charCodeAt(se)==Ce.charCodeAt(se);)se++;b.push({from:m.from+se,to:m.from+A.length,insert:Ce.slice(se)})}),{userEvent:"delete.dedent"})),!0),As=({state:f,dispatch:i})=>f.selection.ranges.some(m=>!m.empty)?Ps({state:f,dispatch:i}):(i(f.update(f.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),na=[{key:"Ctrl-b",run:nt,shift:Sn,preventDefault:!0},{key:"Ctrl-f",run:Tt,shift:sn},{key:"Ctrl-p",run:dr,shift:Ct},{key:"Ctrl-n",run:Wr,shift:Lt},{key:"Ctrl-a",run:bn,shift:vi},{key:"Ctrl-e",run:wn,shift:Go},{key:"Ctrl-d",run:rt},{key:"Ctrl-h",run:Ze},{key:"Ctrl-k",run:zr},{key:"Ctrl-Alt-h",run:Kt},{key:"Ctrl-o",run:bi},{key:"Ctrl-t",run:Pi},{key:"Ctrl-v",run:Ar}],Na=[{key:"ArrowLeft",run:nt,shift:Sn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:wr,shift:Bi,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ur,shift:Fn,preventDefault:!0},{key:"ArrowRight",run:Tt,shift:sn,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:vr,shift:Pe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:pn,shift:Oi,preventDefault:!0},{key:"ArrowUp",run:dr,shift:Ct,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Vi,shift:Yn},{mac:"Ctrl-ArrowUp",run:Zr,shift:kr},{key:"ArrowDown",run:Wr,shift:Lt,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Qi,shift:Mn},{mac:"Ctrl-ArrowDown",run:Ar,shift:Sr},{key:"PageUp",run:Zr,shift:kr},{key:"PageDown",run:Ar,shift:Sr},{key:"Home",run:mn,shift:ci,preventDefault:!0},{key:"Mod-Home",run:Vi,shift:Yn},{key:"End",run:qr,shift:kn,preventDefault:!0},{key:"Mod-End",run:Qi,shift:Mn},{key:"Enter",run:Wn},{key:"Mod-a",run:Ki},{key:"Backspace",run:Ze,shift:Ze},{key:"Delete",run:rt},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Kt},{key:"Mod-Delete",mac:"Alt-Delete",run:zt},{mac:"Mod-Backspace",run:Vr},{mac:"Mod-Delete",run:zr}].concat(na.map(f=>({mac:f.key,run:f.run,shift:f.shift}))),Oa=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Ie,shift:Se},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Gt,shift:He},{key:"Alt-ArrowUp",run:qi},{key:"Shift-Alt-ArrowUp",run:Ws},{key:"Alt-ArrowDown",run:ms},{key:"Shift-Alt-ArrowDown",run:ba},{key:"Escape",run:ge},{key:"Mod-Enter",run:Sa},{key:"Alt-l",mac:"Ctrl-l",run:No},{key:"Mod-i",run:tr,preventDefault:!0},{key:"Mod-[",run:wa},{key:"Mod-]",run:Ps},{key:"Mod-Alt-\\",run:Ea},{key:"Shift-Mod-k",run:Zs},{key:"Shift-Mod-\\",run:fn},{key:"Mod-/",run:M},{key:"Alt-A",run:te}].concat(Na),ja={key:"Tab",run:Ps,shift:wa};function ii(){var f=arguments[0];typeof f=="string"&&(f=document.createElement(f));var i=1,m=arguments[1];if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var A=m[b];typeof A=="string"?f.setAttribute(b,A):A!=null&&(f[b]=A)}i++}for(;i<arguments.length;i++)Yo(f,arguments[i]);return f}function Yo(f,i){if(typeof i=="string")f.appendChild(document.createTextNode(i));else if(i!=null)if(i.nodeType!=null)f.appendChild(i);else if(Array.isArray(i))for(var m=0;m<i.length;m++)Yo(f,i[m]);else throw new RangeError("Unsupported child node: "+i)}const it=typeof String.prototype.normalize=="function"?f=>f.normalize("NFKD"):f=>f;class Xe{constructor(i,m,b=0,A=i.length,B,se){this.test=se,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=i.iterRange(b,A),this.bufferStart=b,this.normalize=B?Ce=>B(it(Ce)):it,this.query=this.normalize(m)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,O.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let i=this.peek();if(i<0)return this.done=!0,this;let m=(0,O.bg)(i),b=this.bufferStart+this.bufferPos;this.bufferPos+=(0,O.nZ)(i);let A=this.normalize(m);for(let B=0,se=b;;B++){let Ce=A.charCodeAt(B),$e=this.match(Ce,se);if($e)return this.value=$e,this;if(B==A.length-1)break;se==b&&B<m.length&&m.charCodeAt(B)==Ce&&se++}}}match(i,m){let b=null;for(let A=0;A<this.matches.length;A+=2){let B=this.matches[A],se=!1;this.query.charCodeAt(B)==i&&(B==this.query.length-1?b={from:this.matches[A+1],to:m+1}:(this.matches[A]++,se=!0)),se||(this.matches.splice(A,2),A-=2)}return this.query.charCodeAt(0)==i&&(this.query.length==1?b={from:m,to:m+1}:this.matches.push(1,m)),b&&this.test&&!this.test(b.from,b.to,this.buffer,this.bufferPos)&&(b=null),b}}typeof Symbol!="undefined"&&(Xe.prototype[Symbol.iterator]=function(){return this});const Mt={from:-1,to:-1,match:/.*/.exec("")},Wt="gm"+(/x/.unicode==null?"":"u");class rr{constructor(i,m,b,A=0,B=i.length){if(this.text=i,this.to=B,this.curLine="",this.done=!1,this.value=Mt,/\\[sWDnr]|\n|\r|\[\^/.test(m))return new cn(i,m,b,A,B);this.re=new RegExp(m,Wt+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.iter=i.iter();let se=i.lineAt(A);this.curLineStart=se.from,this.matchPos=Pn(i,A),this.getLine(this.curLineStart)}getLine(i){this.iter.next(i),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let i=this.matchPos-this.curLineStart;;){this.re.lastIndex=i;let m=this.matchPos<=this.to&&this.re.exec(this.curLine);if(m){let b=this.curLineStart+m.index,A=b+m[0].length;if(this.matchPos=Pn(this.text,A+(b==A?1:0)),b==this.curLineStart+this.curLine.length&&this.nextLine(),(b<A||b>this.value.to)&&(!this.test||this.test(b,A,m)))return this.value={from:b,to:A,match:m},this;i=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),i=0;else return this.done=!0,this}}}const Tr=new WeakMap;class cr{constructor(i,m){this.from=i,this.text=m}get to(){return this.from+this.text.length}static get(i,m,b){let A=Tr.get(i);if(!A||A.from>=b||A.to<=m){let Ce=new cr(m,i.sliceString(m,b));return Tr.set(i,Ce),Ce}if(A.from==m&&A.to==b)return A;let{text:B,from:se}=A;return se>m&&(B=i.sliceString(m,se)+B,se=m),A.to<b&&(B+=i.sliceString(A.to,b)),Tr.set(i,new cr(se,B)),new cr(m,B.slice(m-se,b-se))}}class cn{constructor(i,m,b,A,B){this.text=i,this.to=B,this.done=!1,this.value=Mt,this.matchPos=Pn(i,A),this.re=new RegExp(m,Wt+(b!=null&&b.ignoreCase?"i":"")),this.test=b==null?void 0:b.test,this.flat=cr.get(i,A,this.chunkEnd(A+5e3))}chunkEnd(i){return i>=this.to?this.to:this.text.lineAt(i).to}next(){for(;;){let i=this.re.lastIndex=this.matchPos-this.flat.from,m=this.re.exec(this.flat.text);if(m&&!m[0]&&m.index==i&&(this.re.lastIndex=i+1,m=this.re.exec(this.flat.text)),m){let b=this.flat.from+m.index,A=b+m[0].length;if((this.flat.to>=this.to||m.index+m[0].length<=this.flat.text.length-10)&&(!this.test||this.test(b,A,m)))return this.value={from:b,to:A,match:m},this.matchPos=Pn(this.text,A+(b==A?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=cr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(rr.prototype[Symbol.iterator]=cn.prototype[Symbol.iterator]=function(){return this});function qn(f){try{return new RegExp(f,Wt),!0}catch{return!1}}function Pn(f,i){if(i>=f.length)return i;let m=f.lineAt(i),b;for(;i<m.to&&(b=m.text.charCodeAt(i-m.from))>=56320&&b<57344;)i++;return i}function an(f){let i=ii("input",{class:"cm-textfield",name:"line"}),m=ii("form",{class:"cm-gotoLine",onkeydown:A=>{A.keyCode==27?(A.preventDefault(),f.dispatch({effects:Hr.of(!1)}),f.focus()):A.keyCode==13&&(A.preventDefault(),b())},onsubmit:A=>{A.preventDefault(),b()}},ii("label",f.state.phrase("Go to line"),": ",i)," ",ii("button",{class:"cm-button",type:"submit"},f.state.phrase("go")));function b(){let A=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i.value);if(!A)return;let{state:B}=f,se=B.doc.lineAt(B.selection.main.head),[,Ce,$e,yt,_t]=A,sr=yt?+yt.slice(1):0,on=$e?+$e:se.number;if($e&&_t){let Li=on/100;Ce&&(Li=Li*(Ce=="-"?-1:1)+se.number/B.doc.lines),on=Math.round(B.doc.lines*Li)}else $e&&Ce&&(on=on*(Ce=="-"?-1:1)+se.number);let In=B.doc.line(Math.max(1,Math.min(B.doc.lines,on)));f.dispatch({effects:Hr.of(!1),selection:O.jT.cursor(In.from+Math.max(0,Math.min(sr,In.length))),scrollIntoView:!0}),f.focus()}return{dom:m}}const Hr=O.Py.define(),rn=O.QQ.define({create(){return!0},update(f,i){for(let m of i.effects)m.is(Hr)&&(f=m.value);return f},provide:f=>D.mH.from(f,i=>i?an:null)}),Nn=f=>{let i=(0,D.Sd)(f,an);if(!i){let m=[Hr.of(!0)];f.state.field(rn,!1)==null&&m.push(O.Py.appendConfig.of([rn,mi])),f.dispatch({effects:m}),i=(0,D.Sd)(f,an)}return i&&i.dom.querySelector("input").focus(),!0},mi=D.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),gi={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Fi=O.r$.define({combine(f){return(0,O.BO)(f,gi,{highlightWordAroundCursor:(i,m)=>i||m,minSelectionLength:Math.min,maxMatches:Math.min})}});function Wi(f){let i=[ns,zn];return f&&i.push(Fi.of(f)),i}const eo=D.p.mark({class:"cm-selectionMatch"}),yi=D.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Ni(f,i,m,b){return(m==0||f(i.sliceDoc(m-1,m))!=O.D0.Word)&&(b==i.doc.length||f(i.sliceDoc(b,b+1))!=O.D0.Word)}function Lo(f,i,m,b){return f(i.sliceDoc(m,m+1))==O.D0.Word&&f(i.sliceDoc(b-1,b))==O.D0.Word}const zn=D.lg.fromClass(class{constructor(f){this.decorations=this.getDeco(f)}update(f){(f.selectionSet||f.docChanged||f.viewportChanged)&&(this.decorations=this.getDeco(f.view))}getDeco(f){let i=f.state.facet(Fi),{state:m}=f,b=m.selection;if(b.ranges.length>1)return D.p.none;let A=b.main,B,se=null;if(A.empty){if(!i.highlightWordAroundCursor)return D.p.none;let $e=m.wordAt(A.head);if(!$e)return D.p.none;se=m.charCategorizer(A.head),B=m.sliceDoc($e.from,$e.to)}else{let $e=A.to-A.from;if($e<i.minSelectionLength||$e>200)return D.p.none;if(i.wholeWords){if(B=m.sliceDoc(A.from,A.to),se=m.charCategorizer(A.head),!(Ni(se,m,A.from,A.to)&&Lo(se,m,A.from,A.to)))return D.p.none}else if(B=m.sliceDoc(A.from,A.to).trim(),!B)return D.p.none}let Ce=[];for(let $e of f.visibleRanges){let yt=new Xe(m.doc,B,$e.from,$e.to);for(;!yt.next().done;){let{from:_t,to:sr}=yt.value;if((!se||Ni(se,m,_t,sr))&&(A.empty&&_t<=A.from&&sr>=A.to?Ce.push(yi.range(_t,sr)):(_t>=A.to||sr<=A.from)&&Ce.push(eo.range(_t,sr)),Ce.length>i.maxMatches))return D.p.none}}return D.p.set(Ce)}},{decorations:f=>f.decorations}),ns=D.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),to=({state:f,dispatch:i})=>{let{selection:m}=f,b=O.jT.create(m.ranges.map(A=>f.wordAt(A.head)||O.jT.cursor(A.head)),m.mainIndex);return b.eq(m)?!1:(i(f.update({selection:b})),!0)};function Zn(f,i){let{main:m,ranges:b}=f.selection,A=f.wordAt(m.head),B=A&&A.from==m.from&&A.to==m.to;for(let se=!1,Ce=new Xe(f.doc,i,b[b.length-1].to);;)if(Ce.next(),Ce.done){if(se)return null;Ce=new Xe(f.doc,i,0,Math.max(0,b[b.length-1].from-1)),se=!0}else{if(se&&b.some($e=>$e.from==Ce.value.from))continue;if(B){let $e=f.wordAt(Ce.value.from);if(!$e||$e.from!=Ce.value.from||$e.to!=Ce.value.to)continue}return Ce.value}}const So=({state:f,dispatch:i})=>{let{ranges:m}=f.selection;if(m.some(B=>B.from===B.to))return to({state:f,dispatch:i});let b=f.sliceDoc(m[0].from,m[0].to);if(f.selection.ranges.some(B=>f.sliceDoc(B.from,B.to)!=b))return!1;let A=Zn(f,b);return A?(i(f.update({selection:f.selection.addRange(O.jT.range(A.from,A.to),!1),effects:D.tk.scrollIntoView(A.to)})),!0):!1},Si=O.r$.define({combine(f){return(0,O.BO)(f,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:i=>new ps(i),scrollToMatch:i=>D.tk.scrollIntoView(i)})}});function is(f){return f?[Si.of(f),Xn]:Xn}class pi{constructor(i){this.search=i.search,this.caseSensitive=!!i.caseSensitive,this.literal=!!i.literal,this.regexp=!!i.regexp,this.replace=i.replace||"",this.valid=!!this.search&&(!this.regexp||qn(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!i.wholeWord}unquote(i){return this.literal?i:i.replace(/\\([nrt\\])/g,(m,b)=>b=="n"?`
`:b=="r"?"\r":b=="t"?"	":"\\")}eq(i){return this.search==i.search&&this.replace==i.replace&&this.caseSensitive==i.caseSensitive&&this.regexp==i.regexp&&this.wholeWord==i.wholeWord}create(){return this.regexp?new Bn(this):new ao(this)}getCursor(i,m=0,b){let A=i.doc?i:O.yy.create({doc:i});return b==null&&(b=A.doc.length),this.regexp?Cn(this,A,m,b):xi(this,A,m,b)}}class En{constructor(i){this.spec=i}}function xi(f,i,m,b){return new Xe(i.doc,f.unquoted,m,b,f.caseSensitive?void 0:A=>A.toLowerCase(),f.wholeWord?_o(i.doc,i.charCategorizer(i.selection.main.head)):void 0)}function _o(f,i){return(m,b,A,B)=>((B>m||B+A.length<b)&&(B=Math.max(0,m-2),A=f.sliceString(B,Math.min(f.length,b+2))),(i(lo(A,m-B))!=O.D0.Word||i(fi(A,m-B))!=O.D0.Word)&&(i(fi(A,b-B))!=O.D0.Word||i(lo(A,b-B))!=O.D0.Word))}class ao extends En{constructor(i){super(i)}nextMatch(i,m,b){let A=xi(this.spec,i,b,i.doc.length).nextOverlapping();return A.done&&(A=xi(this.spec,i,0,m).nextOverlapping()),A.done?null:A.value}prevMatchInRange(i,m,b){for(let A=b;;){let B=Math.max(m,A-1e4-this.spec.unquoted.length),se=xi(this.spec,i,B,A),Ce=null;for(;!se.nextOverlapping().done;)Ce=se.value;if(Ce)return Ce;if(B==m)return null;A-=1e4}}prevMatch(i,m,b){return this.prevMatchInRange(i,0,m)||this.prevMatchInRange(i,b,i.doc.length)}getReplacement(i){return this.spec.unquote(this.spec.replace)}matchAll(i,m){let b=xi(this.spec,i,0,i.doc.length),A=[];for(;!b.next().done;){if(A.length>=m)return null;A.push(b.value)}return A}highlight(i,m,b,A){let B=xi(this.spec,i,Math.max(0,m-this.spec.unquoted.length),Math.min(b+this.spec.unquoted.length,i.doc.length));for(;!B.next().done;)A(B.value.from,B.value.to)}}function Cn(f,i,m,b){return new rr(i.doc,f.search,{ignoreCase:!f.caseSensitive,test:f.wholeWord?Xo(i.charCategorizer(i.selection.main.head)):void 0},m,b)}function lo(f,i){return f.slice((0,O.cp)(f,i,!1),i)}function fi(f,i){return f.slice(i,(0,O.cp)(f,i))}function Xo(f){return(i,m,b)=>!b[0].length||(f(lo(b.input,b.index))!=O.D0.Word||f(fi(b.input,b.index))!=O.D0.Word)&&(f(fi(b.input,b.index+b[0].length))!=O.D0.Word||f(lo(b.input,b.index+b[0].length))!=O.D0.Word)}class Bn extends En{nextMatch(i,m,b){let A=Cn(this.spec,i,b,i.doc.length).next();return A.done&&(A=Cn(this.spec,i,0,m).next()),A.done?null:A.value}prevMatchInRange(i,m,b){for(let A=1;;A++){let B=Math.max(m,b-A*1e4),se=Cn(this.spec,i,B,b),Ce=null;for(;!se.next().done;)Ce=se.value;if(Ce&&(B==m||Ce.from>B+10))return Ce;if(B==m)return null}}prevMatch(i,m,b){return this.prevMatchInRange(i,0,m)||this.prevMatchInRange(i,b,i.doc.length)}getReplacement(i){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(m,b)=>b=="$"?"$":b=="&"?i.match[0]:b!="0"&&+b<i.match.length?i.match[b]:m))}matchAll(i,m){let b=Cn(this.spec,i,0,i.doc.length),A=[];for(;!b.next().done;){if(A.length>=m)return null;A.push(b.value)}return A}highlight(i,m,b,A){let B=Cn(this.spec,i,Math.max(0,m-250),Math.min(b+250,i.doc.length));for(;!B.next().done;)A(B.value.from,B.value.to)}}const Hn=O.Py.define(),Eo=O.Py.define(),ro=O.QQ.define({create(f){return new ki(Zo(f).create(),null)},update(f,i){for(let m of i.effects)m.is(Hn)?f=new ki(m.value.create(),f.panel):m.is(Eo)&&(f=new ki(f.query,m.value?ss:null));return f},provide:f=>D.mH.from(f,i=>i.panel)});function Ts(f){let i=f.field(ro,!1);return i?i.query.spec:Zo(f)}function uo(f){var i;return((i=f.field(ro,!1))===null||i===void 0?void 0:i.panel)!=null}class ki{constructor(i,m){this.query=i,this.panel=m}}const Qo=D.p.mark({class:"cm-searchMatch"}),os=D.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),zi=D.lg.fromClass(class{constructor(f){this.view=f,this.decorations=this.highlight(f.state.field(ro))}update(f){let i=f.state.field(ro);(i!=f.startState.field(ro)||f.docChanged||f.selectionSet||f.viewportChanged)&&(this.decorations=this.highlight(i))}highlight({query:f,panel:i}){if(!i||!f.spec.valid)return D.p.none;let{view:m}=this,b=new O.f_;for(let A=0,B=m.visibleRanges,se=B.length;A<se;A++){let{from:Ce,to:$e}=B[A];for(;A<se-1&&$e>B[A+1].from-2*250;)$e=B[++A].to;f.highlight(m.state,Ce,$e,(yt,_t)=>{let sr=m.state.selection.ranges.some(on=>on.from==yt&&on.to==_t);b.add(yt,_t,sr?os:Qo)})}return b.finish()}},{decorations:f=>f.decorations});function go(f){return i=>{let m=i.state.field(ro,!1);return m&&m.query.spec.valid?f(i,m):co(i)}}const Bo=go((f,{query:i})=>{let{to:m}=f.state.selection.main,b=i.nextMatch(f.state,m,m);if(!b)return!1;let A=O.jT.single(b.from,b.to),B=f.state.facet(Si);return f.dispatch({selection:A,effects:[Ei(f,b),B.scrollToMatch(A.main,f)],userEvent:"select.search"}),Mi(f),!0}),ji=go((f,{query:i})=>{let{state:m}=f,{from:b}=m.selection.main,A=i.prevMatch(m,b,b);if(!A)return!1;let B=O.jT.single(A.from,A.to),se=f.state.facet(Si);return f.dispatch({selection:B,effects:[Ei(f,A),se.scrollToMatch(B.main,f)],userEvent:"select.search"}),Mi(f),!0}),Jn=go((f,{query:i})=>{let m=i.matchAll(f.state,1e3);return!m||!m.length?!1:(f.dispatch({selection:O.jT.create(m.map(b=>O.jT.range(b.from,b.to))),userEvent:"select.search.matches"}),!0)}),Wo=({state:f,dispatch:i})=>{let m=f.selection;if(m.ranges.length>1||m.main.empty)return!1;let{from:b,to:A}=m.main,B=[],se=0;for(let Ce=new Xe(f.doc,f.sliceDoc(b,A));!Ce.next().done;){if(B.length>1e3)return!1;Ce.value.from==b&&(se=B.length),B.push(O.jT.range(Ce.value.from,Ce.value.to))}return i(f.update({selection:O.jT.create(B,se),userEvent:"select.search.matches"})),!0},no=go((f,{query:i})=>{let{state:m}=f,{from:b,to:A}=m.selection.main;if(m.readOnly)return!1;let B=i.nextMatch(m,b,b);if(!B)return!1;let se=[],Ce,$e,yt=[];if(B.from==b&&B.to==A&&($e=m.toText(i.getReplacement(B)),se.push({from:B.from,to:B.to,insert:$e}),B=i.nextMatch(m,B.from,B.to),yt.push(D.tk.announce.of(m.phrase("replaced match on line $",m.doc.lineAt(b).number)+"."))),B){let _t=se.length==0||se[0].from>=B.to?0:B.to-B.from-$e.length;Ce=O.jT.single(B.from-_t,B.to-_t),yt.push(Ei(f,B)),yt.push(m.facet(Si).scrollToMatch(Ce.main,f))}return f.dispatch({changes:se,selection:Ce,effects:yt,userEvent:"input.replace"}),!0}),ei=go((f,{query:i})=>{if(f.state.readOnly)return!1;let m=i.matchAll(f.state,1e9).map(A=>{let{from:B,to:se}=A;return{from:B,to:se,insert:i.getReplacement(A)}});if(!m.length)return!1;let b=f.state.phrase("replaced $ matches",m.length)+".";return f.dispatch({changes:m,effects:D.tk.announce.of(b),userEvent:"input.replace.all"}),!0});function ss(f){return f.state.facet(Si).createPanel(f)}function Zo(f,i){var m,b,A,B;let se=f.selection.main,Ce=se.empty||se.to>se.from+100?"":f.sliceDoc(se.from,se.to);if(i&&!Ce)return i;let $e=f.facet(Si);return new pi({search:((m=i==null?void 0:i.literal)!==null&&m!==void 0?m:$e.literal)?Ce:Ce.replace(/\n/g,"\\n"),caseSensitive:(b=i==null?void 0:i.caseSensitive)!==null&&b!==void 0?b:$e.caseSensitive,literal:(A=i==null?void 0:i.literal)!==null&&A!==void 0?A:$e.literal,wholeWord:(B=i==null?void 0:i.wholeWord)!==null&&B!==void 0?B:$e.wholeWord})}function ti(f){let i=(0,D.Sd)(f,ss);return i&&i.dom.querySelector("[main-field]")}function Mi(f){let i=ti(f);i&&i==f.root.activeElement&&i.select()}const co=f=>{let i=f.state.field(ro,!1);if(i&&i.panel){let m=ti(f);if(m&&m!=f.root.activeElement){let b=Zo(f.state,i.query.spec);b.valid&&f.dispatch({effects:Hn.of(b)}),m.focus(),m.select()}}else f.dispatch({effects:[Eo.of(!0),i?Hn.of(Zo(f.state,i.query.spec)):O.Py.appendConfig.of(Xn)]});return!0},Hi=f=>{let i=f.state.field(ro,!1);if(!i||!i.panel)return!1;let m=(0,D.Sd)(f,ss);return m&&m.dom.contains(f.root.activeElement)&&f.focus(),f.dispatch({effects:Eo.of(!1)}),!0},wo=[{key:"Mod-f",run:co,scope:"editor search-panel"},{key:"F3",run:Bo,shift:ji,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Bo,shift:ji,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Hi,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Wo},{key:"Alt-g",run:Nn},{key:"Mod-d",run:So,preventDefault:!0}];class ps{constructor(i){this.view=i;let m=this.query=i.state.field(ro).query.spec;this.commit=this.commit.bind(this),this.searchField=ii("input",{value:m.search,placeholder:ht(i,"Find"),"aria-label":ht(i,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ii("input",{value:m.replace,placeholder:ht(i,"Replace"),"aria-label":ht(i,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ii("input",{type:"checkbox",name:"case",form:"",checked:m.caseSensitive,onchange:this.commit}),this.reField=ii("input",{type:"checkbox",name:"re",form:"",checked:m.regexp,onchange:this.commit}),this.wordField=ii("input",{type:"checkbox",name:"word",form:"",checked:m.wholeWord,onchange:this.commit});function b(A,B,se){return ii("button",{class:"cm-button",name:A,onclick:B,type:"button"},se)}this.dom=ii("div",{onkeydown:A=>this.keydown(A),class:"cm-search"},[this.searchField,b("next",()=>Bo(i),[ht(i,"next")]),b("prev",()=>ji(i),[ht(i,"previous")]),b("select",()=>Jn(i),[ht(i,"all")]),ii("label",null,[this.caseField,ht(i,"match case")]),ii("label",null,[this.reField,ht(i,"regexp")]),ii("label",null,[this.wordField,ht(i,"by word")]),...i.state.readOnly?[]:[ii("br"),this.replaceField,b("replace",()=>no(i),[ht(i,"replace")]),b("replaceAll",()=>ei(i),[ht(i,"replace all")])],ii("button",{name:"close",onclick:()=>Hi(i),"aria-label":ht(i,"close"),type:"button"},["\xD7"])])}commit(){let i=new pi({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});i.eq(this.query)||(this.query=i,this.view.dispatch({effects:Hn.of(i)}))}keydown(i){(0,D.$1)(this.view,i,"search-panel")?i.preventDefault():i.keyCode==13&&i.target==this.searchField?(i.preventDefault(),(i.shiftKey?ji:Bo)(this.view)):i.keyCode==13&&i.target==this.replaceField&&(i.preventDefault(),no(this.view))}update(i){for(let m of i.transactions)for(let b of m.effects)b.is(Hn)&&!b.value.eq(this.query)&&this.setQuery(b.value)}setQuery(i){this.query=i,this.searchField.value=i.search,this.replaceField.value=i.replace,this.caseField.checked=i.caseSensitive,this.reField.checked=i.regexp,this.wordField.checked=i.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Si).top}}function ht(f,i){return f.state.phrase(i)}const at=30,Ti=/[\s\.,:;?!]/;function Ei(f,{from:i,to:m}){let b=f.state.doc.lineAt(i),A=f.state.doc.lineAt(m).to,B=Math.max(b.from,i-at),se=Math.min(A,m+at),Ce=f.state.sliceDoc(B,se);if(B!=b.from){for(let $e=0;$e<at;$e++)if(!Ti.test(Ce[$e+1])&&Ti.test(Ce[$e])){Ce=Ce.slice($e);break}}if(se!=A){for(let $e=Ce.length-1;$e>Ce.length-at;$e--)if(!Ti.test(Ce[$e-1])&&Ti.test(Ce[$e])){Ce=Ce.slice(0,$e);break}}return D.tk.announce.of(`${f.state.phrase("current match")}. ${Ce} ${f.state.phrase("on line")} ${b.number}.`)}const Br=D.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Xn=[ro,O.Wl.lowest(zi),Br];class fo{constructor(i,m,b){this.state=i,this.pos=m,this.explicit=b,this.abortListeners=[]}tokenBefore(i){let m=(0,k.qz)(this.state).resolveInner(this.pos,-1);for(;m&&i.indexOf(m.name)<0;)m=m.parent;return m?{from:m.from,to:this.pos,text:this.state.sliceDoc(m.from,this.pos),type:m.type}:null}matchBefore(i){let m=this.state.doc.lineAt(this.pos),b=Math.max(m.from,this.pos-250),A=m.text.slice(b-m.from,this.pos-m.from),B=A.search(Un(i,!1));return B<0?null:{from:b+B,to:this.pos,text:A.slice(B)}}get aborted(){return this.abortListeners==null}addEventListener(i,m){i=="abort"&&this.abortListeners&&this.abortListeners.push(m)}}function Oo(f){let i=Object.keys(f).join(""),m=/\w/.test(i);return m&&(i=i.replace(/\w/g,"")),`[${m?"\\w":""}${i.replace(/[^\w\s]/g,"\\$&")}]`}function Uo(f){let i=Object.create(null),m=Object.create(null);for(let{label:A}of f){i[A[0]]=!0;for(let B=1;B<A.length;B++)m[A[B]]=!0}let b=Oo(i)+Oo(m)+"*$";return[new RegExp("^"+b),new RegExp(b)]}function Vs(f){let i=f.map(A=>typeof A=="string"?{label:A}:A),[m,b]=i.every(A=>/^\w+$/.test(A.label))?[/\w*$/,/\w+$/]:Uo(i);return A=>{let B=A.matchBefore(b);return B||A.explicit?{from:B?B.from:A.pos,options:i,validFor:m}:null}}function Ks(f,i){return m=>{for(let b=syntaxTree(m.state).resolveInner(m.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return i(m);if(b.type.isTop)break}return null}}function La(f,i){return m=>{for(let b=syntaxTree(m.state).resolveInner(m.pos,-1);b;b=b.parent){if(f.indexOf(b.name)>-1)return null;if(b.type.isTop)break}return i(m)}}class _s{constructor(i,m,b,A){this.completion=i,this.source=m,this.match=b,this.score=A}}function Do(f){return f.selection.main.from}function Un(f,i){var m;let{source:b}=f,A=i&&b[0]!="^",B=b[b.length-1]!="$";return!A&&!B?f:new RegExp(`${A?"^":""}(?:${b})${B?"$":""}`,(m=f.flags)!==null&&m!==void 0?m:f.ignoreCase?"i":"")}const Ji=O.q6.define();function zs(f,i,m,b){let{main:A}=f.selection,B=m-A.from,se=b-A.from;return Object.assign(Object.assign({},f.changeByRange(Ce=>Ce!=A&&m!=b&&f.sliceDoc(Ce.from+B,Ce.from+se)!=f.sliceDoc(m,b)?{range:Ce}:{changes:{from:Ce.from+B,to:b==A.from?Ce.to:Ce.from+se,insert:i},range:O.jT.cursor(Ce.from+B+i.length)})),{userEvent:"input.complete"})}const ho=new WeakMap;function mo(f){if(!Array.isArray(f))return f;let i=ho.get(f);return i||ho.set(f,i=Vs(f)),i}const ln=O.Py.define(),br=O.Py.define();class fr{constructor(i){this.pattern=i,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let m=0;m<i.length;){let b=(0,O.gm)(i,m),A=(0,O.nZ)(b);this.chars.push(b);let B=i.slice(m,m+A),se=B.toUpperCase();this.folded.push((0,O.gm)(se==B?B.toLowerCase():se,0)),m+=A}this.astral=i.length!=this.chars.length}match(i){if(this.pattern.length==0)return[-100];if(i.length<this.pattern.length)return null;let{chars:m,folded:b,any:A,precise:B,byWord:se}=this;if(m.length==1){let so=(0,O.gm)(i,0),Ls=(0,O.nZ)(so),Os=Ls==i.length?0:-100;if(so!=m[0])if(so==b[0])Os+=-200;else return null;return[Os,0,Ls]}let Ce=i.indexOf(this.pattern);if(Ce==0)return[i.length==this.pattern.length?0:-100,0,this.pattern.length];let $e=m.length,yt=0;if(Ce<0){for(let so=0,Ls=Math.min(i.length,200);so<Ls&&yt<$e;){let Os=(0,O.gm)(i,so);(Os==m[yt]||Os==b[yt])&&(A[yt++]=so),so+=(0,O.nZ)(Os)}if(yt<$e)return null}let _t=0,sr=0,on=!1,In=0,Li=-1,ea=-1,al=/[a-z]/.test(i),qa=!0;for(let so=0,Ls=Math.min(i.length,200),Os=0;so<Ls&&sr<$e;){let To=(0,O.gm)(i,so);Ce<0&&(_t<$e&&To==m[_t]&&(B[_t++]=so),In<$e&&(To==m[In]||To==b[In]?(In==0&&(Li=so),ea=so+1,In++):In=0));let Ia,Ra=To<255?To>=48&&To<=57||To>=97&&To<=122?2:To>=65&&To<=90?1:0:(Ia=(0,O.bg)(To))!=Ia.toLowerCase()?1:Ia!=Ia.toUpperCase()?2:0;(!so||Ra==1&&al||Os==0&&Ra!=0)&&(m[sr]==To||b[sr]==To&&(on=!0)?se[sr++]=so:se.length&&(qa=!1)),Os=Ra,so+=(0,O.nZ)(To)}return sr==$e&&se[0]==0&&qa?this.result(-100+(on?-200:0),se,i):In==$e&&Li==0?[-200-i.length+(ea==i.length?0:-100),0,ea]:Ce>-1?[-700-i.length,Ce,Ce+this.pattern.length]:In==$e?[-200+-700-i.length,Li,ea]:sr==$e?this.result(-100+(on?-200:0)+-700+(qa?0:-1100),se,i):m.length==2?null:this.result((A[0]?-700:0)+-200+-1100,A,i)}result(i,m,b){let A=[i-b.length],B=1;for(let se of m){let Ce=se+(this.astral?(0,O.nZ)((0,O.gm)(b,se)):1);B>1&&A[B-1]==se?A[B-1]=Ce:(A[B++]=se,A[B++]=Ce)}return A}}const $r=O.r$.define({combine(f){return(0,O.BO)(f,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:An,compareCompletions:(i,m)=>i.label.localeCompare(m.label),interactionDelay:75},{defaultKeymap:(i,m)=>i&&m,closeOnBlur:(i,m)=>i&&m,icons:(i,m)=>i&&m,tooltipClass:(i,m)=>b=>gn(i(b),m(b)),optionClass:(i,m)=>b=>gn(i(b),m(b)),addToOptions:(i,m)=>i.concat(m)})}});function gn(f,i){return f?i?f+" "+i:f:i}function An(f,i,m,b,A){let B=f.textDirection==D.Nm.RTL,se=B,Ce=!1,$e="top",yt,_t,sr=i.left-A.left,on=A.right-i.right,In=b.right-b.left,Li=b.bottom-b.top;if(se&&sr<Math.min(In,on)?se=!1:!se&&on<Math.min(In,sr)&&(se=!0),In<=(se?sr:on))yt=Math.max(A.top,Math.min(m.top,A.bottom-Li))-i.top,_t=Math.min(400,se?sr:on);else{Ce=!0,_t=Math.min(400,(B?i.right:A.right-i.left)-30);let ea=A.bottom-i.bottom;ea>=Li||ea>i.top?yt=m.bottom-i.top:($e="bottom",yt=i.bottom-m.top)}return{style:`${$e}: ${yt}px; max-width: ${_t}px`,class:"cm-completionInfo-"+(Ce?B?"left-narrow":"right-narrow":se?"left":"right")}}function ri(f,i="option"){return m=>{let b=m.state.field(Zi,!1);if(!b||!b.open||b.open.disabled||Date.now()-b.open.timestamp<m.state.facet($r).interactionDelay)return!1;let A=1,B;i=="page"&&(B=(0,D.gB)(m,b.open.tooltip))&&(A=Math.max(2,Math.floor(B.dom.offsetHeight/B.dom.querySelector("li").offsetHeight)-1));let{length:se}=b.open.options,Ce=b.open.selected>-1?b.open.selected+A*(f?1:-1):f?0:se-1;return Ce<0?Ce=i=="page"?0:se-1:Ce>=se&&(Ce=i=="page"?se-1:0),m.dispatch({effects:Pa.of(Ce)}),!0}}const wi=f=>{let i=f.state.field(Zi,!1);return f.state.readOnly||!i||!i.open||i.open.selected<0||Date.now()-i.open.timestamp<f.state.facet($r).interactionDelay?!1:i.open.disabled?!0:xa(f,i.open.options[i.open.selected])},$i=f=>f.state.field(Zi,!1)?(f.dispatch({effects:ln.of(!0)}),!0):!1,ia=f=>{let i=f.state.field(Zi,!1);return!i||!i.active.some(m=>m.state!=0)?!1:(f.dispatch({effects:br.of(null)}),!0)};class Ds{constructor(i,m){this.active=i,this.context=m,this.time=Date.now(),this.updates=[],this.done=void 0}}const as=50,ks=50,oa=1e3,Ms=D.lg.fromClass(class{constructor(f){this.view=f,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let i of f.state.field(Zi).active)i.state==1&&this.startQuery(i)}update(f){let i=f.state.field(Zi);if(!f.selectionSet&&!f.docChanged&&f.startState.field(Zi)==i)return;let m=f.transactions.some(b=>(b.selection||b.docChanged)&&!qo(b));for(let b=0;b<this.running.length;b++){let A=this.running[b];if(m||A.updates.length+f.transactions.length>ks&&Date.now()-A.time>oa){for(let B of A.context.abortListeners)try{B()}catch(se){(0,D.OO)(this.view.state,se)}A.context.abortListeners=null,this.running.splice(b--,1)}else A.updates.push(...f.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=i.active.some(b=>b.state==1&&!this.running.some(A=>A.active.source==b.source))?setTimeout(()=>this.startUpdate(),as):-1,this.composing!=0)for(let b of f.transactions)qo(b)=="input"?this.composing=2:this.composing==2&&b.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:f}=this.view,i=f.field(Zi);for(let m of i.active)m.state==1&&!this.running.some(b=>b.active.source==m.source)&&this.startQuery(m)}startQuery(f){let{state:i}=this.view,m=Do(i),b=new fo(i,m,f.explicitPos==m),A=new Ds(f,b);this.running.push(A),Promise.resolve(f.source(b)).then(B=>{A.context.aborted||(A.done=B||null,this.scheduleAccept())},B=>{this.view.dispatch({effects:br.of(null)}),(0,D.OO)(this.view.state,B)})}scheduleAccept(){this.running.every(f=>f.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),as))}accept(){var f;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let i=[],m=this.view.state.facet($r);for(let b=0;b<this.running.length;b++){let A=this.running[b];if(A.done===void 0)continue;if(this.running.splice(b--,1),A.done){let se=new po(A.active.source,A.active.explicitPos,A.done,A.done.from,(f=A.done.to)!==null&&f!==void 0?f:Do(A.updates.length?A.updates[0].startState:this.view.state));for(let Ce of A.updates)se=se.update(Ce,m);if(se.hasResult()){i.push(se);continue}}let B=this.view.state.field(Zi).active.find(se=>se.source==A.active.source);if(B&&B.state==1)if(A.done==null){let se=new io(A.active.source,0);for(let Ce of A.updates)se=se.update(Ce,m);se.state!=1&&i.push(se)}else this.startQuery(B)}i.length&&this.view.dispatch({effects:la.of(i)})}},{eventHandlers:{blur(f){let i=this.view.state.field(Zi,!1);if(i&&i.tooltip&&this.view.state.facet($r).closeOnBlur){let m=i.open&&(0,D.gB)(this.view,i.open.tooltip);(!m||!m.dom.contains(f.relatedTarget))&&this.view.dispatch({effects:br.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ln.of(!1)}),20),this.composing=0}}});function xa(f,i){const m=i.completion.apply||i.completion.label;let b=f.state.field(Zi).active.find(A=>A.source==i.source);return b instanceof po?(typeof m=="string"?f.dispatch(Object.assign(Object.assign({},zs(f.state,m,b.from,b.to)),{annotations:Ji.of(i.completion)})):m(f,i.completion,b.from,b.to),!0):!1}function $s(f){let i=f.addToOptions.slice();return f.icons&&i.push({render(m){let b=document.createElement("div");return b.classList.add("cm-completionIcon"),m.type&&b.classList.add(...m.type.split(/\s+/g).map(A=>"cm-completionIcon-"+A)),b.setAttribute("aria-hidden","true"),b},position:20}),i.push({render(m,b,A){let B=document.createElement("span");B.className="cm-completionLabel";let{label:se}=m,Ce=0;for(let $e=1;$e<A.length;){let yt=A[$e++],_t=A[$e++];yt>Ce&&B.appendChild(document.createTextNode(se.slice(Ce,yt)));let sr=B.appendChild(document.createElement("span"));sr.appendChild(document.createTextNode(se.slice(yt,_t))),sr.className="cm-completionMatchedText",Ce=_t}return Ce<se.length&&B.appendChild(document.createTextNode(se.slice(Ce))),B},position:50},{render(m){if(!m.detail)return null;let b=document.createElement("span");return b.className="cm-completionDetail",b.textContent=m.detail,b},position:80}),i.sort((m,b)=>m.position-b.position).map(m=>m.render)}function gs(f,i,m){if(f<=m)return{from:0,to:f};if(i<0&&(i=0),i<=f>>1){let A=Math.floor(i/m);return{from:A*m,to:(A+1)*m}}let b=Math.floor((f-i)/m);return{from:f-(b+1)*m,to:f-b*m}}class xo{constructor(i,m){this.view=i,this.stateField=m,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:Ce=>this.placeInfo(Ce),key:this},this.space=null,this.currentClass="";let b=i.state.field(m),{options:A,selected:B}=b.open,se=i.state.facet($r);this.optionContent=$s(se),this.optionClass=se.optionClass,this.tooltipClass=se.tooltipClass,this.range=gs(A.length,B,se.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(i.state),this.dom.addEventListener("mousedown",Ce=>{for(let $e=Ce.target,yt;$e&&$e!=this.dom;$e=$e.parentNode)if($e.nodeName=="LI"&&(yt=/-(\d+)$/.exec($e.id))&&+yt[1]<A.length){xa(i,A[+yt[1]]),Ce.preventDefault();return}}),this.dom.addEventListener("focusout",Ce=>{let $e=i.state.field(this.stateField,!1);$e&&$e.tooltip&&i.state.facet($r).closeOnBlur&&Ce.relatedTarget!=i.contentDOM&&i.dispatch({effects:br.of(null)})}),this.list=this.dom.appendChild(this.createListBox(A,b.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(i){var m,b,A;let B=i.state.field(this.stateField),se=i.startState.field(this.stateField);this.updateTooltipClass(i.state),B!=se&&(this.updateSel(),((m=B.open)===null||m===void 0?void 0:m.disabled)!=((b=se.open)===null||b===void 0?void 0:b.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((A=B.open)===null||A===void 0)&&A.disabled)))}updateTooltipClass(i){let m=this.tooltipClass(i);if(m!=this.currentClass){for(let b of this.currentClass.split(" "))b&&this.dom.classList.remove(b);for(let b of m.split(" "))b&&this.dom.classList.add(b);this.currentClass=m}}positioned(i){this.space=i,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let i=this.view.state.field(this.stateField),m=i.open;if((m.selected>-1&&m.selected<this.range.from||m.selected>=this.range.to)&&(this.range=gs(m.options.length,m.selected,this.view.state.facet($r).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(m.options,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(m.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:b}=m.options[m.selected],{info:A}=b;if(!A)return;let B=typeof A=="string"?document.createTextNode(A):A(b);if(!B)return;"then"in B?B.then(se=>{se&&this.view.state.field(this.stateField,!1)==i&&this.addInfoPane(se)}).catch(se=>(0,D.OO)(this.view.state,se,"completion info")):this.addInfoPane(B)}}addInfoPane(i){let m=this.info=document.createElement("div");m.className="cm-tooltip cm-completionInfo",m.appendChild(i),this.dom.appendChild(m),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(i){let m=null;for(let b=this.list.firstChild,A=this.range.from;b;b=b.nextSibling,A++)b.nodeName!="LI"||!b.id?A--:A==i?b.hasAttribute("aria-selected")||(b.setAttribute("aria-selected","true"),m=b):b.hasAttribute("aria-selected")&&b.removeAttribute("aria-selected");return m&&Ca(this.list,m),m}measureInfo(){let i=this.dom.querySelector("[aria-selected]");if(!i||!this.info)return null;let m=this.dom.getBoundingClientRect(),b=this.info.getBoundingClientRect(),A=i.getBoundingClientRect(),B=this.space;if(!B){let se=this.dom.ownerDocument.defaultView||window;B={left:0,top:0,right:se.innerWidth,bottom:se.innerHeight}}return A.top>Math.min(B.bottom,m.bottom)-10||A.bottom<Math.max(B.top,m.top)+10?null:this.view.state.facet($r).positionInfo(this.view,m,A,b,B)}placeInfo(i){this.info&&(i?(i.style&&(this.info.style.cssText=i.style),this.info.className="cm-tooltip cm-completionInfo "+(i.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(i,m,b){const A=document.createElement("ul");A.id=m,A.setAttribute("role","listbox"),A.setAttribute("aria-expanded","true"),A.setAttribute("aria-label",this.view.state.phrase("Completions"));let B=null;for(let se=b.from;se<b.to;se++){let{completion:Ce,match:$e}=i[se],{section:yt}=Ce;if(yt){let on=typeof yt=="string"?yt:yt.name;if(on!=B&&(se>b.from||b.from==0))if(B=on,typeof yt!="string"&&yt.header)A.appendChild(yt.header(yt));else{let In=A.appendChild(document.createElement("completion-section"));In.textContent=on}}const _t=A.appendChild(document.createElement("li"));_t.id=m+"-"+se,_t.setAttribute("role","option");let sr=this.optionClass(Ce);sr&&(_t.className=sr);for(let on of this.optionContent){let In=on(Ce,this.view.state,$e);In&&_t.appendChild(In)}}return b.from&&A.classList.add("cm-completionListIncompleteTop"),b.to<i.length&&A.classList.add("cm-completionListIncompleteBottom"),A}}function Is(f){return i=>new xo(i,f)}function Ca(f,i){let m=f.getBoundingClientRect(),b=i.getBoundingClientRect();b.top<m.top?f.scrollTop-=m.top-b.top:b.bottom>m.bottom&&(f.scrollTop+=b.bottom-m.bottom)}function ko(f){return(f.boost||0)*100+(f.apply?10:0)+(f.info?5:0)+(f.type?1:0)}function Rs(f,i){let m=[],b=null,A=$e=>{m.push($e);let{section:yt}=$e.completion;if(yt){b||(b=[]);let _t=typeof yt=="string"?yt:yt.name;b.some(sr=>sr.name==_t)||b.push(typeof yt=="string"?{name:_t}:yt)}};for(let $e of f)if($e.hasResult())if($e.result.filter===!1){let yt=$e.result.getMatch;for(let _t of $e.result.options){let sr=[1e9-m.length];if(yt)for(let on of yt(_t))sr.push(on);A(new _s(_t,$e.source,sr,sr[0]))}}else{let yt=new fr(i.sliceDoc($e.from,$e.to)),_t;for(let sr of $e.result.options)(_t=yt.match(sr.label))&&A(new _s(sr,$e.source,_t,_t[0]+(sr.boost||0)))}if(b){let $e=Object.create(null),yt=0,_t=(sr,on)=>{var In,Li;return((In=sr.rank)!==null&&In!==void 0?In:1e9)-((Li=on.rank)!==null&&Li!==void 0?Li:1e9)||(sr.name<on.name?-1:1)};for(let sr of b.sort(_t))yt-=1e5,$e[sr.name]=yt;for(let sr of m){let{section:on}=sr.completion;on&&(sr.score+=$e[typeof on=="string"?on:on.name])}}let B=[],se=null,Ce=i.facet($r).compareCompletions;for(let $e of m.sort((yt,_t)=>_t.score-yt.score||Ce(yt.completion,_t.completion)))!se||se.label!=$e.completion.label||se.detail!=$e.completion.detail||se.type!=null&&$e.completion.type!=null&&se.type!=$e.completion.type||se.apply!=$e.completion.apply?B.push($e):ko($e.completion)>ko(se)&&(B[B.length-1]=$e),se=$e.completion;return B}class ys{constructor(i,m,b,A,B,se){this.options=i,this.attrs=m,this.tooltip=b,this.timestamp=A,this.selected=B,this.disabled=se}setSelected(i,m){return i==this.selected||i>=this.options.length?this:new ys(this.options,vs(m,i),this.tooltip,this.timestamp,i,this.disabled)}static build(i,m,b,A,B){let se=Rs(i,m);if(!se.length)return A&&i.some($e=>$e.state==1)?new ys(A.options,A.attrs,A.tooltip,A.timestamp,A.selected,!0):null;let Ce=m.facet($r).selectOnOpen?0:-1;if(A&&A.selected!=Ce&&A.selected!=-1){let $e=A.options[A.selected].completion;for(let yt=0;yt<se.length;yt++)if(se[yt].completion==$e){Ce=yt;break}}return new ys(se,vs(b,Ce),{pos:i.reduce(($e,yt)=>yt.hasResult()?Math.min($e,yt.from):$e,1e8),create:Is(Zi),above:B.aboveCursor},A?A.timestamp:Date.now(),Ce,!1)}map(i){return new ys(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:i.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Co{constructor(i,m,b){this.active=i,this.id=m,this.open=b}static start(){return new Co(aa,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(i){let{state:m}=i,b=m.facet($r),B=(b.override||m.languageDataAt("autocomplete",Do(m)).map(mo)).map(Ce=>(this.active.find(yt=>yt.source==Ce)||new io(Ce,this.active.some(yt=>yt.state!=0)?1:0)).update(i,b));B.length==this.active.length&&B.every((Ce,$e)=>Ce==this.active[$e])&&(B=this.active);let se=this.open;se&&i.docChanged&&(se=se.map(i.changes)),i.selection||B.some(Ce=>Ce.hasResult()&&i.changes.touchesRange(Ce.from,Ce.to))||!sa(B,this.active)?se=ys.build(B,m,this.id,se,b):se&&se.disabled&&!B.some(Ce=>Ce.state==1)&&(se=null),!se&&B.every(Ce=>Ce.state!=1)&&B.some(Ce=>Ce.hasResult())&&(B=B.map(Ce=>Ce.hasResult()?new io(Ce.source,0):Ce));for(let Ce of i.effects)Ce.is(Pa)&&(se=se&&se.setSelected(Ce.value,this.id));return B==this.active&&se==this.open?this:new Co(B,this.id,se)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Ba}}function sa(f,i){if(f==i)return!0;for(let m=0,b=0;;){for(;m<f.length&&!f[m].hasResult;)m++;for(;b<i.length&&!i[b].hasResult;)b++;let A=m==f.length,B=b==i.length;if(A||B)return A==B;if(f[m++].result!=i[b++].result)return!1}}const Ba={"aria-autocomplete":"list"};function vs(f,i){let m={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":f};return i>-1&&(m["aria-activedescendant"]=f+"-"+i),m}const aa=[];function qo(f){return f.isUserEvent("input.type")?"input":f.isUserEvent("delete.backward")?"delete":null}class io{constructor(i,m,b=-1){this.source=i,this.state=m,this.explicitPos=b}hasResult(){return!1}update(i,m){let b=qo(i),A=this;b?A=A.handleUserEvent(i,b,m):i.docChanged?A=A.handleChange(i):i.selection&&A.state!=0&&(A=new io(A.source,0));for(let B of i.effects)if(B.is(ln))A=new io(A.source,1,B.value?Do(i.state):-1);else if(B.is(br))A=new io(A.source,0);else if(B.is(la))for(let se of B.value)se.source==A.source&&(A=se);return A}handleUserEvent(i,m,b){return m=="delete"||!b.activateOnTyping?this.map(i.changes):new io(this.source,1)}handleChange(i){return i.changes.touchesRange(Do(i.startState))?new io(this.source,0):this.map(i.changes)}map(i){return i.empty||this.explicitPos<0?this:new io(this.source,this.state,i.mapPos(this.explicitPos))}}class po extends io{constructor(i,m,b,A,B){super(i,2,m),this.result=b,this.from=A,this.to=B}hasResult(){return!0}handleUserEvent(i,m,b){var A;let B=i.changes.mapPos(this.from),se=i.changes.mapPos(this.to,1),Ce=Do(i.state);if((this.explicitPos<0?Ce<=B:Ce<this.from)||Ce>se||m=="delete"&&Do(i.startState)==this.from)return new io(this.source,m=="input"&&b.activateOnTyping?1:0);let $e=this.explicitPos<0?-1:i.changes.mapPos(this.explicitPos),yt;return tl(this.result.validFor,i.state,B,se)?new po(this.source,$e,this.result,B,se):this.result.update&&(yt=this.result.update(this.result,B,se,new fo(i.state,Ce,$e>=0)))?new po(this.source,$e,yt,yt.from,(A=yt.to)!==null&&A!==void 0?A:Do(i.state)):new io(this.source,1,$e)}handleChange(i){return i.changes.touchesRange(this.from,this.to)?new io(this.source,0):this.map(i.changes)}map(i){return i.empty?this:new po(this.source,this.explicitPos<0?-1:i.mapPos(this.explicitPos),this.result,i.mapPos(this.from),i.mapPos(this.to,1))}}function tl(f,i,m,b){if(!f)return!1;let A=i.sliceDoc(m,b);return typeof f=="function"?f(A,m,b,i):Un(f,!0).test(A)}const la=O.Py.define({map(f,i){return f.map(m=>m.map(i))}}),Pa=O.Py.define(),Zi=O.QQ.define({create(){return Co.start()},update(f,i){return f.update(i)},provide:f=>[D.hJ.from(f,i=>i.tooltip),D.tk.contentAttributes.from(f,i=>i.attrs)]}),Aa=D.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class yo{constructor(i,m,b,A){this.field=i,this.line=m,this.from=b,this.to=A}}class ls{constructor(i,m,b){this.field=i,this.from=m,this.to=b}map(i){let m=i.mapPos(this.from,-1,MapMode.TrackDel),b=i.mapPos(this.to,1,MapMode.TrackDel);return m==null||b==null?null:new ls(this.field,m,b)}}class vo{constructor(i,m){this.lines=i,this.fieldPositions=m}instantiate(i,m){let b=[],A=[m],B=i.doc.lineAt(m),se=/^\s*/.exec(B.text)[0];for(let $e of this.lines){if(b.length){let yt=se,_t=/^\t*/.exec($e)[0].length;for(let sr=0;sr<_t;sr++)yt+=i.facet(indentUnit);A.push(m+yt.length-_t),$e=yt+$e.slice(_t)}b.push($e),m+=$e.length+1}let Ce=this.fieldPositions.map($e=>new ls($e.field,A[$e.line]+$e.from,A[$e.line]+$e.to));return{text:b,ranges:Ce}}static parse(i){let m=[],b=[],A=[],B;for(let se of i.split(/\r\n?|\n/)){for(;B=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(se);){let Ce=B[1]?+B[1]:null,$e=B[2]||B[3]||"",yt=-1;for(let _t=0;_t<m.length;_t++)(Ce!=null?m[_t].seq==Ce:$e&&m[_t].name==$e)&&(yt=_t);if(yt<0){let _t=0;for(;_t<m.length&&(Ce==null||m[_t].seq!=null&&m[_t].seq<Ce);)_t++;m.splice(_t,0,{seq:Ce,name:$e}),yt=_t;for(let sr of A)sr.field>=yt&&sr.field++}A.push(new yo(yt,b.length,B.index,B.index+$e.length)),se=se.slice(0,B.index)+$e+se.slice(B.index+B[0].length)}for(let Ce;Ce=/\\([{}])/.exec(se);){se=se.slice(0,Ce.index)+Ce[1]+se.slice(Ce.index+Ce[0].length);for(let $e of A)$e.line==b.length&&$e.from>Ce.index&&($e.from--,$e.to--)}b.push(se)}return new vo(b,A)}}let Hs=D.p.widget({widget:new class extends D.l9{toDOM(){let f=document.createElement("span");return f.className="cm-snippetFieldPosition",f}ignoreEvent(){return!1}}}),Fs=D.p.mark({class:"cm-snippetField"});class us{constructor(i,m){this.ranges=i,this.active=m,this.deco=D.p.set(i.map(b=>(b.from==b.to?Hs:Fs).range(b.from,b.to)))}map(i){let m=[];for(let b of this.ranges){let A=b.map(i);if(!A)return null;m.push(A)}return new us(m,this.active)}selectionInsideField(i){return i.ranges.every(m=>this.ranges.some(b=>b.field==this.active&&b.from<=m.from&&b.to>=m.to))}}const bs=O.Py.define({map(f,i){return f&&f.map(i)}}),ua=O.Py.define(),Ss=O.QQ.define({create(){return null},update(f,i){for(let m of i.effects){if(m.is(bs))return m.value;if(m.is(ua)&&f)return new us(f.ranges,m.value)}return f&&i.docChanged&&(f=f.map(i.changes)),f&&i.selection&&!f.selectionInsideField(i.selection)&&(f=null),f},provide:f=>D.tk.decorations.from(f,i=>i?i.deco:D.p.none)});function Gi(f,i){return O.jT.create(f.filter(m=>m.field==i).map(m=>O.jT.range(m.from,m.to)))}function Ns(f){let i=vo.parse(f);return(m,b,A,B)=>{let{text:se,ranges:Ce}=i.instantiate(m.state,A),$e={changes:{from:A,to:B,insert:Text.of(se)},scrollIntoView:!0,annotations:b?Ji.of(b):void 0};if(Ce.length&&($e.selection=Gi(Ce,0)),Ce.length>1){let yt=new us(Ce,0),_t=$e.effects=[bs.of(yt)];m.state.field(Ss,!1)===void 0&&_t.push(StateEffect.appendConfig.of([Ss,Po,Wa,Aa]))}m.dispatch(m.state.update($e))}}function es(f){return({state:i,dispatch:m})=>{let b=i.field(Ss,!1);if(!b||f<0&&b.active==0)return!1;let A=b.active+f,B=f>0&&!b.ranges.some(se=>se.field==A+f);return m(i.update({selection:Gi(b.ranges,A),effects:bs.of(B?null:new us(b.ranges,A))})),!0}}const Ga=({state:f,dispatch:i})=>f.field(Ss,!1)?(i(f.update({effects:bs.of(null)})),!0):!1,Vo=es(1),Ta=es(-1);function ca(f){let i=f.field(Ss,!1);return!!(i&&i.ranges.some(m=>m.field==i.active+1))}function Es(f){let i=f.field(Ss,!1);return!!(i&&i.active>0)}const rl=[{key:"Tab",run:Vo,shift:Ta},{key:"Escape",run:Ga}],Ai=O.r$.define({combine(f){return f.length?f[0]:rl}}),Po=O.Wl.highest(D.$f.compute([Ai],f=>f.facet(Ai)));function cs(f,i){return Object.assign(Object.assign({},i),{apply:Ns(f)})}const Wa=D.tk.domEventHandlers({mousedown(f,i){let m=i.state.field(Ss,!1),b;if(!m||(b=i.posAtCoords({x:f.clientX,y:f.clientY}))==null)return!1;let A=m.ranges.find(B=>B.from<=b&&B.to>=b);return!A||A.field==m.active?!1:(i.dispatch({selection:Gi(m.ranges,A.field),effects:bs.of(m.ranges.some(B=>B.field>A.field)?new us(m.ranges,A.field):null)}),!0)}});function _a(f){let i=f.replace(/[\\[.+*?(){|^$]/g,"\\$&");try{return new RegExp(`[\\p{Alphabetic}\\p{Number}_${i}]+`,"ug")}catch{return new RegExp(`[w${i}]`,"g")}}function Js(f,i){return new RegExp(i(f.source),f.unicode?"u":"")}const js=null;function fa(f){return js[f]||(js[f]=new WeakMap)}function da(f,i,m,b,A){for(let B=f.iterLines(),se=0;!B.next().done;){let{value:Ce}=B,$e;for(i.lastIndex=0;$e=i.exec(Ce);)if(!b[$e[0]]&&se+$e.index!=A&&(m.push({type:"text",label:$e[0]}),b[$e[0]]=!0,m.length>=2e3))return;se+=Ce.length+1}}function Gs(f,i,m,b,A){let B=f.length>=1e3,se=B&&i.get(f);if(se)return se;let Ce=[],$e=Object.create(null);if(f.children){let yt=0;for(let _t of f.children){if(_t.length>=1e3)for(let sr of Gs(_t,i,m,b-yt,A-yt))$e[sr.label]||($e[sr.label]=!0,Ce.push(sr));else da(_t,m,Ce,$e,A-yt);yt+=_t.length+1}}else da(f,m,Ce,$e,A);return B&&Ce.length<2e3&&i.set(f,Ce),Ce}const Ya=f=>{let i=f.state.languageDataAt("wordChars",f.pos).join(""),m=_a(i),b=f.matchBefore(Js(m,se=>se+"$"));if(!b&&!f.explicit)return null;let A=b?b.from:f.pos,B=Gs(f.state.doc,fa(i),m,5e4,A);return{from:A,options:B,validFor:Js(m,se=>"^"+se)}},Mo={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ko=O.Py.define({map(f,i){let m=i.mapPos(f,-1,O.gc.TrackAfter);return m==null?void 0:m}}),ws=new class extends O.uU{};ws.startSide=1,ws.endSide=-1;const ts=O.QQ.define({create(){return O.Xs.empty},update(f,i){if(i.selection){let m=i.state.doc.lineAt(i.selection.main.head).from,b=i.startState.doc.lineAt(i.startState.selection.main.head).from;m!=i.changes.mapPos(b,-1)&&(f=O.Xs.empty)}f=f.map(i.changes);for(let m of i.effects)m.is(Ko)&&(f=f.update({add:[ws.range(m.value,m.value+1)]}));return f}});function ha(){return[Za,ts]}const fs="()[]{}<>";function Gn(f){for(let i=0;i<fs.length;i+=2)if(fs.charCodeAt(i)==f)return fs.charAt(i+1);return(0,O.bg)(f<128?f:f+1)}function Da(f,i){return f.languageDataAt("closeBrackets",i)[0]||Mo}const ka=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Za=D.tk.inputHandler.of((f,i,m,b)=>{if((ka?f.composing:f.compositionStarted)||f.state.readOnly)return!1;let A=f.state.selection.main;if(b.length>2||b.length==2&&(0,O.nZ)((0,O.gm)(b,0))==1||i!=A.from||m!=A.to)return!1;let B=Va(f.state,b);return B?(f.dispatch(B),!0):!1}),Ua=[{key:"Backspace",run:({state:f,dispatch:i})=>{if(f.readOnly)return!1;let b=Da(f,f.selection.main.head).brackets||Mo.brackets,A=null,B=f.changeByRange(se=>{if(se.empty){let Ce=Xs(f.doc,se.head);for(let $e of b)if($e==Ce&&Yi(f.doc,se.head)==Gn((0,O.gm)($e,0)))return{changes:{from:se.head-$e.length,to:se.head+$e.length},range:O.jT.cursor(se.head-$e.length)}}return{range:A=se}});return A||i(f.update(B,{scrollIntoView:!0,userEvent:"delete.backward"})),!A}}];function Va(f,i){let m=Da(f,f.selection.main.head),b=m.brackets||Mo.brackets;for(let A of b){let B=Gn((0,O.gm)(A,0));if(i==A)return B==A?bo(f,A,b.indexOf(A+A+A)>-1,m):zo(f,A,B,m.before||Mo.before);if(i==B&&ma(f,f.selection.main.from))return Ao(f,A,B)}return null}function ma(f,i){let m=!1;return f.field(ts).between(0,f.doc.length,b=>{b==i&&(m=!0)}),m}function Yi(f,i){let m=f.sliceString(i,i+2);return m.slice(0,(0,O.nZ)((0,O.gm)(m,0)))}function Xs(f,i){let m=f.sliceString(i-2,i);return(0,O.nZ)((0,O.gm)(m,0))==m.length?m:m.slice(1)}function zo(f,i,m,b){let A=null,B=f.changeByRange(se=>{if(!se.empty)return{changes:[{insert:i,from:se.from},{insert:m,from:se.to}],effects:Ko.of(se.to+i.length),range:O.jT.range(se.anchor+i.length,se.head+i.length)};let Ce=Yi(f.doc,se.head);return!Ce||/\s/.test(Ce)||b.indexOf(Ce)>-1?{changes:{insert:i+m,from:se.head},effects:Ko.of(se.head+i.length),range:O.jT.cursor(se.head+i.length)}:{range:A=se}});return A?null:f.update(B,{scrollIntoView:!0,userEvent:"input.type"})}function Ao(f,i,m){let b=null,A=f.changeByRange(B=>B.empty&&Yi(f.doc,B.head)==m?{changes:{from:B.head,to:B.head+m.length,insert:m},range:O.jT.cursor(B.head+m.length)}:b={range:B});return b?null:f.update(A,{scrollIntoView:!0,userEvent:"input.type"})}function bo(f,i,m,b){let A=b.stringPrefixes||Mo.stringPrefixes,B=null,se=f.changeByRange(Ce=>{if(!Ce.empty)return{changes:[{insert:i,from:Ce.from},{insert:i,from:Ce.to}],effects:Ko.of(Ce.to+i.length),range:O.jT.range(Ce.anchor+i.length,Ce.head+i.length)};let $e=Ce.head,yt=Yi(f.doc,$e),_t;if(yt==i){if(Ho(f,$e))return{changes:{insert:i+i,from:$e},effects:Ko.of($e+i.length),range:O.jT.cursor($e+i.length)};if(ma(f,$e)){let on=m&&f.sliceDoc($e,$e+i.length*3)==i+i+i?i+i+i:i;return{changes:{from:$e,to:$e+on.length,insert:on},range:O.jT.cursor($e+on.length)}}}else{if(m&&f.sliceDoc($e-2*i.length,$e)==i+i&&(_t=N(f,$e-2*i.length,A))>-1&&Ho(f,_t))return{changes:{insert:i+i+i+i,from:$e},effects:Ko.of($e+i.length),range:O.jT.cursor($e+i.length)};if(f.charCategorizer($e)(yt)!=O.D0.Word&&N(f,$e,A)>-1&&!C(f,$e,i,A))return{changes:{insert:i+i,from:$e},effects:Ko.of($e+i.length),range:O.jT.cursor($e+i.length)}}return{range:B=Ce}});return B?null:f.update(se,{scrollIntoView:!0,userEvent:"input.type"})}function Ho(f,i){let m=(0,k.qz)(f).resolveInner(i+1);return m.parent&&m.from==i}function C(f,i,m,b){let A=(0,k.qz)(f).resolveInner(i,-1),B=b.reduce((se,Ce)=>Math.max(se,Ce.length),0);for(let se=0;se<5;se++){let Ce=f.sliceDoc(A.from,Math.min(A.to,A.from+m.length+B)),$e=Ce.indexOf(m);if(!$e||$e>-1&&b.indexOf(Ce.slice(0,$e))>-1){let _t=A.firstChild;for(;_t&&_t.from==A.from&&_t.to-_t.from>m.length+$e;){if(f.sliceDoc(_t.to-m.length,_t.to)==m)return!1;_t=_t.firstChild}return!0}let yt=A.to==i&&A.parent;if(!yt)break;A=yt}return!1}function N(f,i,m){let b=f.charCategorizer(i);if(b(f.sliceDoc(i-1,i))!=O.D0.Word)return i;for(let A of m){let B=i-A.length;if(f.sliceDoc(B,i)==A&&b(f.sliceDoc(B-1,B))!=O.D0.Word)return B}return-1}function G(f={}){return[Zi,$r.of(f),Ms,Ae,Aa]}const ye=[{key:"Ctrl-Space",run:$i},{key:"Escape",run:ia},{key:"ArrowDown",run:ri(!0)},{key:"ArrowUp",run:ri(!1)},{key:"PageDown",run:ri(!0,"page")},{key:"PageUp",run:ri(!1,"page")},{key:"Enter",run:wi}],Ae=O.Wl.highest(D.$f.computeN([$r],f=>f.facet($r).defaultKeymap?[ye]:[]));function De(f){let i=f.field(Zi,!1);return i&&i.active.some(m=>m.state==1)?"pending":i&&i.active.some(m=>m.state!=0)?"active":null}const st=new WeakMap;function xt(f){var i;let m=(i=f.field(Zi,!1))===null||i===void 0?void 0:i.open;if(!m||m.disabled)return[];let b=st.get(m.options);return b||st.set(m.options,b=m.options.map(A=>A.completion)),b}function Bt(f){var i;let m=(i=f.field(Zi,!1))===null||i===void 0?void 0:i.open;return m&&!m.disabled&&m.selected>=0?m.options[m.selected].completion:null}function or(f){var i;let m=(i=f.field(Zi,!1))===null||i===void 0?void 0:i.open;return m&&!m.disabled&&m.selected>=0?m.selected:null}function Er(f){return Pa.of(f)}class mr{constructor(i,m,b){this.from=i,this.to=m,this.diagnostic=b}}class nr{constructor(i,m,b){this.diagnostics=i,this.panel=m,this.selected=b}static init(i,m,b){let A=i,B=b.facet(g).markerFilter;B&&(A=B(A));let se=D.p.set(A.map(Ce=>Ce.from==Ce.to||Ce.from==Ce.to-1&&b.doc.lineAt(Ce.from).to==Ce.from?D.p.widget({widget:new lt(Ce),diagnostic:Ce}).range(Ce.from):D.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+Ce.severity},diagnostic:Ce}).range(Ce.from,Ce.to)),!0);return new nr(se,m,Jr(se))}}function Jr(f,i=null,m=0){let b=null;return f.between(m,1e9,(A,B,{spec:se})=>{if(!(i&&se.diagnostic!=i))return b=new mr(A,B,se.diagnostic),!1}),b}function xn(f,i){return!!(f.effects.some(m=>m.is(Mr))||f.changes.touchesRange(i.pos))}function _n(f,i){return f.field(oi,!1)?i:i.concat(O.Py.appendConfig.of(he))}function jn(f,i){return{effects:_n(f,[Mr.of(i)])}}const Mr=O.Py.define(),yn=O.Py.define(),oo=O.Py.define(),oi=O.QQ.define({create(){return new nr(D.p.none,null,null)},update(f,i){if(i.docChanged){let m=f.diagnostics.map(i.changes),b=null;if(f.selected){let A=i.changes.mapPos(f.selected.from,1);b=Jr(m,f.selected.diagnostic,A)||Jr(m,null,A)}f=new nr(m,f.panel,b)}for(let m of i.effects)m.is(Mr)?f=nr.init(m.value,f.panel,i.state):m.is(yn)?f=new nr(f.diagnostics,m.value?vt.open:null,f.selected):m.is(oo)&&(f=new nr(f.diagnostics,f.panel,m.value));return f},provide:f=>[D.mH.from(f,i=>i.panel),D.tk.decorations.from(f,i=>i.diagnostics)]});function Rr(f){let i=f.field(oi,!1);return i?i.diagnostics.size:0}const ds=D.p.mark({class:"cm-lintRange cm-lintRange-active"});function pa(f,i,m){let{diagnostics:b}=f.state.field(oi),A=[],B=2e8,se=0;b.between(i-(m<0?1:0),i+(m>0?1:0),($e,yt,{spec:_t})=>{i>=$e&&i<=yt&&($e==yt||(i>$e||m>0)&&(i<yt||m<0))&&(A.push(_t.diagnostic),B=Math.min($e,B),se=Math.max(yt,se))});let Ce=f.state.facet(g).tooltipFilter;return Ce&&(A=Ce(A)),A.length?{pos:B,end:se,above:f.state.doc.lineAt(B).to<se,create(){return{dom:Ci(f,A)}}}:null}function Ci(f,i){return ii("ul",{class:"cm-tooltip-lint"},i.map(m=>et(f,m,!1)))}const Qs=f=>{let i=f.state.field(oi,!1);(!i||!i.panel)&&f.dispatch({effects:_n(f.state,[yn.of(!0)])});let m=(0,D.Sd)(f,vt.open);return m&&m.dom.querySelector(".cm-panel-lint ul").focus(),!0},ga=f=>{let i=f.state.field(oi,!1);return!i||!i.panel?!1:(f.dispatch({effects:yn.of(!1)}),!0)},h=[{key:"Mod-Shift-m",run:Qs,preventDefault:!0},{key:"F8",run:f=>{let i=f.state.field(oi,!1);if(!i)return!1;let m=f.state.selection.main,b=i.diagnostics.iter(m.to+1);return!b.value&&(b=i.diagnostics.iter(0),!b.value||b.from==m.from&&b.to==m.to)?!1:(f.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0}),!0)}}],x=null,g=O.r$.define({combine(f){return Object.assign({sources:f.map(i=>i.source)},(0,O.BO)(f.map(i=>i.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(i,m)=>i?m?b=>i(b)||m(b):i:m}))}});function j(f,i={}){return[g.of({source:f,config:i}),x,he]}function de(f){let i=f.plugin(x);i&&i.force()}function Qe(f){let i=[];if(f)e:for(let{name:m}of f){for(let b=0;b<m.length;b++){let A=m[b];if(/[a-zA-Z]/.test(A)&&!i.some(B=>B.toLowerCase()==A.toLowerCase())){i.push(A);continue e}}i.push("")}return i}function et(f,i,m){var b;let A=m?Qe(i.actions):[];return ii("li",{class:"cm-diagnostic cm-diagnostic-"+i.severity},ii("span",{class:"cm-diagnosticText"},i.renderMessage?i.renderMessage():i.message),(b=i.actions)===null||b===void 0?void 0:b.map((B,se)=>{let Ce=!1,$e=on=>{if(on.preventDefault(),Ce)return;Ce=!0;let In=Jr(f.state.field(oi).diagnostics,i);In&&B.apply(f,In.from,In.to)},{name:yt}=B,_t=A[se]?yt.indexOf(A[se]):-1,sr=_t<0?yt:[yt.slice(0,_t),ii("u",yt.slice(_t,_t+1)),yt.slice(_t+1)];return ii("button",{type:"button",class:"cm-diagnosticAction",onclick:$e,onmousedown:$e,"aria-label":` Action: ${yt}${_t<0?"":` (access key "${A[se]})"`}.`},sr)}),i.source&&ii("div",{class:"cm-diagnosticSource"},i.source))}class lt extends D.l9{constructor(i){super(),this.diagnostic=i}eq(i){return i.diagnostic==this.diagnostic}toDOM(){return ii("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class mt{constructor(i,m){this.diagnostic=m,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=et(i,m,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vt{constructor(i){this.view=i,this.items=[];let m=A=>{if(A.keyCode==27)ga(this.view),this.view.focus();else if(A.keyCode==38||A.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(A.keyCode==40||A.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(A.keyCode==36)this.moveSelection(0);else if(A.keyCode==35)this.moveSelection(this.items.length-1);else if(A.keyCode==13)this.view.focus();else if(A.keyCode>=65&&A.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:B}=this.items[this.selectedIndex],se=Qe(B.actions);for(let Ce=0;Ce<se.length;Ce++)if(se[Ce].toUpperCase().charCodeAt(0)==A.keyCode){let $e=Jr(this.view.state.field(oi).diagnostics,B);$e&&B.actions[Ce].apply(i,$e.from,$e.to)}}else return;A.preventDefault()},b=A=>{for(let B=0;B<this.items.length;B++)this.items[B].dom.contains(A.target)&&this.moveSelection(B)};this.list=ii("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:m,onclick:b}),this.dom=ii("div",{class:"cm-panel-lint"},this.list,ii("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ga(this.view)},"\xD7")),this.update()}get selectedIndex(){let i=this.view.state.field(oi).selected;if(!i)return-1;for(let m=0;m<this.items.length;m++)if(this.items[m].diagnostic==i.diagnostic)return m;return-1}update(){let{diagnostics:i,selected:m}=this.view.state.field(oi),b=0,A=!1,B=null;for(i.between(0,this.view.state.doc.length,(se,Ce,{spec:$e})=>{let yt=-1,_t;for(let sr=b;sr<this.items.length;sr++)if(this.items[sr].diagnostic==$e.diagnostic){yt=sr;break}yt<0?(_t=new mt(this.view,$e.diagnostic),this.items.splice(b,0,_t),A=!0):(_t=this.items[yt],yt>b&&(this.items.splice(b,yt-b),A=!0)),m&&_t.diagnostic==m.diagnostic?_t.dom.hasAttribute("aria-selected")||(_t.dom.setAttribute("aria-selected","true"),B=_t):_t.dom.hasAttribute("aria-selected")&&_t.dom.removeAttribute("aria-selected"),b++});b<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)A=!0,this.items.pop();this.items.length==0&&(this.items.push(new mt(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),A=!0),B?(this.list.setAttribute("aria-activedescendant",B.id),this.view.requestMeasure({key:this,read:()=>({sel:B.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:se,panel:Ce})=>{se.top<Ce.top?this.list.scrollTop-=Ce.top-se.top:se.bottom>Ce.bottom&&(this.list.scrollTop+=se.bottom-Ce.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),A&&this.sync()}sync(){let i=this.list.firstChild;function m(){let b=i;i=b.nextSibling,b.remove()}for(let b of this.items)if(b.dom.parentNode==this.list){for(;i!=b.dom;)m();i=b.dom.nextSibling}else this.list.insertBefore(b.dom,i);for(;i;)m()}moveSelection(i){if(this.selectedIndex<0)return;let m=this.view.state.field(oi),b=Jr(m.diagnostics,this.items[i].diagnostic);b&&this.view.dispatch({selection:{anchor:b.from,head:b.to},scrollIntoView:!0,effects:oo.of(b)})}static open(i){return new vt(i)}}function At(f,i='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${i}>${encodeURIComponent(f)}</svg>')`}function Xt(f){return At(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${f}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const ar=D.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Xt("#d11")},".cm-lintRange-warning":{backgroundImage:Xt("orange")},".cm-lintRange-info":{backgroundImage:Xt("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class l extends D.SJ{constructor(i){super(),this.diagnostics=i,this.severity=i.reduce((m,b)=>{let A=b.severity;return A=="error"||A=="warning"&&m=="info"?A:m},"info")}toDOM(i){let m=document.createElement("div");m.className="cm-lint-marker cm-lint-marker-"+this.severity;let b=this.diagnostics,A=i.state.facet(ue).tooltipFilter;return A&&(b=A(b)),b.length&&(m.onmouseover=()=>t(i,m,b)),m}}function e(f,i){let m=b=>{let A=i.getBoundingClientRect();if(!(b.clientX>A.left-10&&b.clientX<A.right+10&&b.clientY>A.top-10&&b.clientY<A.bottom+10)){for(let B=b.target;B;B=B.parentNode)if(B.nodeType==1&&B.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",m),f.state.field(W)&&f.dispatch({effects:P.of(null)})}};window.addEventListener("mousemove",m)}function t(f,i,m){function b(){let se=f.elementAtHeight(i.getBoundingClientRect().top+5-f.documentTop);f.coordsAtPos(se.from)&&f.dispatch({effects:P.of({pos:se.from,above:!1,create(){return{dom:Ci(f,m),getCoords:()=>i.getBoundingClientRect()}}})}),i.onmouseout=i.onmousemove=null,e(f,i)}let{hoverTime:A}=f.state.facet(ue),B=setTimeout(b,A);i.onmouseout=()=>{clearTimeout(B),i.onmouseout=i.onmousemove=null},i.onmousemove=()=>{clearTimeout(B),B=setTimeout(b,A)}}function o(f,i){let m=Object.create(null);for(let A of i){let B=f.lineAt(A.from);(m[B.from]||(m[B.from]=[])).push(A)}let b=[];for(let A in m)b.push(new l(m[A]).range(+A));return O.Xs.of(b,!0)}const c=(0,D.v5)({class:"cm-gutter-lint",markers:f=>f.state.field(v)}),v=O.QQ.define({create(){return O.Xs.empty},update(f,i){f=f.map(i.changes);let m=i.state.facet(ue).markerFilter;for(let b of i.effects)if(b.is(Mr)){let A=b.value;m&&(A=m(A||[])),f=o(i.state.doc,A.slice(0))}return f}}),P=O.Py.define(),W=O.QQ.define({create(){return null},update(f,i){return f&&i.docChanged&&(f=xn(i,f)?null:Object.assign(Object.assign({},f),{pos:i.changes.mapPos(f.pos)})),i.effects.reduce((m,b)=>b.is(P)?b.value:m,f)},provide:f=>D.hJ.from(f)}),X=D.tk.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:At('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:At('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:At('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),he=[oi,D.tk.decorations.compute([oi],f=>{let{selected:i,panel:m}=f.field(oi);return!i||!m||i.from==i.to?D.p.none:D.p.set([ds.range(i.from,i.to)])}),(0,D.bF)(pa,{hideOn:xn}),ar],ue=O.r$.define({combine(f){return(0,O.BO)(f,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function je(f={}){return[ue.of(f),v,c,X,W]}function ft(f,i){let m=f.field(oi,!1);if(m&&m.diagnostics.size)for(let b=RangeSet.iter([m.diagnostics]);b.value;b.next())i(b.value.spec.diagnostic,b.from,b.to)}var Et=function(i){i===void 0&&(i={});var m=[];i.closeBracketsKeymap!==!1&&(m=m.concat(Ua)),i.defaultKeymap!==!1&&(m=m.concat(Oa)),i.searchKeymap!==!1&&(m=m.concat(wo)),i.historyKeymap!==!1&&(m=m.concat(tt)),i.foldKeymap!==!1&&(m=m.concat(k.e7)),i.completionKeymap!==!1&&(m=m.concat(ye)),i.lintKeymap!==!1&&(m=m.concat(h));var b=[];return i.lineNumbers!==!1&&b.push((0,D.Eu)()),i.highlightActiveLineGutter!==!1&&b.push((0,D.HQ)()),i.highlightSpecialChars!==!1&&b.push((0,D.AE)()),i.history!==!1&&b.push(kt()),i.foldGutter!==!1&&b.push((0,k.mi)()),i.drawSelection!==!1&&b.push((0,D.Uw)()),i.dropCursor!==!1&&b.push((0,D.qr)()),i.allowMultipleSelections!==!1&&b.push(O.yy.allowMultipleSelections.of(!0)),i.indentOnInput!==!1&&b.push((0,k.nY)()),i.syntaxHighlighting!==!1&&b.push((0,k.nF)(k.R_,{fallback:!0})),i.bracketMatching!==!1&&b.push((0,k.n$)()),i.closeBrackets!==!1&&b.push(ha()),i.autocompletion!==!1&&b.push(G()),i.rectangularSelection!==!1&&b.push((0,D.Zs)()),i.crosshairCursor!==!1&&b.push((0,D.S2)()),i.highlightActiveLine!==!1&&b.push((0,D.ZO)()),i.highlightSelectionMatches!==!1&&b.push(Wi()),i.tabSize&&typeof i.tabSize=="number"&&b.push(k.c.of(" ".repeat(i.tabSize))),b.concat([D.$f.of(m.flat())]).filter(Boolean)},Nt=function(i){i===void 0&&(i={});var m=[];i.defaultKeymap!==!1&&(m=m.concat(defaultKeymap)),i.historyKeymap!==!1&&(m=m.concat(historyKeymap));var b=[];return i.highlightSpecialChars!==!1&&b.push(highlightSpecialChars()),i.history!==!1&&b.push(history()),i.drawSelection!==!1&&b.push(drawSelection()),i.syntaxHighlighting!==!1&&b.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),b.concat([keymap.of(m.flat())]).filter(Boolean)},Pt=a(86253);const Zt="#e5c07b",qt="#e06c75",Qr="#56b6c2",en="#ffffff",hn="#abb2bf",Dn="#7d8799",Vn="#61afef",Ii="#98c379",$o="#d19a66",Jo="#c678dd",Ka="#21252b",Xa="#2c313a",Qa="#282c34",Ma="#353a42",$a="#3E4451",qs="#528bff",nl={chalky:Zt,coral:qt,cyan:Qr,invalid:en,ivory:hn,stone:Dn,malibu:Vn,sage:Ii,whiskey:$o,violet:Jo,darkBackground:Ka,highlightBackground:Xa,background:Qa,tooltipBackground:Ma,selection:$a,cursor:qs},za=D.tk.theme({"&":{color:hn,backgroundColor:Qa},".cm-content":{caretColor:qs},".cm-cursor, .cm-dropCursor":{borderLeftColor:qs},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:$a},".cm-panels":{backgroundColor:Ka,color:hn},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Qa,color:Dn,border:"none"},".cm-activeLineGutter":{backgroundColor:Xa},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ma},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ma,borderBottomColor:Ma},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Xa,color:hn}}},{dark:!0}),il=k.Qf.define([{tag:Pt.pJ.keyword,color:Jo},{tag:[Pt.pJ.name,Pt.pJ.deleted,Pt.pJ.character,Pt.pJ.propertyName,Pt.pJ.macroName],color:qt},{tag:[Pt.pJ.function(Pt.pJ.variableName),Pt.pJ.labelName],color:Vn},{tag:[Pt.pJ.color,Pt.pJ.constant(Pt.pJ.name),Pt.pJ.standard(Pt.pJ.name)],color:$o},{tag:[Pt.pJ.definition(Pt.pJ.name),Pt.pJ.separator],color:hn},{tag:[Pt.pJ.typeName,Pt.pJ.className,Pt.pJ.number,Pt.pJ.changed,Pt.pJ.annotation,Pt.pJ.modifier,Pt.pJ.self,Pt.pJ.namespace],color:Zt},{tag:[Pt.pJ.operator,Pt.pJ.operatorKeyword,Pt.pJ.url,Pt.pJ.escape,Pt.pJ.regexp,Pt.pJ.link,Pt.pJ.special(Pt.pJ.string)],color:Qr},{tag:[Pt.pJ.meta,Pt.pJ.comment],color:Dn},{tag:Pt.pJ.strong,fontWeight:"bold"},{tag:Pt.pJ.emphasis,fontStyle:"italic"},{tag:Pt.pJ.strikethrough,textDecoration:"line-through"},{tag:Pt.pJ.link,color:Dn,textDecoration:"underline"},{tag:Pt.pJ.heading,fontWeight:"bold",color:qt},{tag:[Pt.pJ.atom,Pt.pJ.bool,Pt.pJ.special(Pt.pJ.variableName)],color:$o},{tag:[Pt.pJ.processingInstruction,Pt.pJ.string,Pt.pJ.inserted],color:Ii},{tag:Pt.pJ.invalid,color:en}]),ya=[za,(0,k.nF)(il)];var va=function(i){i===void 0&&(i={});var{indentWithTab:m=!0,editable:b=!0,readOnly:A=!1,theme:B="light",placeholder:se="",basicSetup:Ce=!0}=i,$e=[],yt=D.tk.theme({"&":{backgroundColor:"#fff"}},{dark:!1});switch(m&&$e.unshift(D.$f.of([ja])),Ce&&(typeof Ce=="boolean"?$e.unshift(Et()):$e.unshift(Et(Ce))),se&&$e.unshift((0,D.W$)(se)),B){case"light":$e.push(yt);break;case"dark":$e.push(ya);break;case"none":break;default:$e.push(B);break}return b===!1&&$e.push(D.tk.editable.of(!1)),A&&$e.push(O.yy.readOnly.of(!0)),[...$e]},Ol=f=>({line:f.state.doc.lineAt(f.state.selection.main.from),lineCount:f.state.doc.lines,lineBreak:f.state.lineBreak,length:f.state.doc.length,readOnly:f.state.readOnly,tabSize:f.state.tabSize,selection:f.state.selection,selectionAsSingle:f.state.selection.asSingle().main,ranges:f.state.selection.ranges,selectionCode:f.state.sliceDoc(f.state.selection.main.from,f.state.selection.main.to),selections:f.state.selection.ranges.map(i=>f.state.sliceDoc(i.from,i.to)),selectedText:f.state.selection.ranges.some(i=>!i.empty)}),vl=O.q6.define();function xl(f){var{value:i,selection:m,onChange:b,onStatistics:A,onCreateEditor:B,onUpdate:se,extensions:Ce=[],autoFocus:$e,theme:yt="light",height:_t="",minHeight:sr="",maxHeight:on="",placeholder:In="",width:Li="",minWidth:ea="",maxWidth:al="",editable:qa=!0,readOnly:so=!1,indentWithTab:Ls=!0,basicSetup:Os=!0,root:To,initialState:Ia}=f,[Ra,hl]=(0,I.useState)(),[Io,Ha]=(0,I.useState)(),[ll,ul]=(0,I.useState)(),gl=D.tk.theme({"&":{height:_t,minHeight:sr,maxHeight:on,width:Li,minWidth:ea,maxWidth:al}}),yl=D.tk.updateListener.of(ta=>{if(ta.docChanged&&typeof b=="function"&&!ta.transactions.some(Tl=>Tl.annotation(vl))){var fl=ta.state.doc,dl=fl.toString();b(dl,ta)}A&&A(Ol(ta))}),ml=va({theme:yt,editable:qa,readOnly:so,placeholder:In,indentWithTab:Ls,basicSetup:Os}),Fa=[yl,gl,...ml];return se&&typeof se=="function"&&Fa.push(D.tk.updateListener.of(se)),Fa=Fa.concat(Ce),(0,I.useEffect)(()=>{if(Ra&&!ll){var ta={doc:i,selection:m,extensions:Fa},fl=Ia?O.yy.fromJSON(Ia.json,ta,Ia.fields):O.yy.create(ta);if(ul(fl),!Io){var dl=new D.tk({state:fl,parent:Ra,root:To});Ha(dl),B&&B(dl,fl)}}return()=>{Io&&(ul(void 0),Ha(void 0))}},[Ra,ll]),(0,I.useEffect)(()=>hl(f.container),[f.container]),(0,I.useEffect)(()=>()=>{Io&&(Io.destroy(),Ha(void 0))},[Io]),(0,I.useEffect)(()=>{$e&&Io&&Io.focus()},[$e,Io]),(0,I.useEffect)(()=>{Io&&Io.dispatch({effects:O.Py.reconfigure.of(Fa)})},[yt,Ce,_t,sr,on,Li,ea,al,In,qa,so,Ls,Os,b,se]),(0,I.useEffect)(()=>{if(i!==void 0){var ta=Io?Io.state.doc.toString():"";Io&&i!==ta&&Io.dispatch({changes:{from:0,to:ta.length,insert:i||""},annotations:[vl.of(!0)]})}},[i,Io]),{state:ll,setState:ul,view:Io,setView:Ha,container:Ra,setContainer:hl}}var Cl=a(52322),Pl=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],bl=(0,I.forwardRef)((f,i)=>{var{className:m,value:b="",selection:A,extensions:B=[],onChange:se,onStatistics:Ce,onCreateEditor:$e,onUpdate:yt,autoFocus:_t,theme:sr="light",height:on,minHeight:In,maxHeight:Li,width:ea,minWidth:al,maxWidth:qa,basicSetup:so,placeholder:Ls,indentWithTab:Os,editable:To,readOnly:Ia,root:Ra,initialState:hl}=f,Io=(0,p.Z)(f,Pl),Ha=(0,I.useRef)(null),{state:ll,view:ul,container:gl}=xl({container:Ha.current,root:Ra,value:b,autoFocus:_t,theme:sr,height:on,minHeight:In,maxHeight:Li,width:ea,minWidth:al,maxWidth:qa,basicSetup:so,placeholder:Ls,indentWithTab:Os,editable:To,readOnly:Ia,selection:A,onChange:se,onStatistics:Ce,onCreateEditor:$e,onUpdate:yt,extensions:B,initialState:hl});if((0,I.useImperativeHandle)(i,()=>({editor:Ha.current,state:ll,view:ul}),[Ha,gl,ll,ul]),typeof b!="string")throw new Error("value must be typeof string but got "+typeof b);var yl=typeof sr=="string"?"cm-theme-"+sr:"cm-theme";return(0,Cl.jsx)("div",(0,n.Z)({ref:Ha,className:""+yl+(m?" "+m:"")},Io))});bl.displayName="CodeMirror";var Al=bl},93948:function(_e,w,a){"use strict";var n=a(87245),p=a(63772),I=a(8615),O=Math.pow(2,31)-1;function D(M,$){var z=1,J;if(M===0)return $;if($===0)return M;for(;M%2===0&&$%2===0;)M=M/2,$=$/2,z=z*2;for(;M%2===0;)M=M/2;for(;$;){for(;$%2===0;)$=$/2;M>$&&(J=$,$=M,M=J),$=$-M}return z*M}function k(M,$){var z=0,J;if(M===0)return $;if($===0)return M;for(;!(M&1)&&!($&1);)M>>>=1,$>>>=1,z++;for(;!(M&1);)M>>>=1;for(;$;){for(;!($&1);)$>>>=1;M>$&&(J=$,$=M,M=J),$=$-M}return M<<z}function L(){var M=arguments.length,$,z,J,ne,te,oe,we;for($=new Array(M),we=0;we<M;we++)$[we]=arguments[we];if(p($)){if(M===2)return te=$[0],oe=$[1],te<0&&(te=-te),oe<0&&(oe=-oe),te<=O&&oe<=O?k(te,oe):D(te,oe);J=$}else if(n($[0]))if(M>1){if(J=$[0],z=$[1],!I(z))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+z+"`.")}else J=$[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+$[0]+"`.");if(ne=J.length,ne<2)return null;if(z){for(te=new Array(ne),we=0;we<ne;we++)te[we]=z(J[we],we);J=te}if(M<3&&!p(J))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+J+"`.");for(we=0;we<ne;we++)te=J[we],te<0&&(J[we]=-te);for(te=J[0],we=1;we<ne;we++)oe=J[we],oe<=O&&te<=O?te=k(te,oe):te=D(te,oe);return te}_e.exports=L},73198:function(_e,w,a){"use strict";var n=a(93948),p=a(87245),I=a(63772),O=a(8615);function D(){var k=arguments.length,L,M,$,z,J,ne,te;for(L=new Array(k),te=0;te<k;te++)L[te]=arguments[te];if(I(L)){if(k===2)return J=L[0],ne=L[1],J<0&&(J=-J),ne<0&&(ne=-ne),J===0||ne===0?0:J/n(J,ne)*ne;$=L}else if(p(L[0]))if(k>1){if($=L[0],M=L[1],!O(M))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+M+"`.")}else $=L[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+L[0]+"`.");if(z=$.length,z<2)return null;if(M){for(J=new Array(z),te=0;te<z;te++)J[te]=M($[te],te);$=J}if(k<3&&!I($))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+$+"`.");for(te=0;te<z;te++)J=$[te],J<0&&($[te]=-J);for(J=$[0],te=1;te<z;te++){if(ne=$[te],J===0||ne===0)return 0;J=J/n(J,ne)*ne}return J}_e.exports=D},16455:function(_e,w,a){var n=a(6200);_e.exports=n},35558:function(_e,w,a){a(21710);var n=a(47923);_e.exports=n("Array","fill")},5594:function(_e,w,a){a(70024);var n=a(47923);_e.exports=n("Array","includes")},29320:function(_e,w,a){var n=a(16455);_e.exports=n},62724:function(_e,w,a){"use strict";var n=a(71795),p=a(97739),I=a(84104);_e.exports=function(D){for(var k=n(this),L=I(k),M=arguments.length,$=p(M>1?arguments[1]:void 0,L),z=M>2?arguments[2]:void 0,J=z===void 0?L:p(z,L);J>$;)k[$++]=D;return k}},47923:function(_e,w,a){var n=a(10150);_e.exports=n},21710:function(_e,w,a){var n=a(93085),p=a(62724),I=a(67423);n({target:"Array",proto:!0},{fill:p}),I("fill")},70024:function(_e,w,a){"use strict";var n=a(93085),p=a(48180).includes,I=a(76192),O=a(67423),D=I(function(){return!Array(1).includes()});n({target:"Array",proto:!0,forced:D},{includes:function(L){return p(this,L,arguments.length>1?arguments[1]:void 0)}}),O("includes")},6200:function(_e,w,a){var n=a(35558);_e.exports=n},44091:function(_e,w,a){"use strict";var n;n={value:!0};const p=a(73961);var I;(function(O){O.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],O.defaultParser=new p.Parser(O.RULES,{debug:!1});const D=/^(!|&)/,k=/(\?|\+|\*)$/,L=/^%/;function M(Te,re){if(typeof Te=="string"){if(D.test(Te))return"";if(L.test(Te)){let F=k.exec(Te),We=F?F[0]+" ":"";return $(Te,re)?J(Te,re)+We:"("+J(Te,re)+")"+We}return Te}else return Te.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function $(Te,re){let ce=p.findRuleByName(Te,re);return ce&&ce.bnf.length==1&&ce.bnf[0].length==1&&(ce.bnf[0][0]instanceof RegExp||ce.bnf[0][0][0]=='"'||ce.bnf[0][0][0]=="'")}function z(Te,re){return Te.map(ce=>M(ce,re)).join(" ")}function J(Te,re){let ce=p.findRuleByName(Te,re);return ce?ce.bnf.map(F=>z(F,re)).join(" | "):"RULE_NOT_FOUND {"+Te+"}"}function ne(Te){let re=[];return Te.grammarRules.forEach(ce=>{if(!/^%/.test(ce.name)){let F=ce.recover?" /* { recoverUntil="+ce.recover+" } */":"";re.push(ce.name+" ::= "+J(ce.name,Te)+F)}}),re.join(`
`)}O.emit=ne;let te=0;function oe(Te,re){throw console.log("reberia restar "+re+" a "+Te),new Error("Difference not supported yet")}function we(Te){return new RegExp(Te.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function U(Te,re,ce){let F=null,We=[];return re.children.forEach((xe,Be)=>{xe.type=="Minus"&&oe(F,xe);let Ye=re.children[Be+1];Ye=Ye&&Ye.type=="PrimaryDecoration"&&Ye.text||"";let kt="";switch(xe.type){case"SubItem":let Le="%"+(ce+te++);q(Te,xe,Le),We.push(kt+Le+Ye);break;case"NCName":case"StringLiteral":We.push(kt+xe.text+Ye);break;case"CharCode":case"CharClass":if(Ye||kt){let ut={name:"%"+(ce+te++),bnf:[[we(xe.text)]]};Te.push(ut),We.push(kt+ut.name+Ye)}else We.push(we(xe.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+xe.type+" -> "+JSON.stringify(xe.text))}F=xe}),We}function q(Te,re,ce){let F=re.children.filter(Be=>Be.type=="SequenceOrDifference").map(Be=>U(Te,Be,ce)),We={name:ce,bnf:F},xe=null;F.forEach(Be=>{xe=xe||Be.recover,delete Be.recover}),ce.indexOf("%")==0&&(We.fragment=!0),xe&&(We.recover=xe),Te.push(We)}function Oe(Te,re=O.defaultParser){let ce=re.getAST(Te);if(!ce)throw new Error("Could not parse "+Te);if(ce.errors&&ce.errors.length)throw ce.errors[0];let F=[];return ce.children.filter(We=>We.type=="Production").map(We=>{let xe=We.children.filter(Be=>Be.type=="NCName")[0].text;q(F,We,xe)}),F}O.getRules=Oe;function ae(Te,re=O.defaultParser){return Oe(Te.join(""),re)}O.Transform=ae;class ve extends p.Parser{constructor(re,ce){const F=ce&&ce.debugRulesParser===!0?new p.Parser(O.RULES,{debug:!0}):O.defaultParser;super(Oe(re,F),ce)}emitSource(){return ne(this)}}O.Parser=ve})(I||(I={})),w.Z=I},73961:function(__unused_webpack_module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Parser=exports.findRuleByName=exports.parseRuleName=exports.escapeRegExp=exports.readToken=void 0;const UPPER_SNAKE_RE=/^[A-Z0-9_]+$/,decorationRE=/(\?|\+|\*)$/,preDecorationRE=/^(@|&|!)/,WS_RULE="WS",TokenError_1=__webpack_require__(80707);function readToken(_e,w){let a=w.exec(_e);return a&&a.index==0?a[0].length==0&&w.source.length>0?null:{type:null,text:a[0],rest:_e.substr(a[0].length),start:0,end:a[0].length-1,fullText:a[0],errors:[],children:[],parent:null}:null}exports.readToken=readToken;function escapeRegExp(_e){return _e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}exports.escapeRegExp=escapeRegExp;function fixRest(_e){_e.rest="",_e.children&&_e.children.forEach(w=>fixRest(w))}function fixPositions(_e,w){_e.start+=w,_e.end+=w,_e.children&&_e.children.forEach(a=>fixPositions(a,_e.start))}function agregateErrors(_e,w){w.errors&&w.errors.length&&w.errors.forEach(a=>_e.push(a)),w.children&&w.children.forEach(a=>agregateErrors(_e,a))}function parseRuleName(_e){let w=decorationRE.exec(_e),a=preDecorationRE.exec(_e),n=w&&w[0]||"",p=a&&a[0]||"",I={raw:_e,name:_e.replace(decorationRE,"").replace(preDecorationRE,""),isOptional:n=="?"||n=="*",allowRepetition:n=="+"||n=="*",atLeastOne:n=="+",lookupPositive:p=="&",lookupNegative:p=="!",pinned:p=="@",lookup:!1,isLiteral:!1};return I.isLiteral=I.name[0]=="'"||I.name[0]=='"',I.lookup=I.lookupNegative||I.lookupPositive,I}exports.parseRuleName=parseRuleName;function findRuleByName(_e,w){let a=parseRuleName(_e);return w.cachedRules[a.name]||null}exports.findRuleByName=findRuleByName;function stripRules(_e,w){if(_e.children){let a=_e.children.filter(n=>n.type&&w.test(n.type));for(let n=0;n<a.length;n++){let p=_e.children.indexOf(a[n]);p!=-1&&_e.children.splice(p,1)}_e.children.forEach(n=>stripRules(n,w))}}const ignoreMissingRules=["EOF"];class Parser{constructor(_e,w){this.grammarRules=_e,this.options=w,this.cachedRules={},this.debug=w?w.debug===!0:!1;let a=[],n=[];if(_e.forEach(p=>{let I=parseRuleName(p.name);if(I.name in this.cachedRules){a.push("Duplicated rule "+I.name);return}else this.cachedRules[I.name]=p;if(!p.bnf||!p.bnf.length){let O="Missing rule content, rule: "+p.name;a.indexOf(O)==-1&&a.push(O)}else p.bnf.forEach(O=>{if(typeof O[0]=="string"&&parseRuleName(O[0]).name==p.name){let k="Left recursion is not allowed, rule: "+p.name;a.indexOf(k)==-1&&a.push(k)}O.forEach(D=>{if(typeof D=="string"){let k=parseRuleName(D);!k.isLiteral&&n.indexOf(k.name)==-1&&ignoreMissingRules.indexOf(k.name)==-1&&n.push(k.name)}})});WS_RULE==p.name&&(p.implicitWs=!1),p.implicitWs&&n.indexOf(WS_RULE)==-1&&n.push(WS_RULE),p.recover&&n.indexOf(p.recover)==-1&&n.push(p.recover)}),n.forEach(p=>{p in this.cachedRules||a.push("Missing rule "+p)}),a.length)throw new Error(a.join(`
`))}getAST(_e,w){w||(w=this.grammarRules.filter(n=>!n.fragment&&n.name.indexOf("%")!=0)[0].name);let a=this.parse(_e,w);if(a){agregateErrors(a.errors,a),fixPositions(a,0),stripRules(a,/^%/),(!this.options||!this.options.keepUpperRules)&&stripRules(a,UPPER_SNAKE_RE);let n=a.rest;n&&new TokenError_1.TokenError(`Unexpected end of input: 
`+n,a),fixRest(a),a.rest=n}return a}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(txt,target,recursion=0){let out=null,type=parseRuleName(target),expr,printable=this.debug&&!UPPER_SNAKE_RE.test(type.name);printable&&console.log(new Array(recursion).join("\u2502  ")+"Trying to get "+target+" from "+JSON.stringify(txt.split(`
`)[0]));let realType=type.name,targetLex=findRuleByName(type.name,this);if(type.name=="EOF"){if(txt.length)return null;if(txt.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!targetLex&&type.isLiteral){let src=eval(type.name);if(src==="")return{type:"%%EMPTY%%",text:"",rest:txt,start:0,end:0,fullText:"",errors:[],children:[],parent:null};expr=new RegExp(escapeRegExp(src)),realType=null}}catch(_e){return _e instanceof ReferenceError&&console.error(_e),null}if(expr){let _e=readToken(txt,expr);if(_e)return _e.type=realType,_e}else{let _e=targetLex.bnf;_e instanceof Array&&_e.forEach(w=>{if(out)return;let a=null,n={type:type.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:txt};targetLex.fragment&&(n.fragment=!0);let p=txt,I=0,O=w.length>0,D=!1;for(let k=0;k<w.length;k++)if(typeof w[k]=="string"){let L=parseRuleName(w[k]);O=O&&L.isOptional;let M,$=!1;do{if(M=null,targetLex.implicitWs&&(M=this.parse(p,L.name,recursion+1),!M)){let z;do if(z=this.parse(p,WS_RULE,recursion+1),z)n.text=n.text+z.text,n.end=n.text.length,z.parent=n,n.children.push(z),p=p.substr(z.text.length),I+=z.text.length;else break;while(z&&z.text.length)}if(M=M||this.parse(p,L.name,recursion+1),L.lookupNegative){if(M)return;break}if(L.lookupPositive&&!M)return;if(!M&&(L.isOptional||L.atLeastOne&&$))break;if(M&&targetLex.pinned==k+1&&(a=M,printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+M.type+" PINNED")),M||(M=this.parseRecovery(targetLex,p,recursion+1)),!M)if(a)out=n,M={type:"SyntaxError",text:p,children:[],end:p.length,errors:[],fullText:"",parent:null,start:0,rest:""},p.length?new TokenError_1.TokenError(`Unexpected end of input. Expecting ${L.name} Got: ${p}`,M):new TokenError_1.TokenError(`Unexpected end of input. Missing ${L.name}`,M),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+M.type+" "+JSON.stringify(M.text));else return;if($=!0,D=!0,M.type=="%%EMPTY%%")break;M.start+=I,M.end+=I,!L.lookupPositive&&M.type&&(M.fragment?M.children&&M.children.forEach(z=>{z.start+=I,z.end+=I,z.parent=n,n.children.push(z)}):(M.parent=n,n.children.push(M))),L.lookup&&(M.lookup=!0),printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514\u2500 "+M.type+" "+JSON.stringify(M.text)),!L.lookup&&!M.lookup&&(n.text=n.text+M.text,n.end=n.text.length,p=p.substr(M.text.length),I+=M.text.length),n.rest=p}while(M&&L.allowRepetition&&p.length&&!M.lookup)}else{let L=readToken(p,w[k]);if(!L)return;printable&&console.log(new Array(recursion+1).join("\u2502  ")+"\u2514> "+JSON.stringify(L.text)+w[k].source),D=!0,L.start+=I,L.end+=I,n.text=n.text+L.text,n.end=n.text.length,p=p.substr(L.text.length),I+=L.text.length,n.rest=p}D&&(out=n,printable&&console.log(new Array(recursion).join("\u2502  ")+"\u251C<\u2500\u2534< PUSHING "+out.type+" "+JSON.stringify(out.text)))}),out&&targetLex.simplifyWhenOneChildren&&out.children.length==1&&(out=out.children[0])}return out||printable&&console.log(target+" NOT RESOLVED FROM "+txt),out}parseRecovery(_e,w,a){if(_e.recover&&w.length){let n=this.debug;n&&console.log(new Array(a+1).join("\u2502  ")+"Trying to recover until token "+_e.recover+" from "+JSON.stringify(w.split(`
`)[0]+w.split(`
`)[1]));let p={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},I;do if(I=this.parse(w,_e.recover,a+1),I){new TokenError_1.TokenError('Unexpected input: "'+p.text+`" Expecting: ${_e.name}`,p);break}else p.text=p.text+w[0],p.end=p.text.length,w=w.substr(1);while(!I&&w.length>0);if(p.text.length>0&&I)return n&&console.log(new Array(a+1).join("\u2502  ")+"Recovered text: "+JSON.stringify(p.text)),p}return null}}exports.Parser=Parser,exports.default=Parser},80707:function(_e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0}),w.TokenError=void 0;class a extends Error{constructor(p,I){if(super(p),this.message=p,this.token=I,I&&I.errors)I.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}w.TokenError=a},93503:function(_e,w,a){var n=a(18149),p=a(829),I=a(75652),O=a(49599),D=a(84573),k=a(74186),L=a(97030),M=a(4335),$=Le=>Array.isArray(Le)?Le:[Le],z=Le=>Le===void 0,J=Le=>L(Le)||Array.isArray(Le)?Object.keys(Le):[],ne=(Le,ut)=>Le.hasOwnProperty(ut),te=Le=>p(I(Le)),oe=Le=>z(Le)||Array.isArray(Le)&&Le.length===0,we=(Le,ut,gt,Ut)=>ut&&ne(ut,gt)&&Le&&ne(Le,gt)&&Ut(Le[gt],ut[gt]),U=(Le,ut)=>z(Le)&&ut===0||z(ut)&&Le===0||n(Le,ut),q=(Le,ut)=>z(Le)&&ut===!1||z(ut)&&Le===!1||n(Le,ut),Oe=Le=>z(Le)||n(Le,{})||Le===!0,ae=Le=>z(Le)||n(Le,{}),ve=Le=>z(Le)||L(Le)||Le===!0||Le===!1;function Te(Le,ut){return oe(Le)&&oe(ut)?!0:n(te(Le),te(ut))}function re(Le,ut){return Le=$(Le),ut=$(ut),n(te(Le),te(ut))}function ce(Le,ut,gt,Ut){var wt=I(J(Le).concat(J(ut)));return ae(Le)&&ae(ut)?!0:ae(Le)&&J(ut).length||ae(ut)&&J(Le).length?!1:wt.every(function(Ot){var pt=Le[Ot],Ne=ut[Ot];return Array.isArray(pt)&&Array.isArray(Ne)?n(te(Le),te(ut)):Array.isArray(pt)&&!Array.isArray(Ne)||Array.isArray(Ne)&&!Array.isArray(pt)?!1:we(Le,ut,Ot,Ut)})}function F(Le,ut,gt,Ut){return L(Le)&&L(ut)?Ut(Le,ut):Array.isArray(Le)&&Array.isArray(ut)?ce(Le,ut,gt,Ut):n(Le,ut)}function We(Le,ut,gt,Ut){var wt=O(Le,Ut),Ot=O(ut,Ut),pt=k(wt,Ot,Ut);return pt.length===Math.max(wt.length,Ot.length)}var xe={title:n,uniqueItems:q,minLength:U,minItems:U,minProperties:U,required:Te,enum:Te,type:re,items:F,anyOf:We,allOf:We,oneOf:We,properties:ce,patternProperties:ce,dependencies:ce},Be=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],Ye=["additionalProperties","additionalItems","contains","propertyNames","not"];function kt(Le,ut,gt){if(gt=D(gt,{ignore:[]}),Oe(Le)&&Oe(ut))return!0;if(!ve(Le)||!ve(ut))throw new Error("Either of the values are not a JSON schema.");if(Le===ut)return!0;if(M(Le)&&M(ut))return Le===ut;if(Le===void 0&&ut===!1||ut===void 0&&Le===!1||z(Le)&&!z(ut)||!z(Le)&&z(ut))return!1;var Ut=I(Object.keys(Le).concat(Object.keys(ut)));if(gt.ignore.length&&(Ut=Ut.filter(Ot=>gt.ignore.indexOf(Ot)===-1)),!Ut.length)return!0;function wt(Ot,pt){return kt(Ot,pt,gt)}return Ut.every(function(Ot){var pt=Le[Ot],Ne=ut[Ot];if(Ye.indexOf(Ot)!==-1)return kt(pt,Ne,gt);var bt=xe[Ot];if(bt||(bt=n),n(pt,Ne))return!0;if(Be.indexOf(Ot)===-1&&(!ne(Le,Ot)&&ne(ut,Ot)||ne(Le,Ot)&&!ne(ut,Ot)))return pt===Ne;var ot=bt(pt,Ne,Ot,wt);if(!M(ot))throw new Error("Comparer must return true or false");return ot})}_e.exports=kt},81995:function(_e,w,a){const n=a(35676),p=a(68632),I=a(97030),O=a(75652),D=a(49599),k=a(67304);function L(U){for(const q in U)z(U,q)&&oe(U[q])&&delete U[q];return U}const M=U=>O(p(U.map(J))),$=(U,q)=>U.map(Oe=>Oe&&Oe[q]),z=(U,q)=>Object.prototype.hasOwnProperty.call(U,q),J=U=>I(U)||Array.isArray(U)?Object.keys(U):[],ne=U=>U!==void 0,te=U=>I(U)||U===!0||U===!1,oe=U=>!J(U).length&&U!==!1&&U!==!0,we=(U,...q)=>k.apply(null,[U].concat(n(q)));_e.exports={allUniqueKeys:M,deleteUndefinedProps:L,getValues:$,has:z,isEmptySchema:oe,isSchema:te,keys:J,notUndefined:ne,uniqWith:D,withoutArr:we}},16430:function(_e,w,a){const n=a(93503),p=a(59756),{allUniqueKeys:I,deleteUndefinedProps:O,has:D,isSchema:k,notUndefined:L,uniqWith:M}=a(81995);function $(te){p(te,function(oe,we){oe===!1&&te.splice(we,1)})}function z(te,oe){return te.map(function(we){if(we)if(Array.isArray(we.items)){const U=we.items[oe];if(k(U))return U;if(D(we,"additionalItems"))return we.additionalItems}else return we.items})}function J(te){return te.map(function(oe){if(oe)return Array.isArray(oe.items)?oe.additionalItems:oe.items})}function ne(te,oe,we){return I(we).reduce(function(q,Oe){const ae=z(te,Oe),ve=M(ae.filter(L),n);return q[Oe]=oe(ve,Oe),q},[])}_e.exports={keywords:["items","additionalItems"],resolver(te,oe,we){const U=te.map(ve=>ve.items),q=U.filter(L),Oe={};q.every(k)?Oe.items=we.items(U):Oe.items=ne(te,we.items,U);let ae;return q.every(Array.isArray)?ae=te.map(ve=>ve.additionalItems):q.some(Array.isArray)&&(ae=J(te)),ae&&(Oe.additionalItems=we.additionalItems(ae)),Oe.additionalItems===!1&&Array.isArray(Oe.items)&&$(Oe.items),O(Oe)}}},67953:function(_e,w,a){const n=a(93503),p=a(59756),{allUniqueKeys:I,deleteUndefinedProps:O,getValues:D,keys:k,notUndefined:L,uniqWith:M,withoutArr:$}=a(81995);function z(ne){p(ne,function(te,oe){te===!1&&delete ne[oe]})}function J(ne,te){return I(ne).reduce(function(we,U){const q=D(ne,U),Oe=M(q.filter(L),n);return we[U]=te(Oe,U),we},{})}_e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver(ne,te,oe,we){we.ignoreAdditionalProperties||(ne.forEach(function(q){const Oe=ne.filter(re=>re!==q),ae=k(q.properties),Te=k(q.patternProperties).map(re=>new RegExp(re));Oe.forEach(function(re){const ce=k(re.properties),F=ce.filter(xe=>Te.some(Be=>Be.test(xe)));$(ce,ae,F).forEach(function(xe){re.properties[xe]=oe.properties([re.properties[xe],q.additionalProperties],xe)})})}),ne.forEach(function(q){const Oe=ne.filter(ve=>ve!==q),ae=k(q.patternProperties);q.additionalProperties===!1&&Oe.forEach(function(ve){const Te=k(ve.patternProperties);$(Te,ae).forEach(ce=>delete ve.patternProperties[ce])})}));const U={additionalProperties:oe.additionalProperties(ne.map(q=>q.additionalProperties)),patternProperties:J(ne.map(q=>q.patternProperties),oe.patternProperties),properties:J(ne.map(q=>q.properties),oe.properties)};return U.additionalProperties===!1&&z(U.properties),O(U)}}},33372:function(_e,w,a){const n=a(9850),p=a(93503),I=a(73198),O=a(19003),D=a(35676),k=a(68632),L=a(30898),M=a(74186),$=a(18149),z=a(97030),J=a(78911),ne=a(829),te=a(75652),oe=a(49599),we=a(67953),U=a(16430),q=(ze,K)=>ze.indexOf(K)!==-1,Oe=ze=>z(ze)||ze===!0||ze===!1,ae=ze=>ze===!1,ve=ze=>ze===!0,Te=(ze,K,Z)=>Z(ze),re=ze=>ne(te(k(ze))),ce=ze=>ze!==void 0,F=ze=>te(k(ze.map(Ot))),We=ze=>ze[0],xe=ze=>re(ze),Be=ze=>Math.max.apply(Math,ze),Ye=ze=>Math.min.apply(Math,ze),kt=ze=>ze.some(ve),Le=ze=>oe(D(ze),$);function ut(ze){return function(K,Z){return p({[ze]:K},{[ze]:Z})}}function gt(ze){let{allOf:K=[],...Z}=ze;return Z=z(ze)?Z:ze,[Z,...K.map(gt)]}function Ut(ze,K){return ze.map(Z=>Z&&Z[K])}function wt(ze,K){return ze.map(function(Z,Q){try{return K(Z,Q)}catch{return}}).filter(ce)}function Ot(ze){return z(ze)||Array.isArray(ze)?Object.keys(ze):[]}function pt(ze,K){if(K=K||[],!ze.length)return K;const Z=ze.slice(0).shift(),Q=ze.slice(1);return K.length?pt(Q,D(K.map(pe=>Z.map(ke=>[ke].concat(pe))))):pt(Q,Z.map(pe=>pe))}function Ne(ze,K){let Z;try{Z=ze.map(function(Q){return JSON.stringify(Q,null,2)}).join(`
`)}catch{Z=ze.join(", ")}throw new Error('Could not resolve values for path:"'+K.join(".")+`". They are probably incompatible. Values: 
`+Z)}function bt(ze,K,Z,Q,pe,ke){if(ze.length){const tt=pe.complexResolvers[K];if(!tt||!tt.resolver)throw new Error("No resolver found for "+K);const Ke=Z.map(Yt=>ze.reduce((Qt,nt)=>(Yt[nt]!==void 0&&(Qt[nt]=Yt[nt]),Qt),{})),jt=oe(Ke,p),lr=tt.keywords.reduce((Yt,Qt)=>({...Yt,[Qt]:(nt,Tt=[])=>Q(nt,null,ke.concat(Qt,Tt))}),{}),Jt=tt.resolver(jt,ke.concat(K),lr,pe);return z(Jt)||Ne(jt,ke.concat(K)),Jt}}function ot(ze){return{required:ze}}const fe=["properties","patternProperties","definitions","dependencies"],Re=["anyOf","oneOf"],ct=["additionalProperties","additionalItems","contains","propertyNames","not","items"],$t={type(ze){if(ze.some(Array.isArray)){const K=ze.map(function(Q){return Array.isArray(Q)?Q:[Q]}),Z=L.apply(null,K);if(Z.length===1)return Z[0];if(Z.length>1)return te(Z)}},dependencies(ze,K,Z){return F(ze).reduce(function(pe,ke){const tt=Ut(ze,ke);let Ke=oe(tt.filter(ce),$);const jt=Ke.filter(Array.isArray);if(jt.length){if(jt.length===Ke.length)pe[ke]=re(Ke);else{const lr=Ke.filter(Oe),Jt=jt.map(ot);pe[ke]=Z(lr.concat(Jt),ke)}return pe}return Ke=oe(Ke,p),pe[ke]=Z(Ke,ke),pe},{})},oneOf(ze,K,Z){const Q=pt(n(ze)),pe=wt(Q,Z),ke=oe(pe,p);if(ke.length)return ke},not(ze){return{anyOf:ze}},pattern(ze){return ze.map(K=>"(?="+K+")").join("")},multipleOf(ze){let K=ze.slice(0),Z=1;for(;K.some(Q=>!Number.isInteger(Q));)K=K.map(Q=>Q*10),Z=Z*10;return I(K)/Z},enum(ze){const K=M.apply(null,ze.concat($));if(K.length)return ne(K)}};$t.$id=We,$t.$ref=We,$t.$schema=We,$t.additionalItems=Te,$t.additionalProperties=Te,$t.anyOf=$t.oneOf,$t.contains=Te,$t.default=We,$t.definitions=$t.dependencies,$t.description=We,$t.examples=Le,$t.exclusiveMaximum=Ye,$t.exclusiveMinimum=Be,$t.items=U,$t.maximum=Ye,$t.maxItems=Ye,$t.maxLength=Ye,$t.maxProperties=Ye,$t.minimum=Be,$t.minItems=Be,$t.minLength=Be,$t.minProperties=Be,$t.properties=we,$t.propertyNames=Te,$t.required=xe,$t.title=We,$t.uniqueItems=kt;const er={properties:we,items:U};function Cr(ze,K,Z){Z=Z||[],K=O(K,{ignoreAdditionalProperties:!1,resolvers:$t,complexResolvers:er,deep:!0});const Q=Object.entries(K.complexResolvers);function pe(Ke,jt,lr){Ke=n(Ke.filter(ce)),lr=lr||[];const Jt=z(jt)?jt:{};if(!Ke.length)return;if(Ke.some(ae))return!1;if(Ke.every(ve))return!0;Ke=Ke.filter(z);const Yt=F(Ke);if(K.deep&&q(Yt,"allOf"))return Cr({allOf:Ke},K,Z);const Qt=Q.map(([nt,Tt])=>Yt.filter(Vt=>Tt.keywords.includes(Vt)));return Qt.forEach(nt=>J(Yt,nt)),Yt.forEach(function(nt){const Tt=Ut(Ke,nt),Vt=oe(Tt.filter(ce),ut(nt));if(Vt.length===1&&q(Re,nt))Jt[nt]=Vt[0].map(yr=>pe([yr],yr));else if(Vt.length===1&&!q(fe,nt)&&!q(ct,nt))Jt[nt]=Vt[0];else{const yr=K.resolvers[nt]||K.resolvers.defaultResolver;if(!yr)throw new Error("No resolver found for key "+nt+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const _r=(wr,vr=[])=>pe(wr,null,lr.concat(nt,vr));Jt[nt]=yr(Vt,lr.concat(nt),_r,K),Jt[nt]===void 0?Ne(Vt,lr.concat(nt)):Jt[nt]===void 0&&delete Jt[nt]}}),Q.reduce((nt,[Tt,Vt],yr)=>({...nt,...bt(Qt[yr],Tt,Ke,pe,K,lr)}),Jt)}const ke=k(gt(ze));return pe(ke)}Cr.options={resolvers:$t},_e.exports=Cr},404:function(_e,w){var a=/~/,n=/~[01]/g;function p($){switch($){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+$)}function I($){return a.test($)?$.replace(n,p):$}function O($,z,J){for(var ne,te,oe=1,we=z.length;oe<we;){if(z[oe]==="constructor"||z[oe]==="prototype"||z[oe]==="__proto__")return $;if(ne=I(z[oe++]),te=we>oe,typeof $[ne]=="undefined"&&(Array.isArray($)&&ne==="-"&&(ne=$.length),te&&(z[oe]!==""&&z[oe]<1/0||z[oe]==="-"?$[ne]=[]:$[ne]={})),!te)break;$=$[ne]}var U=$[ne];return J===void 0?delete $[ne]:$[ne]=J,U}function D($){if(typeof $=="string"){if($=$.split("/"),$[0]==="")return $;throw new Error("Invalid JSON pointer.")}else if(Array.isArray($)){for(const z of $)if(typeof z!="string"&&typeof z!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return $}throw new Error("Invalid JSON pointer.")}function k($,z){if(typeof $!="object")throw new Error("Invalid input object.");z=D(z);var J=z.length;if(J===1)return $;for(var ne=1;ne<J;){if($=$[I(z[ne++])],J===ne)return $;if(typeof $!="object"||$===null)return}}function L($,z,J){if(typeof $!="object")throw new Error("Invalid input object.");if(z=D(z),z.length===0)throw new Error("Invalid JSON pointer for set.");return O($,z,J)}function M($){var z=D($);return{get:function(J){return k(J,z)},set:function(J,ne){return L(J,z,ne)}}}w.get=k,w.set=L,w.compile=M},85246:function(_e,w,a){var n=a(45386),p=a(38333),I=a(34893),O=a(50343),D=a(47826),k=a(59950),L=200;function M($,z,J,ne){var te=-1,oe=p,we=!0,U=$.length,q=[],Oe=z.length;if(!U)return q;J&&(z=O(z,D(J))),ne?(oe=I,we=!1):z.length>=L&&(oe=k,we=!1,z=new n(z));e:for(;++te<U;){var ae=$[te],ve=J==null?ae:J(ae);if(ae=ne||ae!==0?ae:0,we&&ve===ve){for(var Te=Oe;Te--;)if(z[Te]===ve)continue e;q.push(ae)}else oe(z,ve,ne)||q.push(ae)}return q}_e.exports=M},84190:function(_e){function w(a,n,p,I){for(var O=p-1,D=a.length;++O<D;)if(I(a[O],n))return O;return-1}_e.exports=w},88390:function(_e,w,a){var n=a(45386),p=a(38333),I=a(34893),O=a(50343),D=a(47826),k=a(59950),L=Math.min;function M($,z,J){for(var ne=J?I:p,te=$[0].length,oe=$.length,we=oe,U=Array(oe),q=1/0,Oe=[];we--;){var ae=$[we];we&&z&&(ae=O(ae,D(z))),q=L(ae.length,q),U[we]=!J&&(z||te>=120&&ae.length>=120)?new n(we&&ae):void 0}ae=$[0];var ve=-1,Te=U[0];e:for(;++ve<te&&Oe.length<q;){var re=ae[ve],ce=z?z(re):re;if(re=J||re!==0?re:0,!(Te?k(Te,ce):ne(Oe,ce,J))){for(we=oe;--we;){var F=U[we];if(!(F?k(F,ce):ne($[we],ce,J)))continue e}Te&&Te.push(ce),Oe.push(re)}}return Oe}_e.exports=M},45169:function(_e,w,a){var n=a(50343),p=a(77832),I=a(84190),O=a(47826),D=a(51522),k=Array.prototype,L=k.splice;function M($,z,J,ne){var te=ne?I:p,oe=-1,we=z.length,U=$;for($===z&&(z=D(z)),J&&(U=n($,O(J)));++oe<we;)for(var q=0,Oe=z[oe],ae=J?J(Oe):Oe;(q=te(U,ae,q,ne))>-1;)U!==$&&L.call(U,q,1),L.call($,q,1);return $}_e.exports=M},5642:function(_e,w,a){var n=a(93746);function p(I){return n(I)?I:[]}_e.exports=p},88302:function(_e,w,a){var n=a(84565),p=a(29259);function I(O,D,k,L,M,$){return p(O)&&p(D)&&($.set(D,O),n(O,D,void 0,I,$),$.delete(D)),O}_e.exports=I},19003:function(_e,w,a){var n=a(49432),p=a(36060),I=a(88302),O=a(12782),D=p(function(k){return k.push(void 0,I),n(O,void 0,k)});_e.exports=D},68632:function(_e,w,a){var n=a(62034),p=1/0;function I(O){var D=O==null?0:O.length;return D?n(O,p):[]}_e.exports=I},30898:function(_e,w,a){var n=a(50343),p=a(88390),I=a(36060),O=a(5642),D=I(function(k){var L=n(k,O);return L.length&&L[0]===k[0]?p(L):[]});_e.exports=D},74186:function(_e,w,a){var n=a(50343),p=a(88390),I=a(36060),O=a(5642),D=a(56974),k=I(function(L){var M=D(L),$=n(L,O);return M=typeof M=="function"?M:void 0,M&&$.pop(),$.length&&$[0]===L[0]?p($,void 0,M):[]});_e.exports=k},78911:function(_e,w,a){var n=a(45169);function p(I,O){return I&&I.length&&O&&O.length?n(I,O):I}_e.exports=p},75652:function(_e,w,a){var n=a(67326);function p(I){return I&&I.length?n(I):[]}_e.exports=p},49599:function(_e,w,a){var n=a(67326);function p(I,O){return O=typeof O=="function"?O:void 0,I&&I.length?n(I,void 0,O):[]}_e.exports=p},67304:function(_e,w,a){var n=a(85246),p=a(36060),I=a(93746),O=p(function(D,k){return I(D)?n(D,k):[]});_e.exports=O},1170:function(_e,w,a){_e=a.nmd(_e),function(n){"use strict";n.exports.is_uri=I,n.exports.is_http_uri=O,n.exports.is_https_uri=D,n.exports.is_web_uri=k,n.exports.isUri=I,n.exports.isHttpUri=O,n.exports.isHttpsUri=D,n.exports.isWebUri=k;var p=function(L){var M=L.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return M};function I(L){if(L&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(L)&&!/%[^0-9a-f]/i.test(L)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(L)){var M=[],$="",z="",J="",ne="",te="",oe="";if(M=p(L),$=M[1],z=M[2],J=M[3],ne=M[4],te=M[5],!!($&&$.length&&J.length>=0)){if(z&&z.length){if(!(J.length===0||/^\//.test(J)))return}else if(/^\/\//.test(J))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test($.toLowerCase()))return oe+=$+":",z&&z.length&&(oe+="//"+z),oe+=J,ne&&ne.length&&(oe+="?"+ne),te&&te.length&&(oe+="#"+te),oe}}}function O(L,M){if(I(L)){var $=[],z="",J="",ne="",te="",oe="",we="",U="";if($=p(L),z=$[1],J=$[2],ne=$[3],oe=$[4],we=$[5],!!z){if(M){if(z.toLowerCase()!="https")return}else if(z.toLowerCase()!="http")return;if(J)return/:(\d+)$/.test(J)&&(te=J.match(/:(\d+)$/)[0],J=J.replace(/:\d+$/,"")),U+=z+":",U+="//"+J,te&&(U+=te),U+=ne,oe&&oe.length&&(U+="?"+oe),we&&we.length&&(U+="#"+we),U}}}function D(L){return O(L,!0)}function k(L){return O(L)||D(L)}}(_e)},87245:function(_e){"use strict";function w(a){return Object.prototype.toString.call(a)==="[object Array]"}_e.exports=Array.isArray||w},8615:function(_e){"use strict";function w(a){return typeof a=="function"}_e.exports=w},63772:function(_e,w,a){"use strict";var n=a(87245),p=a(45002);function I(O){var D;if(!n(O)||(D=O.length,!D))return!1;for(var k=0;k<D;k++)if(!p(O[k]))return!1;return!0}_e.exports=I},45002:function(_e,w,a){"use strict";var n=a(87040);function p(I){return n(I)&&I%1===0}_e.exports=p},87040:function(_e){"use strict";function w(a){return(typeof a=="number"||Object.prototype.toString.call(a)==="[object Number]")&&a.valueOf()===a.valueOf()}_e.exports=w},77120:function(_e,w,a){"use strict";a.d(w,{Gn:function(){return Ot},K0:function(){return Ut},Qf:function(){return Ar},R_:function(){return Xr},SS:function(){return gt},Um:function(){return V},c:function(){return Le},e7:function(){return hr},il:function(){return It},mi:function(){return Pr},n$:function(){return Bi},nF:function(){return Ur},nY:function(){return pe},qz:function(){return te},y1:function(){return ut}});var n=a(21649),p=a(1727),I=a(65329),O=a(86253),D=a(37207),k;const L=new n.md;function M(ge){return p.r$.define({combine:ge?R=>R.concat(ge):void 0})}const $=new n.md;class z{constructor(R,Y,Me=[],Ze=""){this.data=R,this.name=Ze,p.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(p.yy.prototype,"tree",{get(){return te(this)}}),this.parser=Y,this.extension=[xe.of(this),p.yy.languageData.of((rt,dt,Kt)=>{let zt=J(rt,dt,Kt),zr=zt.type.prop(L);if(!zr)return[];let Vr=rt.facet(zr),$n=zt.type.prop($);if($n){let bi=zt.resolve(dt-zt.from,Kt);for(let Pi of $n)if(Pi.test(bi,rt)){let Ri=rt.facet(Pi.facet);return Pi.type=="replace"?Ri:Ri.concat(Vr)}}return Vr})].concat(Me)}isActiveAt(R,Y,Me=-1){return J(R,Y,Me).type.prop(L)==this.data}findRegions(R){let Y=R.facet(xe);if((Y==null?void 0:Y.data)==this.data)return[{from:0,to:R.doc.length}];if(!Y||!Y.allowsNesting)return[];let Me=[],Ze=(rt,dt)=>{if(rt.prop(L)==this.data){Me.push({from:dt,to:dt+rt.length});return}let Kt=rt.prop(n.md.mounted);if(Kt){if(Kt.tree.prop(L)==this.data){if(Kt.overlay)for(let zt of Kt.overlay)Me.push({from:zt.from+dt,to:zt.to+dt});else Me.push({from:dt,to:dt+rt.length});return}else if(Kt.overlay){let zt=Me.length;if(Ze(Kt.tree,Kt.overlay[0].from+dt),Me.length>zt)return}}for(let zt=0;zt<rt.children.length;zt++){let zr=rt.children[zt];zr instanceof n.mp&&Ze(zr,rt.positions[zt]+dt)}};return Ze(te(R),0),Me}get allowsNesting(){return!0}}z.setState=p.Py.define();function J(ge,R,Y){let Me=ge.facet(xe),Ze=te(ge).topNode;if(!Me||Me.allowsNesting)for(let rt=Ze;rt;rt=rt.enter(R,Y,n.vj.ExcludeBuffers))rt.type.isTop&&(Ze=rt);return Ze}class ne extends null{constructor(R,Y,Me){super(R,Y,[],Me),this.parser=Y}static define(R){let Y=M(R.languageData);return new ne(Y,R.parser.configure({props:[L.add(Me=>Me.isTop?Y:void 0)]}),R.name)}configure(R,Y){return new ne(this.data,this.parser.configure(R),Y||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function te(ge){let R=ge.field(z.state,!1);return R?R.tree:n.mp.empty}function oe(ge,R,Y=50){var Me;let Ze=(Me=ge.field(z.state,!1))===null||Me===void 0?void 0:Me.context;if(!Ze)return null;let rt=Ze.viewport;Ze.updateViewport({from:0,to:R});let dt=Ze.isDone(R)||Ze.work(Y,R)?Ze.tree:null;return Ze.updateViewport(rt),dt}function we(ge,R=ge.doc.length){var Y;return((Y=ge.field(z.state,!1))===null||Y===void 0?void 0:Y.context.isDone(R))||!1}function U(ge,R=ge.viewport.to,Y=100){let Me=oe(ge.state,R,Y);return Me!=te(ge.state)&&ge.dispatch({}),!!Me}function q(ge){var R;return((R=ge.plugin(We))===null||R===void 0?void 0:R.isWorking())||!1}class Oe{constructor(R){this.doc=R,this.cursorPos=0,this.string="",this.cursor=R.iter()}get length(){return this.doc.length}syncTo(R){return this.string=this.cursor.next(R-this.cursorPos).value,this.cursorPos=R+this.string.length,this.cursorPos-this.string.length}chunk(R){return this.syncTo(R),this.string}get lineChunks(){return!0}read(R,Y){let Me=this.cursorPos-this.string.length;return R<Me||Y>=this.cursorPos?this.doc.sliceString(R,Y):this.string.slice(R-Me,Y-Me)}}let ae=null;class ve{constructor(R,Y,Me=[],Ze,rt,dt,Kt,zt){this.parser=R,this.state=Y,this.fragments=Me,this.tree=Ze,this.treeLen=rt,this.viewport=dt,this.skipped=Kt,this.scheduleOn=zt,this.parse=null,this.tempSkipped=[]}static create(R,Y,Me){return new ve(R,Y,[],n.mp.empty,0,Me,[],null)}startParse(){return this.parser.startParse(new Oe(this.state.doc),this.fragments)}work(R,Y){return Y!=null&&Y>=this.state.doc.length&&(Y=void 0),this.tree!=n.mp.empty&&this.isDone(Y!=null?Y:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var Me;if(typeof R=="number"){let Ze=Date.now()+R;R=()=>Date.now()>Ze}for(this.parse||(this.parse=this.startParse()),Y!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>Y)&&Y<this.state.doc.length&&this.parse.stopAt(Y);;){let Ze=this.parse.advance();if(Ze)if(this.fragments=this.withoutTempSkipped(n.i9.addTree(Ze,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(Me=this.parse.stoppedAt)!==null&&Me!==void 0?Me:this.state.doc.length,this.tree=Ze,this.parse=null,this.treeLen<(Y!=null?Y:this.state.doc.length))this.parse=this.startParse();else return!0;if(R())return!1}})}takeTree(){let R,Y;this.parse&&(R=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>R)&&this.parse.stopAt(R),this.withContext(()=>{for(;!(Y=this.parse.advance()););}),this.treeLen=R,this.tree=Y,this.fragments=this.withoutTempSkipped(n.i9.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(R){let Y=ae;ae=this;try{return R()}finally{ae=Y}}withoutTempSkipped(R){for(let Y;Y=this.tempSkipped.pop();)R=Te(R,Y.from,Y.to);return R}changes(R,Y){let{fragments:Me,tree:Ze,treeLen:rt,viewport:dt,skipped:Kt}=this;if(this.takeTree(),!R.empty){let zt=[];if(R.iterChangedRanges((zr,Vr,$n,bi)=>zt.push({fromA:zr,toA:Vr,fromB:$n,toB:bi})),Me=n.i9.applyChanges(Me,zt),Ze=n.mp.empty,rt=0,dt={from:R.mapPos(dt.from,-1),to:R.mapPos(dt.to,1)},this.skipped.length){Kt=[];for(let zr of this.skipped){let Vr=R.mapPos(zr.from,1),$n=R.mapPos(zr.to,-1);Vr<$n&&Kt.push({from:Vr,to:$n})}}}return new ve(this.parser,Y,Me,Ze,rt,dt,Kt,this.scheduleOn)}updateViewport(R){if(this.viewport.from==R.from&&this.viewport.to==R.to)return!1;this.viewport=R;let Y=this.skipped.length;for(let Me=0;Me<this.skipped.length;Me++){let{from:Ze,to:rt}=this.skipped[Me];Ze<R.to&&rt>R.from&&(this.fragments=Te(this.fragments,Ze,rt),this.skipped.splice(Me--,1))}return this.skipped.length>=Y?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(R,Y){this.skipped.push({from:R,to:Y})}static getSkippingParser(R){return new class extends n._b{createParse(Y,Me,Ze){let rt=Ze[0].from,dt=Ze[Ze.length-1].to;return{parsedPos:rt,advance(){let zt=ae;if(zt){for(let zr of Ze)zt.tempSkipped.push(zr);R&&(zt.scheduleOn=zt.scheduleOn?Promise.all([zt.scheduleOn,R]):R)}return this.parsedPos=dt,new n.mp(n.Jq.none,[],[],dt-rt)},stoppedAt:null,stopAt(){}}}}}isDone(R){R=Math.min(R,this.state.doc.length);let Y=this.fragments;return this.treeLen>=R&&Y.length&&Y[0].from==0&&Y[0].to>=R}static get(){return ae}}function Te(ge,R,Y){return n.i9.applyChanges(ge,[{fromA:R,toA:Y,fromB:R,toB:Y}])}class re{constructor(R){this.context=R,this.tree=R.tree}apply(R){if(!R.docChanged&&this.tree==this.context.tree)return this;let Y=this.context.changes(R.changes,R.state),Me=this.context.treeLen==R.startState.doc.length?void 0:Math.max(R.changes.mapPos(this.context.treeLen),Y.viewport.to);return Y.work(20,Me)||Y.takeTree(),new re(Y)}static init(R){let Y=Math.min(3e3,R.doc.length),Me=ve.create(R.facet(xe).parser,R,{from:0,to:Y});return Me.work(20,Y)||Me.takeTree(),new re(Me)}}z.state=p.QQ.define({create:re.init,update(ge,R){for(let Y of R.effects)if(Y.is(z.setState))return Y.value;return R.startState.facet(xe)!=R.state.facet(xe)?re.init(R.state):ge.apply(R)}});let ce=ge=>{let R=setTimeout(()=>ge(),500);return()=>clearTimeout(R)};typeof requestIdleCallback!="undefined"&&(ce=ge=>{let R=-1,Y=setTimeout(()=>{R=requestIdleCallback(ge,{timeout:500-100})},100);return()=>R<0?clearTimeout(Y):cancelIdleCallback(R)});const F=typeof navigator!="undefined"&&(!((k=navigator.scheduling)===null||k===void 0)&&k.isInputPending)?()=>navigator.scheduling.isInputPending():null,We=I.lg.fromClass(class{constructor(R){this.view=R,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(R){let Y=this.view.state.field(z.state).context;(Y.updateViewport(R.view.viewport)||this.view.viewport.to>Y.treeLen)&&this.scheduleWork(),R.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(Y)}scheduleWork(){if(this.working)return;let{state:R}=this.view,Y=R.field(z.state);(Y.tree!=Y.context.tree||!Y.context.isDone(R.doc.length))&&(this.working=ce(this.work))}work(R){this.working=null;let Y=Date.now();if(this.chunkEnd<Y&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=Y+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:Me,viewport:{to:Ze}}=this.view,rt=Me.field(z.state);if(rt.tree==rt.context.tree&&rt.context.isDone(Ze+1e5))return;let dt=Date.now()+Math.min(this.chunkBudget,100,R&&!F?Math.max(25,R.timeRemaining()-5):1e9),Kt=rt.context.treeLen<Ze&&Me.doc.length>Ze+1e3,zt=rt.context.work(()=>F&&F()||Date.now()>dt,Ze+(Kt?0:1e5));this.chunkBudget-=Date.now()-Y,(zt||this.chunkBudget<=0)&&(rt.context.takeTree(),this.view.dispatch({effects:z.setState.of(new re(rt.context))})),this.chunkBudget>0&&!(zt&&!Kt)&&this.scheduleWork(),this.checkAsyncSchedule(rt.context)}checkAsyncSchedule(R){R.scheduleOn&&(this.workScheduled++,R.scheduleOn.then(()=>this.scheduleWork()).catch(Y=>(0,I.OO)(this.view.state,Y)).then(()=>this.workScheduled--),R.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),xe=p.r$.define({combine(ge){return ge.length?ge[0]:null},enables:ge=>[z.state,We,I.tk.contentAttributes.compute([ge],R=>{let Y=R.facet(ge);return Y&&Y.name?{"data-language":Y.name}:{}})]});class Be{constructor(R,Y=[]){this.language=R,this.support=Y,this.extension=[R,Y]}}class Ye{constructor(R,Y,Me,Ze,rt,dt=void 0){this.name=R,this.alias=Y,this.extensions=Me,this.filename=Ze,this.loadFunc=rt,this.support=dt,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(R=>this.support=R,R=>{throw this.loading=null,R}))}static of(R){let{load:Y,support:Me}=R;if(!Y){if(!Me)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");Y=()=>Promise.resolve(Me)}return new Ye(R.name,(R.alias||[]).concat(R.name).map(Ze=>Ze.toLowerCase()),R.extensions||[],R.filename,Y,Me)}static matchFilename(R,Y){for(let Ze of R)if(Ze.filename&&Ze.filename.test(Y))return Ze;let Me=/\.([^.]+)$/.exec(Y);if(Me){for(let Ze of R)if(Ze.extensions.indexOf(Me[1])>-1)return Ze}return null}static matchLanguageName(R,Y,Me=!0){Y=Y.toLowerCase();for(let Ze of R)if(Ze.alias.some(rt=>rt==Y))return Ze;if(Me)for(let Ze of R)for(let rt of Ze.alias){let dt=Y.indexOf(rt);if(dt>-1&&(rt.length>2||!/\w/.test(Y[dt-1])&&!/\w/.test(Y[dt+rt.length])))return Ze}return null}}const kt=p.r$.define(),Le=p.r$.define({combine:ge=>{if(!ge.length)return"  ";let R=ge[0];if(!R||/\S/.test(R)||Array.from(R).some(Y=>Y!=R[0]))throw new Error("Invalid indent unit: "+JSON.stringify(ge[0]));return R}});function ut(ge){let R=ge.facet(Le);return R.charCodeAt(0)==9?ge.tabSize*R.length:R.length}function gt(ge,R){let Y="",Me=ge.tabSize,Ze=ge.facet(Le)[0];if(Ze=="	"){for(;R>=Me;)Y+="	",R-=Me;Ze=" "}for(let rt=0;rt<R;rt++)Y+=Ze;return Y}function Ut(ge,R){ge instanceof p.yy&&(ge=new Ot(ge));for(let Me of ge.state.facet(kt)){let Ze=Me(ge,R);if(Ze!==void 0)return Ze}let Y=te(ge.state);return Y?Ne(ge,Y,R):null}function wt(ge,R,Y){let Me=Object.create(null),Ze=new Ot(ge,{overrideIndentation:dt=>{var Kt;return(Kt=Me[dt])!==null&&Kt!==void 0?Kt:-1}}),rt=[];for(let dt=R;dt<=Y;){let Kt=ge.doc.lineAt(dt);dt=Kt.to+1;let zt=Ut(Ze,Kt.from);if(zt==null)continue;/\S/.test(Kt.text)||(zt=0);let zr=/^\s*/.exec(Kt.text)[0],Vr=gt(ge,zt);zr!=Vr&&(Me[Kt.from]=zt,rt.push({from:Kt.from,to:Kt.from+zr.length,insert:Vr}))}return ge.changes(rt)}class Ot{constructor(R,Y={}){this.state=R,this.options=Y,this.unit=ut(R)}lineAt(R,Y=1){let Me=this.state.doc.lineAt(R),{simulateBreak:Ze,simulateDoubleBreak:rt}=this.options;return Ze!=null&&Ze>=Me.from&&Ze<=Me.to?rt&&Ze==R?{text:"",from:R}:(Y<0?Ze<R:Ze<=R)?{text:Me.text.slice(Ze-Me.from),from:Ze}:{text:Me.text.slice(0,Ze-Me.from),from:Me.from}:Me}textAfterPos(R,Y=1){if(this.options.simulateDoubleBreak&&R==this.options.simulateBreak)return"";let{text:Me,from:Ze}=this.lineAt(R,Y);return Me.slice(R-Ze,Math.min(Me.length,R+100-Ze))}column(R,Y=1){let{text:Me,from:Ze}=this.lineAt(R,Y),rt=this.countColumn(Me,R-Ze),dt=this.options.overrideIndentation?this.options.overrideIndentation(Ze):-1;return dt>-1&&(rt+=dt-this.countColumn(Me,Me.search(/\S|$/))),rt}countColumn(R,Y=R.length){return(0,p.IS)(R,this.state.tabSize,Y)}lineIndent(R,Y=1){let{text:Me,from:Ze}=this.lineAt(R,Y),rt=this.options.overrideIndentation;if(rt){let dt=rt(Ze);if(dt>-1)return dt}return this.countColumn(Me,Me.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const pt=new n.md;function Ne(ge,R,Y){return fe(R.resolveInner(Y).enterUnfinishedNodesBefore(Y),Y,ge)}function bt(ge){return ge.pos==ge.options.simulateBreak&&ge.options.simulateDoubleBreak}function ot(ge){let R=ge.type.prop(pt);if(R)return R;let Y=ge.firstChild,Me;if(Y&&(Me=Y.type.prop(n.md.closedBy))){let Ze=ge.lastChild,rt=Ze&&Me.indexOf(Ze.name)>-1;return dt=>ze(dt,!0,1,void 0,rt&&!bt(dt)?Ze.from:void 0)}return ge.parent==null?Re:null}function fe(ge,R,Y){for(;ge;ge=ge.parent){let Me=ot(ge);if(Me)return Me(ct.create(Y,R,ge))}return null}function Re(){return 0}class ct extends Ot{constructor(R,Y,Me){super(R.state,R.options),this.base=R,this.pos=Y,this.node=Me}static create(R,Y,Me){return new ct(R,Y,Me)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let R=this.state.doc.lineAt(this.node.from);for(;;){let Y=this.node.resolve(R.from);for(;Y.parent&&Y.parent.from==Y.from;)Y=Y.parent;if($t(Y,this.node))break;R=this.state.doc.lineAt(Y.from)}return this.lineIndent(R.from)}continue(){let R=this.node.parent;return R?fe(R,this.pos,this.base):0}}function $t(ge,R){for(let Y=R;Y;Y=Y.parent)if(ge==Y)return!0;return!1}function er(ge){let R=ge.node,Y=R.childAfter(R.from),Me=R.lastChild;if(!Y)return null;let Ze=ge.options.simulateBreak,rt=ge.state.doc.lineAt(Y.from),dt=Ze==null||Ze<=rt.from?rt.to:Math.min(rt.to,Ze);for(let Kt=Y.to;;){let zt=R.childAfter(Kt);if(!zt||zt==Me)return null;if(!zt.type.isSkipped)return zt.from<dt?Y:null;Kt=zt.to}}function Cr({closing:ge,align:R=!0,units:Y=1}){return Me=>ze(Me,R,Y,ge)}function ze(ge,R,Y,Me,Ze){let rt=ge.textAfter,dt=rt.match(/^\s*/)[0].length,Kt=Me&&rt.slice(dt,dt+Me.length)==Me||Ze==ge.pos+dt,zt=R?er(ge):null;return zt?Kt?ge.column(zt.from):ge.column(zt.to):ge.baseIndent+(Kt?0:ge.unit*Y)}const K=ge=>ge.baseIndent;function Z({except:ge,units:R=1}={}){return Y=>{let Me=ge&&ge.test(Y.textAfter);return Y.baseIndent+(Me?0:R*Y.unit)}}const Q=200;function pe(){return p.yy.transactionFilter.of(ge=>{if(!ge.docChanged||!ge.isUserEvent("input.type")&&!ge.isUserEvent("input.complete"))return ge;let R=ge.startState.languageDataAt("indentOnInput",ge.startState.selection.main.head);if(!R.length)return ge;let Y=ge.newDoc,{head:Me}=ge.newSelection.main,Ze=Y.lineAt(Me);if(Me>Ze.from+Q)return ge;let rt=Y.sliceString(Ze.from,Me);if(!R.some(zr=>zr.test(rt)))return ge;let{state:dt}=ge,Kt=-1,zt=[];for(let{head:zr}of dt.selection.ranges){let Vr=dt.doc.lineAt(zr);if(Vr.from==Kt)continue;Kt=Vr.from;let $n=Ut(dt,Vr.from);if($n==null)continue;let bi=/^\s*/.exec(Vr.text)[0],Pi=gt(dt,$n);bi!=Pi&&zt.push({from:Vr.from,to:Vr.from+bi.length,insert:Pi})}return zt.length?[ge,{changes:zt,sequential:!0}]:ge})}const ke=p.r$.define(),tt=new n.md;function Ke(ge){let R=ge.firstChild,Y=ge.lastChild;return R&&R.to<Y.from?{from:R.to,to:Y.type.isError?ge.to:Y.from}:null}function jt(ge,R,Y){let Me=te(ge);if(Me.length<Y)return null;let Ze=Me.resolveInner(Y,1),rt=null;for(let dt=Ze;dt;dt=dt.parent){if(dt.to<=Y||dt.from>Y)continue;if(rt&&dt.from<R)break;let Kt=dt.type.prop(tt);if(Kt&&(dt.to<Me.length-50||Me.length==ge.doc.length||!lr(dt))){let zt=Kt(dt,ge);zt&&zt.from<=Y&&zt.from>=R&&zt.to>Y&&(rt=zt)}}return rt}function lr(ge){let R=ge.lastChild;return R&&R.to==ge.to&&R.type.isError}function Jt(ge,R,Y){for(let Me of ge.facet(ke)){let Ze=Me(ge,R,Y);if(Ze)return Ze}return jt(ge,R,Y)}function Yt(ge,R){let Y=R.mapPos(ge.from,1),Me=R.mapPos(ge.to,-1);return Y>=Me?void 0:{from:Y,to:Me}}const Qt=p.Py.define({map:Yt}),nt=p.Py.define({map:Yt});function Tt(ge){let R=[];for(let{head:Y}of ge.state.selection.ranges)R.some(Me=>Me.from<=Y&&Me.to>=Y)||R.push(ge.lineBlockAt(Y));return R}const Vt=p.QQ.define({create(){return I.p.none},update(ge,R){ge=ge.map(R.changes);for(let Y of R.effects)Y.is(Qt)&&!wr(ge,Y.value.from,Y.value.to)?ge=ge.update({add:[dr.range(Y.value.from,Y.value.to)]}):Y.is(nt)&&(ge=ge.update({filter:(Me,Ze)=>Y.value.from!=Me||Y.value.to!=Ze,filterFrom:Y.value.from,filterTo:Y.value.to}));if(R.selection){let Y=!1,{head:Me}=R.selection.main;ge.between(Me,Me,(Ze,rt)=>{Ze<Me&&rt>Me&&(Y=!0)}),Y&&(ge=ge.update({filterFrom:Me,filterTo:Me,filter:(Ze,rt)=>rt<=Me||Ze>=Me}))}return ge},provide:ge=>I.tk.decorations.from(ge),toJSON(ge,R){let Y=[];return ge.between(0,R.doc.length,(Me,Ze)=>{Y.push(Me,Ze)}),Y},fromJSON(ge){if(!Array.isArray(ge)||ge.length%2)throw new RangeError("Invalid JSON for fold state");let R=[];for(let Y=0;Y<ge.length;){let Me=ge[Y++],Ze=ge[Y++];if(typeof Me!="number"||typeof Ze!="number")throw new RangeError("Invalid JSON for fold state");R.push(dr.range(Me,Ze))}return I.p.set(R,!0)}});function yr(ge){return ge.field(Vt,!1)||RangeSet.empty}function _r(ge,R,Y){var Me;let Ze=null;return(Me=ge.field(Vt,!1))===null||Me===void 0||Me.between(R,Y,(rt,dt)=>{(!Ze||Ze.from>rt)&&(Ze={from:rt,to:dt})}),Ze}function wr(ge,R,Y){let Me=!1;return ge.between(R,R,(Ze,rt)=>{Ze==R&&rt==Y&&(Me=!0)}),Me}function vr(ge,R){return ge.field(Vt,!1)?R:R.concat(p.Py.appendConfig.of(ur()))}const Ft=ge=>{for(let R of Tt(ge)){let Y=Jt(ge.state,R.from,R.to);if(Y)return ge.dispatch({effects:vr(ge.state,[Qt.of(Y),Or(ge,Y)])}),!0}return!1},Kr=ge=>{if(!ge.state.field(Vt,!1))return!1;let R=[];for(let Y of Tt(ge)){let Me=_r(ge.state,Y.from,Y.to);Me&&R.push(nt.of(Me),Or(ge,Me,!1))}return R.length&&ge.dispatch({effects:R}),R.length>0};function Or(ge,R,Y=!0){let Me=ge.state.doc.lineAt(R.from).number,Ze=ge.state.doc.lineAt(R.to).number;return I.tk.announce.of(`${ge.state.phrase(Y?"Folded lines":"Unfolded lines")} ${Me} ${ge.state.phrase("to")} ${Ze}.`)}const Nr=ge=>{let{state:R}=ge,Y=[];for(let Me=0;Me<R.doc.length;){let Ze=ge.lineBlockAt(Me),rt=Jt(R,Ze.from,Ze.to);rt&&Y.push(Qt.of(rt)),Me=(rt?ge.lineBlockAt(rt.to):Ze).to+1}return Y.length&&ge.dispatch({effects:vr(ge.state,Y)}),!!Y.length},Dr=ge=>{let R=ge.state.field(Vt,!1);if(!R||!R.size)return!1;let Y=[];return R.between(0,ge.state.doc.length,(Me,Ze)=>{Y.push(nt.of({from:Me,to:Ze}))}),ge.dispatch({effects:Y}),!0};function Gr(ge,R){for(let Y=R;;){let Me=Jt(ge.state,Y.from,Y.to);if(Me&&Me.to>R.from)return Me;if(!Y.from)return null;Y=ge.lineBlockAt(Y.from-1)}}const Yr=ge=>{let R=[];for(let Y of Tt(ge)){let Me=_r(ge.state,Y.from,Y.to);if(Me)R.push(nt.of(Me),Or(ge,Me,!1));else{let Ze=Gr(ge,Y);Ze&&R.push(Qt.of(Ze),Or(ge,Ze))}}return R.length>0&&ge.dispatch({effects:vr(ge.state,R)}),!!R.length},hr=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ft},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Kr},{key:"Ctrl-Alt-[",run:Nr},{key:"Ctrl-Alt-]",run:Dr}],Ie={placeholderDOM:null,placeholderText:"\u2026"},Gt=p.r$.define({combine(ge){return(0,p.BO)(ge,Ie)}});function ur(ge){let R=[Vt,Zr];return ge&&R.push(Gt.of(ge)),R}const dr=I.p.replace({widget:new class extends I.l9{toDOM(ge){let{state:R}=ge,Y=R.facet(Gt),Me=rt=>{let dt=ge.lineBlockAt(ge.posAtDOM(rt.target)),Kt=_r(ge.state,dt.from,dt.to);Kt&&ge.dispatch({effects:nt.of(Kt)}),rt.preventDefault()};if(Y.placeholderDOM)return Y.placeholderDOM(ge,Me);let Ze=document.createElement("span");return Ze.textContent=Y.placeholderText,Ze.setAttribute("aria-label",R.phrase("folded code")),Ze.title=R.phrase("unfold"),Ze.className="cm-foldPlaceholder",Ze.onclick=Me,Ze}}}),Wr={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class jr extends I.SJ{constructor(R,Y){super(),this.config=R,this.open=Y}eq(R){return this.config==R.config&&this.open==R.open}toDOM(R){if(this.config.markerDOM)return this.config.markerDOM(this.open);let Y=document.createElement("span");return Y.textContent=this.open?this.config.openText:this.config.closedText,Y.title=R.state.phrase(this.open?"Fold line":"Unfold line"),Y}}function Pr(ge={}){let R=Object.assign(Object.assign({},Wr),ge),Y=new jr(R,!0),Me=new jr(R,!1),Ze=I.lg.fromClass(class{constructor(dt){this.from=dt.viewport.from,this.markers=this.buildMarkers(dt)}update(dt){(dt.docChanged||dt.viewportChanged||dt.startState.facet(xe)!=dt.state.facet(xe)||dt.startState.field(Vt,!1)!=dt.state.field(Vt,!1)||te(dt.startState)!=te(dt.state)||R.foldingChanged(dt))&&(this.markers=this.buildMarkers(dt.view))}buildMarkers(dt){let Kt=new p.f_;for(let zt of dt.viewportLineBlocks){let zr=_r(dt.state,zt.from,zt.to)?Me:Jt(dt.state,zt.from,zt.to)?Y:null;zr&&Kt.add(zt.from,zt.from,zr)}return Kt.finish()}}),{domEventHandlers:rt}=R;return[Ze,(0,I.v5)({class:"cm-foldGutter",markers(dt){var Kt;return((Kt=dt.plugin(Ze))===null||Kt===void 0?void 0:Kt.markers)||p.Xs.empty},initialSpacer(){return new jr(R,!1)},domEventHandlers:Object.assign(Object.assign({},rt),{click:(dt,Kt,zt)=>{if(rt.click&&rt.click(dt,Kt,zt))return!0;let zr=_r(dt.state,Kt.from,Kt.to);if(zr)return dt.dispatch({effects:nt.of(zr)}),!0;let Vr=Jt(dt.state,Kt.from,Kt.to);return Vr?(dt.dispatch({effects:Qt.of(Vr)}),!0):!1}})}),ur()]}const Zr=I.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ar{constructor(R,Y){this.specs=R;let Me;function Ze(Kt){let zt=D.V.newName();return(Me||(Me=Object.create(null)))["."+zt]=Kt,zt}const rt=typeof Y.all=="string"?Y.all:Y.all?Ze(Y.all):void 0,dt=Y.scope;this.scope=dt instanceof z?Kt=>Kt.prop(L)==dt.data:dt?Kt=>Kt==dt:void 0,this.style=(0,O.QR)(R.map(Kt=>({tag:Kt.tag,class:Kt.class||Ze(Object.assign({},Kt,{tag:null}))})),{all:rt}).style,this.module=Me?new D.V(Me):null,this.themeType=Y.themeType}static define(R,Y){return new Ar(R,Y||{})}}const Lr=p.r$.define(),qr=p.r$.define({combine(ge){return ge.length?[ge[0]]:null}});function mn(ge){let R=ge.facet(Lr);return R.length?R:ge.facet(qr)}function Ur(ge,R){let Y=[wn],Me;return ge instanceof Ar&&(ge.module&&Y.push(I.tk.styleModule.of(ge.module)),Me=ge.themeType),R!=null&&R.fallback?Y.push(qr.of(ge)):Me?Y.push(Lr.computeN([I.tk.darkTheme],Ze=>Ze.facet(I.tk.darkTheme)==(Me=="dark")?[ge]:[])):Y.push(Lr.of(ge)),Y}function pn(ge,R,Y){let Me=mn(ge),Ze=null;if(Me){for(let rt of Me)if(!rt.scope||Y&&rt.scope(Y)){let dt=rt.style(R);dt&&(Ze=Ze?Ze+" "+dt:dt)}}return Ze}class bn{constructor(R){this.markCache=Object.create(null),this.tree=te(R.state),this.decorations=this.buildDeco(R,mn(R.state))}update(R){let Y=te(R.state),Me=mn(R.state),Ze=Me!=mn(R.startState);Y.length<R.view.viewport.to&&!Ze&&Y.type==this.tree.type?this.decorations=this.decorations.map(R.changes):(Y!=this.tree||R.viewportChanged||Ze)&&(this.tree=Y,this.decorations=this.buildDeco(R.view,Me))}buildDeco(R,Y){if(!Y||!this.tree.length)return I.p.none;let Me=new p.f_;for(let{from:Ze,to:rt}of R.visibleRanges)(0,O.bW)(this.tree,Y,(dt,Kt,zt)=>{Me.add(dt,Kt,this.markCache[zt]||(this.markCache[zt]=I.p.mark({class:zt})))},Ze,rt);return Me.finish()}}const wn=p.Wl.high(I.lg.fromClass(bn,{decorations:ge=>ge.decorations})),Xr=Ar.define([{tag:O.pJ.meta,color:"#404740"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,textDecoration:"underline",fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.strikethrough,textDecoration:"line-through"},{tag:O.pJ.keyword,color:"#708"},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.url,O.pJ.contentSeparator,O.pJ.labelName],color:"#219"},{tag:[O.pJ.literal,O.pJ.inserted],color:"#164"},{tag:[O.pJ.string,O.pJ.deleted],color:"#a11"},{tag:[O.pJ.regexp,O.pJ.escape,O.pJ.special(O.pJ.string)],color:"#e40"},{tag:O.pJ.definition(O.pJ.variableName),color:"#00f"},{tag:O.pJ.local(O.pJ.variableName),color:"#30a"},{tag:[O.pJ.typeName,O.pJ.namespace],color:"#085"},{tag:O.pJ.className,color:"#167"},{tag:[O.pJ.special(O.pJ.variableName),O.pJ.macroName],color:"#256"},{tag:O.pJ.definition(O.pJ.propertyName),color:"#00c"},{tag:O.pJ.comment,color:"#940"},{tag:O.pJ.invalid,color:"#f00"}]),fn=I.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),On=1e4,nn="()[]{}",Tn=p.r$.define({combine(ge){return(0,p.BO)(ge,{afterCursor:!0,brackets:nn,maxScanDistance:On,renderMatch:un})}}),Sn=I.p.mark({class:"cm-matchingBracket"}),sn=I.p.mark({class:"cm-nonmatchingBracket"});function un(ge){let R=[],Y=ge.matched?Sn:sn;return R.push(Y.range(ge.start.from,ge.start.to)),ge.end&&R.push(Y.range(ge.end.from,ge.end.to)),R}const hi=[p.QQ.define({create(){return I.p.none},update(ge,R){if(!R.docChanged&&!R.selection)return ge;let Y=[],Me=R.state.facet(Tn);for(let Ze of R.state.selection.ranges){if(!Ze.empty)continue;let rt=V(R.state,Ze.head,-1,Me)||Ze.head>0&&V(R.state,Ze.head-1,1,Me)||Me.afterCursor&&(V(R.state,Ze.head,1,Me)||Ze.head<R.state.doc.length&&V(R.state,Ze.head+1,-1,Me));rt&&(Y=Y.concat(Me.renderMatch(rt,R.state)))}return I.p.set(Y,!0)},provide:ge=>I.tk.decorations.from(ge)}),fn];function Bi(ge={}){return[Tn.of(ge),hi]}const Pe=new n.md;function y(ge,R,Y){let Me=ge.prop(R<0?n.md.openedBy:n.md.closedBy);if(Me)return Me;if(ge.name.length==1){let Ze=Y.indexOf(ge.name);if(Ze>-1&&Ze%2==(R<0?1:0))return[Y[Ze+R]]}return null}function T(ge){let R=ge.type.prop(Pe);return R?R(ge.node):ge}function V(ge,R,Y,Me={}){let Ze=Me.maxScanDistance||On,rt=Me.brackets||nn,dt=te(ge),Kt=dt.resolveInner(R,Y);for(let zt=Kt;zt;zt=zt.parent){let zr=y(zt.type,Y,rt);if(zr&&zt.from<zt.to){let Vr=T(zt);if(Vr&&(Y>0?R>=Vr.from&&R<Vr.to:R>Vr.from&&R<=Vr.to))return ee(ge,R,Y,zt,Vr,zr,rt)}}return Ee(ge,R,Y,dt,Kt.type,Ze,rt)}function ee(ge,R,Y,Me,Ze,rt,dt){let Kt=Me.parent,zt={from:Ze.from,to:Ze.to},zr=0,Vr=Kt==null?void 0:Kt.cursor();if(Vr&&(Y<0?Vr.childBefore(Me.from):Vr.childAfter(Me.to)))do if(Y<0?Vr.to<=Me.from:Vr.from>=Me.to){if(zr==0&&rt.indexOf(Vr.type.name)>-1&&Vr.from<Vr.to){let $n=T(Vr);return{start:zt,end:$n?{from:$n.from,to:$n.to}:void 0,matched:!0}}else if(y(Vr.type,Y,dt))zr++;else if(y(Vr.type,-Y,dt)){if(zr==0){let $n=T(Vr);return{start:zt,end:$n&&$n.from<$n.to?{from:$n.from,to:$n.to}:void 0,matched:!1}}zr--}}while(Y<0?Vr.prevSibling():Vr.nextSibling());return{start:zt,matched:!1}}function Ee(ge,R,Y,Me,Ze,rt,dt){let Kt=Y<0?ge.sliceDoc(R-1,R):ge.sliceDoc(R,R+1),zt=dt.indexOf(Kt);if(zt<0||zt%2==0!=Y>0)return null;let zr={from:Y<0?R-1:R,to:Y>0?R+1:R},Vr=ge.doc.iterRange(R,Y>0?ge.doc.length:0),$n=0;for(let bi=0;!Vr.next().done&&bi<=rt;){let Pi=Vr.value;Y<0&&(bi+=Pi.length);let Ri=R+bi*Y;for(let Qn=Y>0?0:Pi.length-1,qi=Y>0?Pi.length:-1;Qn!=qi;Qn+=Y){let ms=dt.indexOf(Pi[Qn]);if(!(ms<0||Me.resolveInner(Ri+Qn,1).type!=Ze))if(ms%2==0==Y>0)$n++;else{if($n==1)return{start:zr,end:{from:Ri+Qn,to:Ri+Qn+1},matched:ms>>1==zt>>1};$n--}}Y>0&&(bi+=Pi.length)}return Vr.done?{start:zr,matched:!1}:null}function Se(ge,R,Y,Me=0,Ze=0){R==null&&(R=ge.search(/[^\s\u00a0]/),R==-1&&(R=ge.length));let rt=Ze;for(let dt=Me;dt<R;dt++)ge.charCodeAt(dt)==9?rt+=Y-rt%Y:rt++;return rt}class He{constructor(R,Y,Me,Ze){this.string=R,this.tabSize=Y,this.indentUnit=Me,this.overrideIndent=Ze,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(R){let Y=this.string.charAt(this.pos),Me;if(typeof R=="string"?Me=Y==R:Me=Y&&(R instanceof RegExp?R.test(Y):R(Y)),Me)return++this.pos,Y}eatWhile(R){let Y=this.pos;for(;this.eat(R););return this.pos>Y}eatSpace(){let R=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>R}skipToEnd(){this.pos=this.string.length}skipTo(R){let Y=this.string.indexOf(R,this.pos);if(Y>-1)return this.pos=Y,!0}backUp(R){this.pos-=R}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Se(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var R;return(R=this.overrideIndent)!==null&&R!==void 0?R:Se(this.string,null,this.tabSize)}match(R,Y,Me){if(typeof R=="string"){let Ze=dt=>Me?dt.toLowerCase():dt,rt=this.string.substr(this.pos,R.length);return Ze(rt)==Ze(R)?(Y!==!1&&(this.pos+=R.length),!0):null}else{let Ze=this.string.slice(this.pos).match(R);return Ze&&Ze.index>0?null:(Ze&&Y!==!1&&(this.pos+=Ze[0].length),Ze)}}current(){return this.string.slice(this.start,this.pos)}}function Je(ge){return{name:ge.name||"",token:ge.token,blankLine:ge.blankLine||(()=>{}),startState:ge.startState||(()=>!0),copyState:ge.copyState||Ct,indent:ge.indent||(()=>null),languageData:ge.languageData||{},tokenTable:ge.tokenTable||Oi}}function Ct(ge){if(typeof ge!="object")return ge;let R={};for(let Y in ge){let Me=ge[Y];R[Y]=Me instanceof Array?Me.slice():Me}return R}const Lt=new WeakMap;class It extends z{constructor(R){let Y=M(R.languageData),Me=Je(R),Ze,rt=new class extends n._b{createParse(dt,Kt,zt){return new ci(Ze,dt,Kt,zt)}};super(Y,rt,[kt.of((dt,Kt)=>this.getIndent(dt,Kt))],R.name),this.topNode=tr(Y),Ze=this,this.streamParser=Me,this.stateAfter=new n.md({perNode:!0}),this.tokenTable=R.tokenTable?new Yn(Me.tokenTable):Mn}static define(R){return new It(R)}getIndent(R,Y){let Me=te(R.state),Ze=Me.resolve(Y);for(;Ze&&Ze.type!=this.topNode;)Ze=Ze.parent;if(!Ze)return null;let rt,{overrideIndentation:dt}=R.options;dt&&(rt=Lt.get(R.state),rt!=null&&rt<Y-1e4&&(rt=void 0));let Kt=kr(this,Me,0,Ze.from,rt!=null?rt:Y),zt,zr;if(Kt?(zr=Kt.state,zt=Kt.pos+1):(zr=this.streamParser.startState(R.unit),zt=0),Y-zt>1e4)return null;for(;zt<Y;){let $n=R.state.doc.lineAt(zt),bi=Math.min(Y,$n.to);if($n.length){let Pi=dt?dt($n.from):-1,Ri=new He($n.text,R.state.tabSize,R.unit,Pi<0?void 0:Pi);for(;Ri.pos<bi-$n.from;)Fn(this.streamParser.token,Ri,zr)}else this.streamParser.blankLine(zr,R.unit);if(bi==Y)break;zt=$n.to+1}let Vr=R.lineAt(Y);return dt&&rt==null&&Lt.set(R.state,Vr.from),this.streamParser.indent(zr,/^\s*(.*)/.exec(Vr.text)[1],R)}get allowsNesting(){return!1}}function kr(ge,R,Y,Me,Ze){let rt=Y>=Me&&Y+R.length<=Ze&&R.prop(ge.stateAfter);if(rt)return{state:ge.streamParser.copyState(rt),pos:Y+R.length};for(let dt=R.children.length-1;dt>=0;dt--){let Kt=R.children[dt],zt=Y+R.positions[dt],zr=Kt instanceof n.mp&&zt<Ze&&kr(ge,Kt,zt,Me,Ze);if(zr)return zr}return null}function Sr(ge,R,Y,Me,Ze){if(Ze&&Y<=0&&Me>=R.length)return R;!Ze&&R.type==ge.topNode&&(Ze=!0);for(let rt=R.children.length-1;rt>=0;rt--){let dt=R.positions[rt],Kt=R.children[rt],zt;if(dt<Me&&Kt instanceof n.mp){if(!(zt=Sr(ge,Kt,Y-dt,Me-dt,Ze)))break;return Ze?new n.mp(R.type,R.children.slice(0,rt).concat(zt),R.positions.slice(0,rt+1),dt+zt.length):zt}}return null}function kn(ge,R,Y,Me){for(let Ze of R){let rt=Ze.from+(Ze.openStart?25:0),dt=Ze.to-(Ze.openEnd?25:0),Kt=rt<=Y&&dt>Y&&kr(ge,Ze.tree,0-Ze.offset,Y,dt),zt;if(Kt&&(zt=Sr(ge,Ze.tree,Y+Ze.offset,Kt.pos+Ze.offset,!1)))return{state:Kt.state,tree:zt}}return{state:ge.streamParser.startState(Me?ut(Me):4),tree:n.mp.empty}}class ci{constructor(R,Y,Me,Ze){this.lang=R,this.input=Y,this.fragments=Me,this.ranges=Ze,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=Ze[Ze.length-1].to;let rt=ve.get(),dt=Ze[0].from,{state:Kt,tree:zt}=kn(R,Me,dt,rt==null?void 0:rt.state);this.state=Kt,this.parsedPos=this.chunkStart=dt+zt.length;for(let zr=0;zr<zt.children.length;zr++)this.chunks.push(zt.children[zr]),this.chunkPos.push(zt.positions[zr]);rt&&this.parsedPos<rt.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(ut(rt.state)),rt.skipUntilInView(this.parsedPos,rt.viewport.from),this.parsedPos=rt.viewport.from),this.moveRangeIndex()}advance(){let R=ve.get(),Y=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),Me=Math.min(Y,this.chunkStart+2048);for(R&&(Me=Math.min(Me,R.viewport.to));this.parsedPos<Me;)this.parseLine(R);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=Y?this.finish():R&&this.parsedPos>=R.viewport.to?(R.skipUntilInView(this.parsedPos,Y),this.finish()):null}stopAt(R){this.stoppedAt=R}lineAfter(R){let Y=this.input.chunk(R);if(this.input.lineChunks)Y==`
`&&(Y="");else{let Me=Y.indexOf(`
`);Me>-1&&(Y=Y.slice(0,Me))}return R+Y.length<=this.to?Y:Y.slice(0,this.to-R)}nextLine(){let R=this.parsedPos,Y=this.lineAfter(R),Me=R+Y.length;for(let Ze=this.rangeIndex;;){let rt=this.ranges[Ze].to;if(rt>=Me||(Y=Y.slice(0,rt-(Me-Y.length)),Ze++,Ze==this.ranges.length))break;let dt=this.ranges[Ze].from,Kt=this.lineAfter(dt);Y+=Kt,Me=dt+Kt.length}return{line:Y,end:Me}}skipGapsTo(R,Y,Me){for(;;){let Ze=this.ranges[this.rangeIndex].to,rt=R+Y;if(Me>0?Ze>rt:Ze>=rt)break;let dt=this.ranges[++this.rangeIndex].from;Y+=dt-Ze}return Y}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(R,Y,Me,Ze,rt){if(this.ranges.length>1){rt=this.skipGapsTo(Y,rt,1),Y+=rt;let dt=this.chunk.length;rt=this.skipGapsTo(Me,rt,-1),Me+=rt,Ze+=this.chunk.length-dt}return this.chunk.push(R,Y,Me,Ze),rt}parseLine(R){let{line:Y,end:Me}=this.nextLine(),Ze=0,{streamParser:rt}=this.lang,dt=new He(Y,R?R.state.tabSize:4,R?ut(R.state):2);if(dt.eol())rt.blankLine(this.state,dt.indentUnit);else for(;!dt.eol();){let Kt=Fn(rt.token,dt,this.state);if(Kt&&(Ze=this.emitToken(this.lang.tokenTable.resolve(Kt),this.parsedPos+dt.start,this.parsedPos+dt.pos,4,Ze)),dt.start>1e4)break}this.parsedPos=Me,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let R=n.mp.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Go,topID:0,maxBufferLength:2048,reused:this.chunkReused});R=new n.mp(R.type,R.children,R.positions,R.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(R),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new n.mp(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Fn(ge,R,Y){R.start=R.pos;for(let Me=0;Me<10;Me++){let Ze=ge(R,Y);if(R.pos>R.start)return Ze}throw new Error("Stream parser failed to advance stream.")}const Oi=Object.create(null),vi=[n.Jq.none],Go=new n.Lj(vi),Vi=[],Qi=Object.create(null);for(let[ge,R]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Qi[ge]=No(Oi,R);class Yn{constructor(R){this.extra=R,this.table=Object.assign(Object.create(null),Qi)}resolve(R){return R?this.table[R]||(this.table[R]=No(this.extra,R)):0}}const Mn=new Yn(Oi);function Ki(ge,R){Vi.indexOf(ge)>-1||(Vi.push(ge),console.warn(R))}function No(ge,R){let Y=null;for(let rt of R.split(".")){let dt=ge[rt]||O.pJ[rt];dt?typeof dt=="function"?Y?Y=dt(Y):Ki(rt,`Modifier ${rt} used at start of tag`):Y?Ki(rt,`Tag ${rt} used as modifier`):Y=dt:Ki(rt,`Unknown highlighting tag ${rt}`)}if(!Y)return 0;let Me=R.replace(/ /g,"_"),Ze=n.Jq.define({id:vi.length,name:Me,props:[(0,O.Gv)({[Me]:Y})]});return vi.push(Ze),Ze.id}function tr(ge){let R=n.Jq.define({id:vi.length,name:"Document",props:[L.add(()=>ge)]});return vi.push(R),R}},42123:function(_e,w,a){"use strict";a.d(w,{r:function(){return I}});var n=["true","false","on","off","yes","no"],p=new RegExp("\\b(("+n.join(")|(")+"))$","i");const I={name:"yaml",token:function(O,D){var k=O.peek(),L=D.escaped;if(D.escaped=!1,k=="#"&&(O.pos==0||/\s/.test(O.string.charAt(O.pos-1))))return O.skipToEnd(),"comment";if(O.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(D.literal&&O.indentation()>D.keyCol)return O.skipToEnd(),"string";if(D.literal&&(D.literal=!1),O.sol()){if(D.keyCol=0,D.pair=!1,D.pairStart=!1,O.match("---")||O.match("..."))return"def";if(O.match(/^\s*-\s+/))return"meta"}if(O.match(/^(\{|\}|\[|\])/))return k=="{"?D.inlinePairs++:k=="}"?D.inlinePairs--:k=="["?D.inlineList++:D.inlineList--,"meta";if(D.inlineList>0&&!L&&k==",")return O.next(),"meta";if(D.inlinePairs>0&&!L&&k==",")return D.keyCol=0,D.pair=!1,D.pairStart=!1,O.next(),"meta";if(D.pairStart){if(O.match(/^\s*(\||\>)\s*/))return D.literal=!0,"meta";if(O.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(D.inlinePairs==0&&O.match(/^\s*-?[0-9\.\,]+\s?$/)||D.inlinePairs>0&&O.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(O.match(p))return"keyword"}return!D.pair&&O.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(D.pair=!0,D.keyCol=O.indentation(),"atom"):D.pair&&O.match(/^:\s*/)?(D.pairStart=!0,"meta"):(D.pairStart=!1,D.escaped=k=="\\",O.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},1727:function(_e,w,a){"use strict";a.d(w,{BO:function(){return Zr},D0:function(){return Gt},Gz:function(){return Bi},IS:function(){return hi},Py:function(){return vr},QQ:function(){return er},Wl:function(){return K},Xs:function(){return Ur},YW:function(){return Ft},as:function(){return xe},bg:function(){return Te},cp:function(){return we},f_:function(){return bn},gc:function(){return F},gm:function(){return ve},jT:function(){return wt},n0:function(){return We},nZ:function(){return re},q6:function(){return yr},r$:function(){return Ne},uU:function(){return Ar},xv:function(){return n},yy:function(){return Pr}});class n{lineAt(y){if(y<0||y>this.length)throw new RangeError(`Invalid position ${y} in document of length ${this.length}`);return this.lineInner(y,!1,1,0)}line(y){if(y<1||y>this.lines)throw new RangeError(`Invalid line number ${y} in ${this.lines}-line document`);return this.lineInner(y,!0,1,0)}replace(y,T,V){let ee=[];return this.decompose(0,y,ee,2),V.length&&V.decompose(0,V.length,ee,3),this.decompose(T,this.length,ee,1),I.from(ee,this.length-(T-y)+V.length)}append(y){return this.replace(this.length,this.length,y)}slice(y,T=this.length){let V=[];return this.decompose(y,T,V,0),I.from(V,T-y)}eq(y){if(y==this)return!0;if(y.length!=this.length||y.lines!=this.lines)return!1;let T=this.scanIdentical(y,1),V=this.length-this.scanIdentical(y,-1),ee=new L(this),Ee=new L(y);for(let Se=T,He=T;;){if(ee.next(Se),Ee.next(Se),Se=0,ee.lineBreak!=Ee.lineBreak||ee.done!=Ee.done||ee.value!=Ee.value)return!1;if(He+=ee.value.length,ee.done||He>=V)return!0}}iter(y=1){return new L(this,y)}iterRange(y,T=this.length){return new M(this,y,T)}iterLines(y,T){let V;if(y==null)V=this.iter();else{T==null&&(T=this.lines+1);let ee=this.line(y).from;V=this.iterRange(ee,Math.max(ee,T==this.lines+1?this.length:T<=1?0:this.line(T-1).to))}return new $(V)}toString(){return this.sliceString(0)}toJSON(){let y=[];return this.flatten(y),y}constructor(){}static of(y){if(y.length==0)throw new RangeError("A document must have at least one line");return y.length==1&&!y[0]?n.empty:y.length<=32?new p(y):I.from(p.split(y,[]))}}class p extends n{constructor(y,T=O(y)){super(),this.text=y,this.length=T}get lines(){return this.text.length}get children(){return null}lineInner(y,T,V,ee){for(let Ee=0;;Ee++){let Se=this.text[Ee],He=ee+Se.length;if((T?V:He)>=y)return new z(ee,He,V,Se);ee=He+1,V++}}decompose(y,T,V,ee){let Ee=y<=0&&T>=this.length?this:new p(k(this.text,y,T),Math.min(T,this.length)-Math.max(0,y));if(ee&1){let Se=V.pop(),He=D(Ee.text,Se.text.slice(),0,Ee.length);if(He.length<=32)V.push(new p(He,Se.length+Ee.length));else{let Je=He.length>>1;V.push(new p(He.slice(0,Je)),new p(He.slice(Je)))}}else V.push(Ee)}replace(y,T,V){if(!(V instanceof p))return super.replace(y,T,V);let ee=D(this.text,D(V.text,k(this.text,0,y)),T),Ee=this.length+V.length-(T-y);return ee.length<=32?new p(ee,Ee):I.from(p.split(ee,[]),Ee)}sliceString(y,T=this.length,V=`
`){let ee="";for(let Ee=0,Se=0;Ee<=T&&Se<this.text.length;Se++){let He=this.text[Se],Je=Ee+He.length;Ee>y&&Se&&(ee+=V),y<Je&&T>Ee&&(ee+=He.slice(Math.max(0,y-Ee),T-Ee)),Ee=Je+1}return ee}flatten(y){for(let T of this.text)y.push(T)}scanIdentical(){return 0}static split(y,T){let V=[],ee=-1;for(let Ee of y)V.push(Ee),ee+=Ee.length+1,V.length==32&&(T.push(new p(V,ee)),V=[],ee=-1);return ee>-1&&T.push(new p(V,ee)),T}}class I extends n{constructor(y,T){super(),this.children=y,this.length=T,this.lines=0;for(let V of y)this.lines+=V.lines}lineInner(y,T,V,ee){for(let Ee=0;;Ee++){let Se=this.children[Ee],He=ee+Se.length,Je=V+Se.lines-1;if((T?Je:He)>=y)return Se.lineInner(y,T,V,ee);ee=He+1,V=Je+1}}decompose(y,T,V,ee){for(let Ee=0,Se=0;Se<=T&&Ee<this.children.length;Ee++){let He=this.children[Ee],Je=Se+He.length;if(y<=Je&&T>=Se){let Ct=ee&((Se<=y?1:0)|(Je>=T?2:0));Se>=y&&Je<=T&&!Ct?V.push(He):He.decompose(y-Se,T-Se,V,Ct)}Se=Je+1}}replace(y,T,V){if(V.lines<this.lines)for(let ee=0,Ee=0;ee<this.children.length;ee++){let Se=this.children[ee],He=Ee+Se.length;if(y>=Ee&&T<=He){let Je=Se.replace(y-Ee,T-Ee,V),Ct=this.lines-Se.lines+Je.lines;if(Je.lines<Ct>>5-1&&Je.lines>Ct>>5+1){let Lt=this.children.slice();return Lt[ee]=Je,new I(Lt,this.length-(T-y)+V.length)}return super.replace(Ee,He,Je)}Ee=He+1}return super.replace(y,T,V)}sliceString(y,T=this.length,V=`
`){let ee="";for(let Ee=0,Se=0;Ee<this.children.length&&Se<=T;Ee++){let He=this.children[Ee],Je=Se+He.length;Se>y&&Ee&&(ee+=V),y<Je&&T>Se&&(ee+=He.sliceString(y-Se,T-Se,V)),Se=Je+1}return ee}flatten(y){for(let T of this.children)T.flatten(y)}scanIdentical(y,T){if(!(y instanceof I))return 0;let V=0,[ee,Ee,Se,He]=T>0?[0,0,this.children.length,y.children.length]:[this.children.length-1,y.children.length-1,-1,-1];for(;;ee+=T,Ee+=T){if(ee==Se||Ee==He)return V;let Je=this.children[ee],Ct=y.children[Ee];if(Je!=Ct)return V+Je.scanIdentical(Ct,T);V+=Je.length+1}}static from(y,T=y.reduce((V,ee)=>V+ee.length+1,-1)){let V=0;for(let Sr of y)V+=Sr.lines;if(V<32){let Sr=[];for(let kn of y)kn.flatten(Sr);return new p(Sr,T)}let ee=Math.max(32,V>>5),Ee=ee<<1,Se=ee>>1,He=[],Je=0,Ct=-1,Lt=[];function It(Sr){let kn;if(Sr.lines>Ee&&Sr instanceof I)for(let ci of Sr.children)It(ci);else Sr.lines>Se&&(Je>Se||!Je)?(kr(),He.push(Sr)):Sr instanceof p&&Je&&(kn=Lt[Lt.length-1])instanceof p&&Sr.lines+kn.lines<=32?(Je+=Sr.lines,Ct+=Sr.length+1,Lt[Lt.length-1]=new p(kn.text.concat(Sr.text),kn.length+1+Sr.length)):(Je+Sr.lines>ee&&kr(),Je+=Sr.lines,Ct+=Sr.length+1,Lt.push(Sr))}function kr(){Je!=0&&(He.push(Lt.length==1?Lt[0]:I.from(Lt,Ct)),Ct=-1,Je=Lt.length=0)}for(let Sr of y)It(Sr);return kr(),He.length==1?He[0]:new I(He,T)}}n.empty=new p([""],0);function O(Pe){let y=-1;for(let T of Pe)y+=T.length+1;return y}function D(Pe,y,T=0,V=1e9){for(let ee=0,Ee=0,Se=!0;Ee<Pe.length&&ee<=V;Ee++){let He=Pe[Ee],Je=ee+He.length;Je>=T&&(Je>V&&(He=He.slice(0,V-ee)),ee<T&&(He=He.slice(T-ee)),Se?(y[y.length-1]+=He,Se=!1):y.push(He)),ee=Je+1}return y}function k(Pe,y,T){return D(Pe,[""],y,T)}class L{constructor(y,T=1){this.dir=T,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[y],this.offsets=[T>0?1:(y instanceof p?y.text.length:y.children.length)<<1]}nextInner(y,T){for(this.done=this.lineBreak=!1;;){let V=this.nodes.length-1,ee=this.nodes[V],Ee=this.offsets[V],Se=Ee>>1,He=ee instanceof p?ee.text.length:ee.children.length;if(Se==(T>0?He:0)){if(V==0)return this.done=!0,this.value="",this;T>0&&this.offsets[V-1]++,this.nodes.pop(),this.offsets.pop()}else if((Ee&1)==(T>0?0:1)){if(this.offsets[V]+=T,y==0)return this.lineBreak=!0,this.value=`
`,this;y--}else if(ee instanceof p){let Je=ee.text[Se+(T<0?-1:0)];if(this.offsets[V]+=T,Je.length>Math.max(0,y))return this.value=y==0?Je:T>0?Je.slice(y):Je.slice(0,Je.length-y),this;y-=Je.length}else{let Je=ee.children[Se+(T<0?-1:0)];y>Je.length?(y-=Je.length,this.offsets[V]+=T):(T<0&&this.offsets[V]--,this.nodes.push(Je),this.offsets.push(T>0?1:(Je instanceof p?Je.text.length:Je.children.length)<<1))}}}next(y=0){return y<0&&(this.nextInner(-y,-this.dir),y=this.value.length),this.nextInner(y,this.dir)}}class M{constructor(y,T,V){this.value="",this.done=!1,this.cursor=new L(y,T>V?-1:1),this.pos=T>V?y.length:0,this.from=Math.min(T,V),this.to=Math.max(T,V)}nextInner(y,T){if(T<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;y+=Math.max(0,T<0?this.pos-this.to:this.from-this.pos);let V=T<0?this.pos-this.from:this.to-this.pos;y>V&&(y=V),V-=y;let{value:ee}=this.cursor.next(y);return this.pos+=(ee.length+y)*T,this.value=ee.length<=V?ee:T<0?ee.slice(ee.length-V):ee.slice(0,V),this.done=!this.value,this}next(y=0){return y<0?y=Math.max(y,this.from-this.pos):y>0&&(y=Math.min(y,this.to-this.pos)),this.nextInner(y,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ${constructor(y){this.inner=y,this.afterBreak=!0,this.value="",this.done=!1}next(y=0){let{done:T,lineBreak:V,value:ee}=this.inner.next(y);return T?(this.done=!0,this.value=""):V?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=ee,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(n.prototype[Symbol.iterator]=function(){return this.iter()},L.prototype[Symbol.iterator]=M.prototype[Symbol.iterator]=$.prototype[Symbol.iterator]=function(){return this});class z{constructor(y,T,V,ee){this.from=y,this.to=T,this.number=V,this.text=ee}get length(){return this.to-this.from}}let J="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(Pe=>Pe?parseInt(Pe,36):1);for(let Pe=1;Pe<J.length;Pe++)J[Pe]+=J[Pe-1];function ne(Pe){for(let y=1;y<J.length;y+=2)if(J[y]>Pe)return J[y-1]<=Pe;return!1}function te(Pe){return Pe>=127462&&Pe<=127487}const oe=8205;function we(Pe,y,T=!0,V=!0){return(T?U:q)(Pe,y,V)}function U(Pe,y,T){if(y==Pe.length)return y;y&&Oe(Pe.charCodeAt(y))&&ae(Pe.charCodeAt(y-1))&&y--;let V=ve(Pe,y);for(y+=re(V);y<Pe.length;){let ee=ve(Pe,y);if(V==oe||ee==oe||T&&ne(ee))y+=re(ee),V=ee;else if(te(ee)){let Ee=0,Se=y-2;for(;Se>=0&&te(ve(Pe,Se));)Ee++,Se-=2;if(Ee%2==0)break;y+=2}else break}return y}function q(Pe,y,T){for(;y>0;){let V=U(Pe,y-2,T);if(V<y)return V;y--}return 0}function Oe(Pe){return Pe>=56320&&Pe<57344}function ae(Pe){return Pe>=55296&&Pe<56320}function ve(Pe,y){let T=Pe.charCodeAt(y);if(!ae(T)||y+1==Pe.length)return T;let V=Pe.charCodeAt(y+1);return Oe(V)?(T-55296<<10)+(V-56320)+65536:T}function Te(Pe){return Pe<=65535?String.fromCharCode(Pe):(Pe-=65536,String.fromCharCode((Pe>>10)+55296,(Pe&1023)+56320))}function re(Pe){return Pe<65536?1:2}const ce=/\r\n?|\n/;var F=function(Pe){return Pe[Pe.Simple=0]="Simple",Pe[Pe.TrackDel=1]="TrackDel",Pe[Pe.TrackBefore=2]="TrackBefore",Pe[Pe.TrackAfter=3]="TrackAfter",Pe}(F||(F={}));class We{constructor(y){this.sections=y}get length(){let y=0;for(let T=0;T<this.sections.length;T+=2)y+=this.sections[T];return y}get newLength(){let y=0;for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T+1];y+=V<0?this.sections[T]:V}return y}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(y){for(let T=0,V=0,ee=0;T<this.sections.length;){let Ee=this.sections[T++],Se=this.sections[T++];Se<0?(y(V,ee,Ee),ee+=Ee):ee+=Se,V+=Ee}}iterChangedRanges(y,T=!1){kt(this,y,T)}get invertedDesc(){let y=[];for(let T=0;T<this.sections.length;){let V=this.sections[T++],ee=this.sections[T++];ee<0?y.push(V,ee):y.push(ee,V)}return new We(y)}composeDesc(y){return this.empty?y:y.empty?this:ut(this,y)}mapDesc(y,T=!1){return y.empty?this:Le(this,y,T)}mapPos(y,T=-1,V=F.Simple){let ee=0,Ee=0;for(let Se=0;Se<this.sections.length;){let He=this.sections[Se++],Je=this.sections[Se++],Ct=ee+He;if(Je<0){if(Ct>y)return Ee+(y-ee);Ee+=He}else{if(V!=F.Simple&&Ct>=y&&(V==F.TrackDel&&ee<y&&Ct>y||V==F.TrackBefore&&ee<y||V==F.TrackAfter&&Ct>y))return null;if(Ct>y||Ct==y&&T<0&&!He)return y==ee||T<0?Ee:Ee+Je;Ee+=Je}ee=Ct}if(y>ee)throw new RangeError(`Position ${y} is out of range for changeset of length ${ee}`);return Ee}touchesRange(y,T=y){for(let V=0,ee=0;V<this.sections.length&&ee<=T;){let Ee=this.sections[V++],Se=this.sections[V++],He=ee+Ee;if(Se>=0&&ee<=T&&He>=y)return ee<y&&He>T?"cover":!0;ee=He}return!1}toString(){let y="";for(let T=0;T<this.sections.length;){let V=this.sections[T++],ee=this.sections[T++];y+=(y?" ":"")+V+(ee>=0?":"+ee:"")}return y}toJSON(){return this.sections}static fromJSON(y){if(!Array.isArray(y)||y.length%2||y.some(T=>typeof T!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new We(y)}static create(y){return new We(y)}}class xe extends We{constructor(y,T){super(y),this.inserted=T}apply(y){if(this.length!=y.length)throw new RangeError("Applying change set to a document with the wrong length");return kt(this,(T,V,ee,Ee,Se)=>y=y.replace(ee,ee+(V-T),Se),!1),y}mapDesc(y,T=!1){return Le(this,y,T,!0)}invert(y){let T=this.sections.slice(),V=[];for(let ee=0,Ee=0;ee<T.length;ee+=2){let Se=T[ee],He=T[ee+1];if(He>=0){T[ee]=He,T[ee+1]=Se;let Je=ee>>1;for(;V.length<Je;)V.push(n.empty);V.push(Se?y.slice(Ee,Ee+Se):n.empty)}Ee+=Se}return new xe(T,V)}compose(y){return this.empty?y:y.empty?this:ut(this,y,!0)}map(y,T=!1){return y.empty?this:Le(this,y,T,!0)}iterChanges(y,T=!1){kt(this,y,T)}get desc(){return We.create(this.sections)}filter(y){let T=[],V=[],ee=[],Ee=new gt(this);e:for(let Se=0,He=0;;){let Je=Se==y.length?1e9:y[Se++];for(;He<Je||He==Je&&Ee.len==0;){if(Ee.done)break e;let Lt=Math.min(Ee.len,Je-He);Be(ee,Lt,-1);let It=Ee.ins==-1?-1:Ee.off==0?Ee.ins:0;Be(T,Lt,It),It>0&&Ye(V,T,Ee.text),Ee.forward(Lt),He+=Lt}let Ct=y[Se++];for(;He<Ct;){if(Ee.done)break e;let Lt=Math.min(Ee.len,Ct-He);Be(T,Lt,-1),Be(ee,Lt,Ee.ins==-1?-1:Ee.off==0?Ee.ins:0),Ee.forward(Lt),He+=Lt}}return{changes:new xe(T,V),filtered:We.create(ee)}}toJSON(){let y=[];for(let T=0;T<this.sections.length;T+=2){let V=this.sections[T],ee=this.sections[T+1];ee<0?y.push(V):ee==0?y.push([V]):y.push([V].concat(this.inserted[T>>1].toJSON()))}return y}static of(y,T,V){let ee=[],Ee=[],Se=0,He=null;function Je(Lt=!1){if(!Lt&&!ee.length)return;Se<T&&Be(ee,T-Se,-1);let It=new xe(ee,Ee);He=He?He.compose(It.map(He)):It,ee=[],Ee=[],Se=0}function Ct(Lt){if(Array.isArray(Lt))for(let It of Lt)Ct(It);else if(Lt instanceof xe){if(Lt.length!=T)throw new RangeError(`Mismatched change set length (got ${Lt.length}, expected ${T})`);Je(),He=He?He.compose(Lt.map(He)):Lt}else{let{from:It,to:kr=It,insert:Sr}=Lt;if(It>kr||It<0||kr>T)throw new RangeError(`Invalid change range ${It} to ${kr} (in doc of length ${T})`);let kn=Sr?typeof Sr=="string"?n.of(Sr.split(V||ce)):Sr:n.empty,ci=kn.length;if(It==kr&&ci==0)return;It<Se&&Je(),It>Se&&Be(ee,It-Se,-1),Be(ee,kr-It,ci),Ye(Ee,ee,kn),Se=kr}}return Ct(y),Je(!He),He}static empty(y){return new xe(y?[y,-1]:[],[])}static fromJSON(y){if(!Array.isArray(y))throw new RangeError("Invalid JSON representation of ChangeSet");let T=[],V=[];for(let ee=0;ee<y.length;ee++){let Ee=y[ee];if(typeof Ee=="number")T.push(Ee,-1);else{if(!Array.isArray(Ee)||typeof Ee[0]!="number"||Ee.some((Se,He)=>He&&typeof Se!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(Ee.length==1)T.push(Ee[0],0);else{for(;V.length<ee;)V.push(n.empty);V[ee]=n.of(Ee.slice(1)),T.push(Ee[0],V[ee].length)}}}return new xe(T,V)}static createSet(y,T){return new xe(y,T)}}function Be(Pe,y,T,V=!1){if(y==0&&T<=0)return;let ee=Pe.length-2;ee>=0&&T<=0&&T==Pe[ee+1]?Pe[ee]+=y:y==0&&Pe[ee]==0?Pe[ee+1]+=T:V?(Pe[ee]+=y,Pe[ee+1]+=T):Pe.push(y,T)}function Ye(Pe,y,T){if(T.length==0)return;let V=y.length-2>>1;if(V<Pe.length)Pe[Pe.length-1]=Pe[Pe.length-1].append(T);else{for(;Pe.length<V;)Pe.push(n.empty);Pe.push(T)}}function kt(Pe,y,T){let V=Pe.inserted;for(let ee=0,Ee=0,Se=0;Se<Pe.sections.length;){let He=Pe.sections[Se++],Je=Pe.sections[Se++];if(Je<0)ee+=He,Ee+=He;else{let Ct=ee,Lt=Ee,It=n.empty;for(;Ct+=He,Lt+=Je,Je&&V&&(It=It.append(V[Se-2>>1])),!(T||Se==Pe.sections.length||Pe.sections[Se+1]<0);)He=Pe.sections[Se++],Je=Pe.sections[Se++];y(ee,Ct,Ee,Lt,It),ee=Ct,Ee=Lt}}}function Le(Pe,y,T,V=!1){let ee=[],Ee=V?[]:null,Se=new gt(Pe),He=new gt(y);for(let Je=-1;;)if(Se.ins==-1&&He.ins==-1){let Ct=Math.min(Se.len,He.len);Be(ee,Ct,-1),Se.forward(Ct),He.forward(Ct)}else if(He.ins>=0&&(Se.ins<0||Je==Se.i||Se.off==0&&(He.len<Se.len||He.len==Se.len&&!T))){let Ct=He.len;for(Be(ee,He.ins,-1);Ct;){let Lt=Math.min(Se.len,Ct);Se.ins>=0&&Je<Se.i&&Se.len<=Lt&&(Be(ee,0,Se.ins),Ee&&Ye(Ee,ee,Se.text),Je=Se.i),Se.forward(Lt),Ct-=Lt}He.next()}else if(Se.ins>=0){let Ct=0,Lt=Se.len;for(;Lt;)if(He.ins==-1){let It=Math.min(Lt,He.len);Ct+=It,Lt-=It,He.forward(It)}else if(He.ins==0&&He.len<Lt)Lt-=He.len,He.next();else break;Be(ee,Ct,Je<Se.i?Se.ins:0),Ee&&Je<Se.i&&Ye(Ee,ee,Se.text),Je=Se.i,Se.forward(Se.len-Lt)}else{if(Se.done&&He.done)return Ee?xe.createSet(ee,Ee):We.create(ee);throw new Error("Mismatched change set lengths")}}function ut(Pe,y,T=!1){let V=[],ee=T?[]:null,Ee=new gt(Pe),Se=new gt(y);for(let He=!1;;){if(Ee.done&&Se.done)return ee?xe.createSet(V,ee):We.create(V);if(Ee.ins==0)Be(V,Ee.len,0,He),Ee.next();else if(Se.len==0&&!Se.done)Be(V,0,Se.ins,He),ee&&Ye(ee,V,Se.text),Se.next();else{if(Ee.done||Se.done)throw new Error("Mismatched change set lengths");{let Je=Math.min(Ee.len2,Se.len),Ct=V.length;if(Ee.ins==-1){let Lt=Se.ins==-1?-1:Se.off?0:Se.ins;Be(V,Je,Lt,He),ee&&Lt&&Ye(ee,V,Se.text)}else Se.ins==-1?(Be(V,Ee.off?0:Ee.len,Je,He),ee&&Ye(ee,V,Ee.textBit(Je))):(Be(V,Ee.off?0:Ee.len,Se.off?0:Se.ins,He),ee&&!Se.off&&Ye(ee,V,Se.text));He=(Ee.ins>Je||Se.ins>=0&&Se.len>Je)&&(He||V.length>Ct),Ee.forward2(Je),Se.forward(Je)}}}}class gt{constructor(y){this.set=y,this.i=0,this.next()}next(){let{sections:y}=this.set;this.i<y.length?(this.len=y[this.i++],this.ins=y[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:y}=this.set,T=this.i-2>>1;return T>=y.length?n.empty:y[T]}textBit(y){let{inserted:T}=this.set,V=this.i-2>>1;return V>=T.length&&!y?n.empty:T[V].slice(this.off,y==null?void 0:this.off+y)}forward(y){y==this.len?this.next():(this.len-=y,this.off+=y)}forward2(y){this.ins==-1?this.forward(y):y==this.ins?this.next():(this.ins-=y,this.off+=y)}}class Ut{constructor(y,T,V){this.from=y,this.to=T,this.flags=V}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let y=this.flags&3;return y==3?null:y}get goalColumn(){let y=this.flags>>5;return y==33554431?void 0:y}map(y,T=-1){let V,ee;return this.empty?V=ee=y.mapPos(this.from,T):(V=y.mapPos(this.from,1),ee=y.mapPos(this.to,-1)),V==this.from&&ee==this.to?this:new Ut(V,ee,this.flags)}extend(y,T=y){if(y<=this.anchor&&T>=this.anchor)return wt.range(y,T);let V=Math.abs(y-this.anchor)>Math.abs(T-this.anchor)?y:T;return wt.range(this.anchor,V)}eq(y){return this.anchor==y.anchor&&this.head==y.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(y){if(!y||typeof y.anchor!="number"||typeof y.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return wt.range(y.anchor,y.head)}static create(y,T,V){return new Ut(y,T,V)}}class wt{constructor(y,T){this.ranges=y,this.mainIndex=T}map(y,T=-1){return y.empty?this:wt.create(this.ranges.map(V=>V.map(y,T)),this.mainIndex)}eq(y){if(this.ranges.length!=y.ranges.length||this.mainIndex!=y.mainIndex)return!1;for(let T=0;T<this.ranges.length;T++)if(!this.ranges[T].eq(y.ranges[T]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new wt([this.main],0)}addRange(y,T=!0){return wt.create([y].concat(this.ranges),T?0:this.mainIndex+1)}replaceRange(y,T=this.mainIndex){let V=this.ranges.slice();return V[T]=y,wt.create(V,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(y=>y.toJSON()),main:this.mainIndex}}static fromJSON(y){if(!y||!Array.isArray(y.ranges)||typeof y.main!="number"||y.main>=y.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new wt(y.ranges.map(T=>Ut.fromJSON(T)),y.main)}static single(y,T=y){return new wt([wt.range(y,T)],0)}static create(y,T=0){if(y.length==0)throw new RangeError("A selection needs at least one range");for(let V=0,ee=0;ee<y.length;ee++){let Ee=y[ee];if(Ee.empty?Ee.from<=V:Ee.from<V)return wt.normalized(y.slice(),T);V=Ee.to}return new wt(y,T)}static cursor(y,T=0,V,ee){return Ut.create(y,y,(T==0?0:T<0?4:8)|(V==null?3:Math.min(2,V))|(ee!=null?ee:33554431)<<5)}static range(y,T,V,ee){let Ee=(V!=null?V:33554431)<<5|(ee==null?3:Math.min(2,ee));return T<y?Ut.create(T,y,24|Ee):Ut.create(y,T,(T>y?4:0)|Ee)}static normalized(y,T=0){let V=y[T];y.sort((ee,Ee)=>ee.from-Ee.from),T=y.indexOf(V);for(let ee=1;ee<y.length;ee++){let Ee=y[ee],Se=y[ee-1];if(Ee.empty?Ee.from<=Se.to:Ee.from<Se.to){let He=Se.from,Je=Math.max(Ee.to,Se.to);ee<=T&&T--,y.splice(--ee,2,Ee.anchor>Ee.head?wt.range(Je,He):wt.range(He,Je))}}return new wt(y,T)}}function Ot(Pe,y){for(let T of Pe.ranges)if(T.to>y)throw new RangeError("Selection points outside of document")}let pt=0;class Ne{constructor(y,T,V,ee,Ee){this.combine=y,this.compareInput=T,this.compare=V,this.isStatic=ee,this.id=pt++,this.default=y([]),this.extensions=typeof Ee=="function"?Ee(this):Ee}static define(y={}){return new Ne(y.combine||(T=>T),y.compareInput||((T,V)=>T===V),y.compare||(y.combine?(T,V)=>T===V:bt),!!y.static,y.enables)}of(y){return new ot([],this,0,y)}compute(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new ot(y,this,1,T)}computeN(y,T){if(this.isStatic)throw new Error("Can't compute a static facet");return new ot(y,this,2,T)}from(y,T){return T||(T=V=>V),this.compute([y],V=>T(V.field(y)))}}function bt(Pe,y){return Pe==y||Pe.length==y.length&&Pe.every((T,V)=>T===y[V])}class ot{constructor(y,T,V,ee){this.dependencies=y,this.facet=T,this.type=V,this.value=ee,this.id=pt++}dynamicSlot(y){var T;let V=this.value,ee=this.facet.compareInput,Ee=this.id,Se=y[Ee]>>1,He=this.type==2,Je=!1,Ct=!1,Lt=[];for(let It of this.dependencies)It=="doc"?Je=!0:It=="selection"?Ct=!0:((T=y[It.id])!==null&&T!==void 0?T:1)&1||Lt.push(y[It.id]);return{create(It){return It.values[Se]=V(It),1},update(It,kr){if(Je&&kr.docChanged||Ct&&(kr.docChanged||kr.selection)||Re(It,Lt)){let Sr=V(It);if(He?!fe(Sr,It.values[Se],ee):!ee(Sr,It.values[Se]))return It.values[Se]=Sr,1}return 0},reconfigure:(It,kr)=>{let Sr,kn=kr.config.address[Ee];if(kn!=null){let ci=jt(kr,kn);if(this.dependencies.every(Fn=>Fn instanceof Ne?kr.facet(Fn)===It.facet(Fn):Fn instanceof er?kr.field(Fn,!1)==It.field(Fn,!1):!0)||(He?fe(Sr=V(It),ci,ee):ee(Sr=V(It),ci)))return It.values[Se]=ci,0}else Sr=V(It);return It.values[Se]=Sr,1}}}}function fe(Pe,y,T){if(Pe.length!=y.length)return!1;for(let V=0;V<Pe.length;V++)if(!T(Pe[V],y[V]))return!1;return!0}function Re(Pe,y){let T=!1;for(let V of y)Ke(Pe,V)&1&&(T=!0);return T}function ct(Pe,y,T){let V=T.map(Je=>Pe[Je.id]),ee=T.map(Je=>Je.type),Ee=V.filter(Je=>!(Je&1)),Se=Pe[y.id]>>1;function He(Je){let Ct=[];for(let Lt=0;Lt<V.length;Lt++){let It=jt(Je,V[Lt]);if(ee[Lt]==2)for(let kr of It)Ct.push(kr);else Ct.push(It)}return y.combine(Ct)}return{create(Je){for(let Ct of V)Ke(Je,Ct);return Je.values[Se]=He(Je),1},update(Je,Ct){if(!Re(Je,Ee))return 0;let Lt=He(Je);return y.compare(Lt,Je.values[Se])?0:(Je.values[Se]=Lt,1)},reconfigure(Je,Ct){let Lt=Re(Je,V),It=Ct.config.facets[y.id],kr=Ct.facet(y);if(It&&!Lt&&bt(T,It))return Je.values[Se]=kr,0;let Sr=He(Je);return y.compare(Sr,kr)?(Je.values[Se]=kr,0):(Je.values[Se]=Sr,1)}}}const $t=Ne.define({static:!0});class er{constructor(y,T,V,ee,Ee){this.id=y,this.createF=T,this.updateF=V,this.compareF=ee,this.spec=Ee,this.provides=void 0}static define(y){let T=new er(pt++,y.create,y.update,y.compare||((V,ee)=>V===ee),y);return y.provide&&(T.provides=y.provide(T)),T}create(y){let T=y.facet($t).find(V=>V.field==this);return((T==null?void 0:T.create)||this.createF)(y)}slot(y){let T=y[this.id]>>1;return{create:V=>(V.values[T]=this.create(V),1),update:(V,ee)=>{let Ee=V.values[T],Se=this.updateF(Ee,ee);return this.compareF(Ee,Se)?0:(V.values[T]=Se,1)},reconfigure:(V,ee)=>ee.config.address[this.id]!=null?(V.values[T]=ee.field(this),0):(V.values[T]=this.create(V),1)}}init(y){return[this,$t.of({field:this,create:y})]}get extension(){return this}}const Cr={lowest:4,low:3,default:2,high:1,highest:0};function ze(Pe){return y=>new Z(y,Pe)}const K={highest:ze(Cr.highest),high:ze(Cr.high),default:ze(Cr.default),low:ze(Cr.low),lowest:ze(Cr.lowest)};class Z{constructor(y,T){this.inner=y,this.prec=T}}class Q{of(y){return new pe(this,y)}reconfigure(y){return Q.reconfigure.of({compartment:this,extension:y})}get(y){return y.config.compartments.get(this)}}class pe{constructor(y,T){this.compartment=y,this.inner=T}}class ke{constructor(y,T,V,ee,Ee,Se){for(this.base=y,this.compartments=T,this.dynamicSlots=V,this.address=ee,this.staticValues=Ee,this.facets=Se,this.statusTemplate=[];this.statusTemplate.length<V.length;)this.statusTemplate.push(0)}staticFacet(y){let T=this.address[y.id];return T==null?y.default:this.staticValues[T>>1]}static resolve(y,T,V){let ee=[],Ee=Object.create(null),Se=new Map;for(let kr of tt(y,T,Se))kr instanceof er?ee.push(kr):(Ee[kr.facet.id]||(Ee[kr.facet.id]=[])).push(kr);let He=Object.create(null),Je=[],Ct=[];for(let kr of ee)He[kr.id]=Ct.length<<1,Ct.push(Sr=>kr.slot(Sr));let Lt=V==null?void 0:V.config.facets;for(let kr in Ee){let Sr=Ee[kr],kn=Sr[0].facet,ci=Lt&&Lt[kr]||[];if(Sr.every(Fn=>Fn.type==0))if(He[kn.id]=Je.length<<1|1,bt(ci,Sr))Je.push(V.facet(kn));else{let Fn=kn.combine(Sr.map(Oi=>Oi.value));Je.push(V&&kn.compare(Fn,V.facet(kn))?V.facet(kn):Fn)}else{for(let Fn of Sr)Fn.type==0?(He[Fn.id]=Je.length<<1|1,Je.push(Fn.value)):(He[Fn.id]=Ct.length<<1,Ct.push(Oi=>Fn.dynamicSlot(Oi)));He[kn.id]=Ct.length<<1,Ct.push(Fn=>ct(Fn,kn,Sr))}}let It=Ct.map(kr=>kr(He));return new ke(y,Se,It,He,Je,Ee)}}function tt(Pe,y,T){let V=[[],[],[],[],[]],ee=new Map;function Ee(Se,He){let Je=ee.get(Se);if(Je!=null){if(Je<=He)return;let Ct=V[Je].indexOf(Se);Ct>-1&&V[Je].splice(Ct,1),Se instanceof pe&&T.delete(Se.compartment)}if(ee.set(Se,He),Array.isArray(Se))for(let Ct of Se)Ee(Ct,He);else if(Se instanceof pe){if(T.has(Se.compartment))throw new RangeError("Duplicate use of compartment in extensions");let Ct=y.get(Se.compartment)||Se.inner;T.set(Se.compartment,Ct),Ee(Ct,He)}else if(Se instanceof Z)Ee(Se.inner,Se.prec);else if(Se instanceof er)V[He].push(Se),Se.provides&&Ee(Se.provides,He);else if(Se instanceof ot)V[He].push(Se),Se.facet.extensions&&Ee(Se.facet.extensions,Cr.default);else{let Ct=Se.extension;if(!Ct)throw new Error(`Unrecognized extension value in extension set (${Se}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);Ee(Ct,He)}}return Ee(Pe,Cr.default),V.reduce((Se,He)=>Se.concat(He))}function Ke(Pe,y){if(y&1)return 2;let T=y>>1,V=Pe.status[T];if(V==4)throw new Error("Cyclic dependency between fields and/or facets");if(V&2)return V;Pe.status[T]=4;let ee=Pe.computeSlot(Pe,Pe.config.dynamicSlots[T]);return Pe.status[T]=2|ee}function jt(Pe,y){return y&1?Pe.config.staticValues[y>>1]:Pe.values[y>>1]}const lr=Ne.define(),Jt=Ne.define({combine:Pe=>Pe.some(y=>y),static:!0}),Yt=Ne.define({combine:Pe=>Pe.length?Pe[0]:void 0,static:!0}),Qt=Ne.define(),nt=Ne.define(),Tt=Ne.define(),Vt=Ne.define({combine:Pe=>Pe.length?Pe[0]:!1});class yr{constructor(y,T){this.type=y,this.value=T}static define(){return new _r}}class _r{of(y){return new yr(this,y)}}class wr{constructor(y){this.map=y}of(y){return new vr(this,y)}}class vr{constructor(y,T){this.type=y,this.value=T}map(y){let T=this.type.map(this.value,y);return T===void 0?void 0:T==this.value?this:new vr(this.type,T)}is(y){return this.type==y}static define(y={}){return new wr(y.map||(T=>T))}static mapEffects(y,T){if(!y.length)return y;let V=[];for(let ee of y){let Ee=ee.map(T);Ee&&V.push(Ee)}return V}}vr.reconfigure=vr.define(),vr.appendConfig=vr.define();class Ft{constructor(y,T,V,ee,Ee,Se){this.startState=y,this.changes=T,this.selection=V,this.effects=ee,this.annotations=Ee,this.scrollIntoView=Se,this._doc=null,this._state=null,V&&Ot(V,T.newLength),Ee.some(He=>He.type==Ft.time)||(this.annotations=Ee.concat(Ft.time.of(Date.now())))}static create(y,T,V,ee,Ee,Se){return new Ft(y,T,V,ee,Ee,Se)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(y){for(let T of this.annotations)if(T.type==y)return T.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(y){let T=this.annotation(Ft.userEvent);return!!(T&&(T==y||T.length>y.length&&T.slice(0,y.length)==y&&T[y.length]=="."))}}Ft.time=yr.define(),Ft.userEvent=yr.define(),Ft.addToHistory=yr.define(),Ft.remote=yr.define();function Kr(Pe,y){let T=[];for(let V=0,ee=0;;){let Ee,Se;if(V<Pe.length&&(ee==y.length||y[ee]>=Pe[V]))Ee=Pe[V++],Se=Pe[V++];else if(ee<y.length)Ee=y[ee++],Se=y[ee++];else return T;!T.length||T[T.length-1]<Ee?T.push(Ee,Se):T[T.length-1]<Se&&(T[T.length-1]=Se)}}function Or(Pe,y,T){var V;let ee,Ee,Se;return T?(ee=y.changes,Ee=xe.empty(y.changes.length),Se=Pe.changes.compose(y.changes)):(ee=y.changes.map(Pe.changes),Ee=Pe.changes.mapDesc(y.changes,!0),Se=Pe.changes.compose(ee)),{changes:Se,selection:y.selection?y.selection.map(Ee):(V=Pe.selection)===null||V===void 0?void 0:V.map(ee),effects:vr.mapEffects(Pe.effects,ee).concat(vr.mapEffects(y.effects,Ee)),annotations:Pe.annotations.length?Pe.annotations.concat(y.annotations):y.annotations,scrollIntoView:Pe.scrollIntoView||y.scrollIntoView}}function Nr(Pe,y,T){let V=y.selection,ee=Ie(y.annotations);return y.userEvent&&(ee=ee.concat(Ft.userEvent.of(y.userEvent))),{changes:y.changes instanceof xe?y.changes:xe.of(y.changes||[],T,Pe.facet(Yt)),selection:V&&(V instanceof wt?V:wt.single(V.anchor,V.head)),effects:Ie(y.effects),annotations:ee,scrollIntoView:!!y.scrollIntoView}}function Dr(Pe,y,T){let V=Nr(Pe,y.length?y[0]:{},Pe.doc.length);y.length&&y[0].filter===!1&&(T=!1);for(let Ee=1;Ee<y.length;Ee++){y[Ee].filter===!1&&(T=!1);let Se=!!y[Ee].sequential;V=Or(V,Nr(Pe,y[Ee],Se?V.changes.newLength:Pe.doc.length),Se)}let ee=Ft.create(Pe,V.changes,V.selection,V.effects,V.annotations,V.scrollIntoView);return Yr(T?Gr(ee):ee)}function Gr(Pe){let y=Pe.startState,T=!0;for(let ee of y.facet(Qt)){let Ee=ee(Pe);if(Ee===!1){T=!1;break}Array.isArray(Ee)&&(T=T===!0?Ee:Kr(T,Ee))}if(T!==!0){let ee,Ee;if(T===!1)Ee=Pe.changes.invertedDesc,ee=xe.empty(y.doc.length);else{let Se=Pe.changes.filter(T);ee=Se.changes,Ee=Se.filtered.mapDesc(Se.changes).invertedDesc}Pe=Ft.create(y,ee,Pe.selection&&Pe.selection.map(Ee),vr.mapEffects(Pe.effects,Ee),Pe.annotations,Pe.scrollIntoView)}let V=y.facet(nt);for(let ee=V.length-1;ee>=0;ee--){let Ee=V[ee](Pe);Ee instanceof Ft?Pe=Ee:Array.isArray(Ee)&&Ee.length==1&&Ee[0]instanceof Ft?Pe=Ee[0]:Pe=Dr(y,Ie(Ee),!1)}return Pe}function Yr(Pe){let y=Pe.startState,T=y.facet(Tt),V=Pe;for(let ee=T.length-1;ee>=0;ee--){let Ee=T[ee](Pe);Ee&&Object.keys(Ee).length&&(V=Or(V,Nr(y,Ee,Pe.changes.newLength),!0))}return V==Pe?Pe:Ft.create(y,Pe.changes,Pe.selection,V.effects,V.annotations,V.scrollIntoView)}const hr=[];function Ie(Pe){return Pe==null?hr:Array.isArray(Pe)?Pe:[Pe]}var Gt=function(Pe){return Pe[Pe.Word=0]="Word",Pe[Pe.Space=1]="Space",Pe[Pe.Other=2]="Other",Pe}(Gt||(Gt={}));const ur=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let dr;try{dr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Wr(Pe){if(dr)return dr.test(Pe);for(let y=0;y<Pe.length;y++){let T=Pe[y];if(/\w/.test(T)||T>"\x80"&&(T.toUpperCase()!=T.toLowerCase()||ur.test(T)))return!0}return!1}function jr(Pe){return y=>{if(!/\S/.test(y))return Gt.Space;if(Wr(y))return Gt.Word;for(let T=0;T<Pe.length;T++)if(y.indexOf(Pe[T])>-1)return Gt.Word;return Gt.Other}}class Pr{constructor(y,T,V,ee,Ee,Se){this.config=y,this.doc=T,this.selection=V,this.values=ee,this.status=y.statusTemplate.slice(),this.computeSlot=Ee,Se&&(Se._state=this);for(let He=0;He<this.config.dynamicSlots.length;He++)Ke(this,He<<1);this.computeSlot=null}field(y,T=!0){let V=this.config.address[y.id];if(V==null){if(T)throw new RangeError("Field is not present in this state");return}return Ke(this,V),jt(this,V)}update(...y){return Dr(this,y,!0)}applyTransaction(y){let T=this.config,{base:V,compartments:ee}=T;for(let Se of y.effects)Se.is(Q.reconfigure)?(T&&(ee=new Map,T.compartments.forEach((He,Je)=>ee.set(Je,He)),T=null),ee.set(Se.value.compartment,Se.value.extension)):Se.is(vr.reconfigure)?(T=null,V=Se.value):Se.is(vr.appendConfig)&&(T=null,V=Ie(V).concat(Se.value));let Ee;T?Ee=y.startState.values.slice():(T=ke.resolve(V,ee,this),Ee=new Pr(T,this.doc,this.selection,T.dynamicSlots.map(()=>null),(He,Je)=>Je.reconfigure(He,this),null).values),new Pr(T,y.newDoc,y.newSelection,Ee,(Se,He)=>He.update(Se,y),y)}replaceSelection(y){return typeof y=="string"&&(y=this.toText(y)),this.changeByRange(T=>({changes:{from:T.from,to:T.to,insert:y},range:wt.cursor(T.from+y.length)}))}changeByRange(y){let T=this.selection,V=y(T.ranges[0]),ee=this.changes(V.changes),Ee=[V.range],Se=Ie(V.effects);for(let He=1;He<T.ranges.length;He++){let Je=y(T.ranges[He]),Ct=this.changes(Je.changes),Lt=Ct.map(ee);for(let kr=0;kr<He;kr++)Ee[kr]=Ee[kr].map(Lt);let It=ee.mapDesc(Ct,!0);Ee.push(Je.range.map(It)),ee=ee.compose(Lt),Se=vr.mapEffects(Se,Lt).concat(vr.mapEffects(Ie(Je.effects),It))}return{changes:ee,selection:wt.create(Ee,T.mainIndex),effects:Se}}changes(y=[]){return y instanceof xe?y:xe.of(y,this.doc.length,this.facet(Pr.lineSeparator))}toText(y){return n.of(y.split(this.facet(Pr.lineSeparator)||ce))}sliceDoc(y=0,T=this.doc.length){return this.doc.sliceString(y,T,this.lineBreak)}facet(y){let T=this.config.address[y.id];return T==null?y.default:(Ke(this,T),jt(this,T))}toJSON(y){let T={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(y)for(let V in y){let ee=y[V];ee instanceof er&&this.config.address[ee.id]!=null&&(T[V]=ee.spec.toJSON(this.field(y[V]),this))}return T}static fromJSON(y,T={},V){if(!y||typeof y.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let ee=[];if(V){for(let Ee in V)if(Object.prototype.hasOwnProperty.call(y,Ee)){let Se=V[Ee],He=y[Ee];ee.push(Se.init(Je=>Se.spec.fromJSON(He,Je)))}}return Pr.create({doc:y.doc,selection:wt.fromJSON(y.selection),extensions:T.extensions?ee.concat([T.extensions]):ee})}static create(y={}){let T=ke.resolve(y.extensions||[],new Map),V=y.doc instanceof n?y.doc:n.of((y.doc||"").split(T.staticFacet(Pr.lineSeparator)||ce)),ee=y.selection?y.selection instanceof wt?y.selection:wt.single(y.selection.anchor,y.selection.head):wt.single(0);return Ot(ee,V.length),T.staticFacet(Jt)||(ee=ee.asSingle()),new Pr(T,V,ee,T.dynamicSlots.map(()=>null),(Ee,Se)=>Se.create(Ee),null)}get tabSize(){return this.facet(Pr.tabSize)}get lineBreak(){return this.facet(Pr.lineSeparator)||`
`}get readOnly(){return this.facet(Vt)}phrase(y,...T){for(let V of this.facet(Pr.phrases))if(Object.prototype.hasOwnProperty.call(V,y)){y=V[y];break}return T.length&&(y=y.replace(/\$(\$|\d*)/g,(V,ee)=>{if(ee=="$")return"$";let Ee=+(ee||1);return!Ee||Ee>T.length?V:T[Ee-1]})),y}languageDataAt(y,T,V=-1){let ee=[];for(let Ee of this.facet(lr))for(let Se of Ee(this,T,V))Object.prototype.hasOwnProperty.call(Se,y)&&ee.push(Se[y]);return ee}charCategorizer(y){return jr(this.languageDataAt("wordChars",y).join(""))}wordAt(y){let{text:T,from:V,length:ee}=this.doc.lineAt(y),Ee=this.charCategorizer(y),Se=y-V,He=y-V;for(;Se>0;){let Je=we(T,Se,!1);if(Ee(T.slice(Je,Se))!=Gt.Word)break;Se=Je}for(;He<ee;){let Je=we(T,He);if(Ee(T.slice(He,Je))!=Gt.Word)break;He=Je}return Se==He?null:wt.range(Se+V,He+V)}}Pr.allowMultipleSelections=Jt,Pr.tabSize=Ne.define({combine:Pe=>Pe.length?Pe[0]:4}),Pr.lineSeparator=Yt,Pr.readOnly=Vt,Pr.phrases=Ne.define({compare(Pe,y){let T=Object.keys(Pe),V=Object.keys(y);return T.length==V.length&&T.every(ee=>Pe[ee]==y[ee])}}),Pr.languageData=lr,Pr.changeFilter=Qt,Pr.transactionFilter=nt,Pr.transactionExtender=Tt,Q.reconfigure=vr.define();function Zr(Pe,y,T={}){let V={};for(let ee of Pe)for(let Ee of Object.keys(ee)){let Se=ee[Ee],He=V[Ee];if(He===void 0)V[Ee]=Se;else if(!(He===Se||Se===void 0))if(Object.hasOwnProperty.call(T,Ee))V[Ee]=T[Ee](He,Se);else throw new Error("Config merge conflict for field "+Ee)}for(let ee in y)V[ee]===void 0&&(V[ee]=y[ee]);return V}class Ar{eq(y){return this==y}range(y,T=y){return Lr.create(y,T,this)}}Ar.prototype.startSide=Ar.prototype.endSide=0,Ar.prototype.point=!1,Ar.prototype.mapMode=F.TrackDel;class Lr{constructor(y,T,V){this.from=y,this.to=T,this.value=V}static create(y,T,V){return new Lr(y,T,V)}}function qr(Pe,y){return Pe.from-y.from||Pe.value.startSide-y.value.startSide}class mn{constructor(y,T,V,ee){this.from=y,this.to=T,this.value=V,this.maxPoint=ee}get length(){return this.to[this.to.length-1]}findIndex(y,T,V,ee=0){let Ee=V?this.to:this.from;for(let Se=ee,He=Ee.length;;){if(Se==He)return Se;let Je=Se+He>>1,Ct=Ee[Je]-y||(V?this.value[Je].endSide:this.value[Je].startSide)-T;if(Je==Se)return Ct>=0?Se:He;Ct>=0?He=Je:Se=Je+1}}between(y,T,V,ee){for(let Ee=this.findIndex(T,-1e9,!0),Se=this.findIndex(V,1e9,!1,Ee);Ee<Se;Ee++)if(ee(this.from[Ee]+y,this.to[Ee]+y,this.value[Ee])===!1)return!1}map(y,T){let V=[],ee=[],Ee=[],Se=-1,He=-1;for(let Je=0;Je<this.value.length;Je++){let Ct=this.value[Je],Lt=this.from[Je]+y,It=this.to[Je]+y,kr,Sr;if(Lt==It){let kn=T.mapPos(Lt,Ct.startSide,Ct.mapMode);if(kn==null||(kr=Sr=kn,Ct.startSide!=Ct.endSide&&(Sr=T.mapPos(Lt,Ct.endSide),Sr<kr)))continue}else if(kr=T.mapPos(Lt,Ct.startSide),Sr=T.mapPos(It,Ct.endSide),kr>Sr||kr==Sr&&Ct.startSide>0&&Ct.endSide<=0)continue;(Sr-kr||Ct.endSide-Ct.startSide)<0||(Se<0&&(Se=kr),Ct.point&&(He=Math.max(He,Sr-kr)),V.push(Ct),ee.push(kr-Se),Ee.push(Sr-Se))}return{mapped:V.length?new mn(ee,Ee,V,He):null,pos:Se}}}class Ur{constructor(y,T,V,ee){this.chunkPos=y,this.chunk=T,this.nextLayer=V,this.maxPoint=ee}static create(y,T,V,ee){return new Ur(y,T,V,ee)}get length(){let y=this.chunk.length-1;return y<0?0:Math.max(this.chunkEnd(y),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let y=this.nextLayer.size;for(let T of this.chunk)y+=T.value.length;return y}chunkEnd(y){return this.chunkPos[y]+this.chunk[y].length}update(y){let{add:T=[],sort:V=!1,filterFrom:ee=0,filterTo:Ee=this.length}=y,Se=y.filter;if(T.length==0&&!Se)return this;if(V&&(T=T.slice().sort(qr)),this.isEmpty)return T.length?Ur.of(T):this;let He=new Xr(this,null,-1).goto(0),Je=0,Ct=[],Lt=new bn;for(;He.value||Je<T.length;)if(Je<T.length&&(He.from-T[Je].from||He.startSide-T[Je].value.startSide)>=0){let It=T[Je++];Lt.addInner(It.from,It.to,It.value)||Ct.push(It)}else He.rangeIndex==1&&He.chunkIndex<this.chunk.length&&(Je==T.length||this.chunkEnd(He.chunkIndex)<T[Je].from)&&(!Se||ee>this.chunkEnd(He.chunkIndex)||Ee<this.chunkPos[He.chunkIndex])&&Lt.addChunk(this.chunkPos[He.chunkIndex],this.chunk[He.chunkIndex])?He.nextChunk():((!Se||ee>He.to||Ee<He.from||Se(He.from,He.to,He.value))&&(Lt.addInner(He.from,He.to,He.value)||Ct.push(Lr.create(He.from,He.to,He.value))),He.next());return Lt.finishInner(this.nextLayer.isEmpty&&!Ct.length?Ur.empty:this.nextLayer.update({add:Ct,filter:Se,filterFrom:ee,filterTo:Ee}))}map(y){if(y.empty||this.isEmpty)return this;let T=[],V=[],ee=-1;for(let Se=0;Se<this.chunk.length;Se++){let He=this.chunkPos[Se],Je=this.chunk[Se],Ct=y.touchesRange(He,He+Je.length);if(Ct===!1)ee=Math.max(ee,Je.maxPoint),T.push(Je),V.push(y.mapPos(He));else if(Ct===!0){let{mapped:Lt,pos:It}=Je.map(He,y);Lt&&(ee=Math.max(ee,Lt.maxPoint),T.push(Lt),V.push(It))}}let Ee=this.nextLayer.map(y);return T.length==0?Ee:new Ur(V,T,Ee||Ur.empty,ee)}between(y,T,V){if(!this.isEmpty){for(let ee=0;ee<this.chunk.length;ee++){let Ee=this.chunkPos[ee],Se=this.chunk[ee];if(T>=Ee&&y<=Ee+Se.length&&Se.between(Ee,y-Ee,T-Ee,V)===!1)return}this.nextLayer.between(y,T,V)}}iter(y=0){return fn.from([this]).goto(y)}get isEmpty(){return this.nextLayer==this}static iter(y,T=0){return fn.from(y).goto(T)}static compare(y,T,V,ee,Ee=-1){let Se=y.filter(It=>It.maxPoint>0||!It.isEmpty&&It.maxPoint>=Ee),He=T.filter(It=>It.maxPoint>0||!It.isEmpty&&It.maxPoint>=Ee),Je=wn(Se,He,V),Ct=new nn(Se,Je,Ee),Lt=new nn(He,Je,Ee);V.iterGaps((It,kr,Sr)=>Tn(Ct,It,Lt,kr,Sr,ee)),V.empty&&V.length==0&&Tn(Ct,0,Lt,0,0,ee)}static eq(y,T,V=0,ee){ee==null&&(ee=1e9-1);let Ee=y.filter(Lt=>!Lt.isEmpty&&T.indexOf(Lt)<0),Se=T.filter(Lt=>!Lt.isEmpty&&y.indexOf(Lt)<0);if(Ee.length!=Se.length)return!1;if(!Ee.length)return!0;let He=wn(Ee,Se),Je=new nn(Ee,He,0).goto(V),Ct=new nn(Se,He,0).goto(V);for(;;){if(Je.to!=Ct.to||!Sn(Je.active,Ct.active)||Je.point&&(!Ct.point||!Je.point.eq(Ct.point)))return!1;if(Je.to>ee)return!0;Je.next(),Ct.next()}}static spans(y,T,V,ee,Ee=-1){let Se=new nn(y,null,Ee).goto(T),He=T,Je=Se.openStart;for(;;){let Ct=Math.min(Se.to,V);if(Se.point){let Lt=Se.activeForPoint(Se.to),It=Se.pointFrom<T?Lt.length+1:Math.min(Lt.length,Je);ee.point(He,Ct,Se.point,Lt,It,Se.pointRank),Je=Math.min(Se.openEnd(Ct),Lt.length)}else Ct>He&&(ee.span(He,Ct,Se.active,Je),Je=Se.openEnd(Ct));if(Se.to>V)return Je+(Se.point&&Se.to>V?1:0);He=Se.to,Se.next()}}static of(y,T=!1){let V=new bn;for(let ee of y instanceof Lr?[y]:T?pn(y):y)V.add(ee.from,ee.to,ee.value);return V.finish()}}Ur.empty=new Ur([],[],null,-1);function pn(Pe){if(Pe.length>1)for(let y=Pe[0],T=1;T<Pe.length;T++){let V=Pe[T];if(qr(y,V)>0)return Pe.slice().sort(qr);y=V}return Pe}Ur.empty.nextLayer=Ur.empty;class bn{finishChunk(y){this.chunks.push(new mn(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,y&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(y,T,V){this.addInner(y,T,V)||(this.nextLayer||(this.nextLayer=new bn)).add(y,T,V)}addInner(y,T,V){let ee=y-this.lastTo||V.startSide-this.last.endSide;if(ee<=0&&(y-this.lastFrom||V.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return ee<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=y),this.from.push(y-this.chunkStart),this.to.push(T-this.chunkStart),this.last=V,this.lastFrom=y,this.lastTo=T,this.value.push(V),V.point&&(this.maxPoint=Math.max(this.maxPoint,T-y)),!0)}addChunk(y,T){if((y-this.lastTo||T.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,T.maxPoint),this.chunks.push(T),this.chunkPos.push(y);let V=T.value.length-1;return this.last=T.value[V],this.lastFrom=T.from[V]+y,this.lastTo=T.to[V]+y,!0}finish(){return this.finishInner(Ur.empty)}finishInner(y){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return y;let T=Ur.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(y):y,this.setMaxPoint);return this.from=null,T}}function wn(Pe,y,T){let V=new Map;for(let Ee of Pe)for(let Se=0;Se<Ee.chunk.length;Se++)Ee.chunk[Se].maxPoint<=0&&V.set(Ee.chunk[Se],Ee.chunkPos[Se]);let ee=new Set;for(let Ee of y)for(let Se=0;Se<Ee.chunk.length;Se++){let He=V.get(Ee.chunk[Se]);He!=null&&(T?T.mapPos(He):He)==Ee.chunkPos[Se]&&!(T!=null&&T.touchesRange(He,He+Ee.chunk[Se].length))&&ee.add(Ee.chunk[Se])}return ee}class Xr{constructor(y,T,V,ee=0){this.layer=y,this.skip=T,this.minPoint=V,this.rank=ee}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(y,T=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(y,T,!1),this}gotoInner(y,T,V){for(;this.chunkIndex<this.layer.chunk.length;){let ee=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(ee)||this.layer.chunkEnd(this.chunkIndex)<y||ee.maxPoint<this.minPoint))break;this.chunkIndex++,V=!1}if(this.chunkIndex<this.layer.chunk.length){let ee=this.layer.chunk[this.chunkIndex].findIndex(y-this.layer.chunkPos[this.chunkIndex],T,!0);(!V||this.rangeIndex<ee)&&this.setRangeIndex(ee)}this.next()}forward(y,T){(this.to-y||this.endSide-T)<0&&this.gotoInner(y,T,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let y=this.layer.chunkPos[this.chunkIndex],T=this.layer.chunk[this.chunkIndex],V=y+T.from[this.rangeIndex];if(this.from=V,this.to=y+T.to[this.rangeIndex],this.value=T.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(y){if(y==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=y}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(y){return this.from-y.from||this.startSide-y.startSide||this.rank-y.rank||this.to-y.to||this.endSide-y.endSide}}class fn{constructor(y){this.heap=y}static from(y,T=null,V=-1){let ee=[];for(let Ee=0;Ee<y.length;Ee++)for(let Se=y[Ee];!Se.isEmpty;Se=Se.nextLayer)Se.maxPoint>=V&&ee.push(new Xr(Se,T,V,Ee));return ee.length==1?ee[0]:new fn(ee)}get startSide(){return this.value?this.value.startSide:0}goto(y,T=-1e9){for(let V of this.heap)V.goto(y,T);for(let V=this.heap.length>>1;V>=0;V--)On(this.heap,V);return this.next(),this}forward(y,T){for(let V of this.heap)V.forward(y,T);for(let V=this.heap.length>>1;V>=0;V--)On(this.heap,V);(this.to-y||this.value.endSide-T)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let y=this.heap[0];this.from=y.from,this.to=y.to,this.value=y.value,this.rank=y.rank,y.value&&y.next(),On(this.heap,0)}}}function On(Pe,y){for(let T=Pe[y];;){let V=(y<<1)+1;if(V>=Pe.length)break;let ee=Pe[V];if(V+1<Pe.length&&ee.compare(Pe[V+1])>=0&&(ee=Pe[V+1],V++),T.compare(ee)<0)break;Pe[V]=T,Pe[y]=ee,y=V}}class nn{constructor(y,T,V){this.minPoint=V,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fn.from(y,T,V)}goto(y,T=-1e9){return this.cursor.goto(y,T),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=y,this.endSide=T,this.openStart=-1,this.next(),this}forward(y,T){for(;this.minActive>-1&&(this.activeTo[this.minActive]-y||this.active[this.minActive].endSide-T)<0;)this.removeActive(this.minActive);this.cursor.forward(y,T)}removeActive(y){sn(this.active,y),sn(this.activeTo,y),sn(this.activeRank,y),this.minActive=ni(this.active,this.activeTo)}addActive(y){let T=0,{value:V,to:ee,rank:Ee}=this.cursor;for(;T<this.activeRank.length&&this.activeRank[T]<=Ee;)T++;un(this.active,T,V),un(this.activeTo,T,ee),un(this.activeRank,T,Ee),y&&un(y,T,this.cursor.from),this.minActive=ni(this.active,this.activeTo)}next(){let y=this.to,T=this.point;this.point=null;let V=this.openStart<0?[]:null;for(;;){let ee=this.minActive;if(ee>-1&&(this.activeTo[ee]-this.cursor.from||this.active[ee].endSide-this.cursor.startSide)<0){if(this.activeTo[ee]>y){this.to=this.activeTo[ee],this.endSide=this.active[ee].endSide;break}this.removeActive(ee),V&&sn(V,ee)}else if(this.cursor.value)if(this.cursor.from>y){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let Ee=this.cursor.value;if(!Ee.point)this.addActive(V),this.cursor.next();else if(T&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=Ee,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=Ee.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(V){this.openStart=0;for(let ee=V.length-1;ee>=0&&V[ee]<y;ee--)this.openStart++}}activeForPoint(y){if(!this.active.length)return this.active;let T=[];for(let V=this.active.length-1;V>=0&&!(this.activeRank[V]<this.pointRank);V--)(this.activeTo[V]>y||this.activeTo[V]==y&&this.active[V].endSide>=this.point.endSide)&&T.push(this.active[V]);return T.reverse()}openEnd(y){let T=0;for(let V=this.activeTo.length-1;V>=0&&this.activeTo[V]>y;V--)T++;return T}}function Tn(Pe,y,T,V,ee,Ee){Pe.goto(y),T.goto(V);let Se=V+ee,He=V,Je=V-y;for(;;){let Ct=Pe.to+Je-T.to||Pe.endSide-T.endSide,Lt=Ct<0?Pe.to+Je:T.to,It=Math.min(Lt,Se);if(Pe.point||T.point?Pe.point&&T.point&&(Pe.point==T.point||Pe.point.eq(T.point))&&Sn(Pe.activeForPoint(Pe.to),T.activeForPoint(T.to))||Ee.comparePoint(He,It,Pe.point,T.point):It>He&&!Sn(Pe.active,T.active)&&Ee.compareRange(He,It,Pe.active,T.active),Lt>Se)break;He=Lt,Ct<=0&&Pe.next(),Ct>=0&&T.next()}}function Sn(Pe,y){if(Pe.length!=y.length)return!1;for(let T=0;T<Pe.length;T++)if(Pe[T]!=y[T]&&!Pe[T].eq(y[T]))return!1;return!0}function sn(Pe,y){for(let T=y,V=Pe.length-1;T<V;T++)Pe[T]=Pe[T+1];Pe.pop()}function un(Pe,y,T){for(let V=Pe.length-1;V>=y;V--)Pe[V+1]=Pe[V];Pe[y]=T}function ni(Pe,y){let T=-1,V=1e9;for(let ee=0;ee<y.length;ee++)(y[ee]-V||Pe[ee].endSide-Pe[T].endSide)<0&&(T=ee,V=y[ee]);return T}function hi(Pe,y,T=Pe.length){let V=0;for(let ee=0;ee<T;)Pe.charCodeAt(ee)==9?(V+=y-V%y,ee++):(V++,ee=we(Pe,ee));return V}function Bi(Pe,y,T,V){for(let ee=0,Ee=0;;){if(Ee>=y)return ee;if(ee==Pe.length)break;Ee+=Pe.charCodeAt(ee)==9?T-Ee%T:1,ee=we(Pe,ee)}return V===!0?-1:Pe.length}},65329:function(_e,w,a){"use strict";a.d(w,{p:function(){return Ie},Nm:function(){return It},tk:function(){return Un},SJ:function(){return or},lg:function(){return Pe},l9:function(){return Yr},S2:function(){return Ya},Uw:function(){return ys},qr:function(){return la},Sd:function(){return Ae},gB:function(){return Ao},v5:function(){return Jr},ZO:function(){return ca},HQ:function(){return de},AE:function(){return bs},bF:function(){return zo},$f:function(){return gn},Eu:function(){return h},OO:function(){return un},W$:function(){return Po},Zs:function(){return fa},$1:function(){return wi},mH:function(){return Bt},hJ:function(){return Za}});for(var n=a(1727),p=a(37207),I={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},O={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),k=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),L=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),M=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$=L||D&&+D[1]<57,z=0;z<10;z++)I[48+z]=I[96+z]=String(z);for(var z=1;z<=24;z++)I[z+111]="F"+z;for(var z=65;z<=90;z++)I[z]=String.fromCharCode(z+32),O[z]=String.fromCharCode(z);for(var J in I)O.hasOwnProperty(J)||(O[J]=I[J]);function ne(l){var e=$&&(l.ctrlKey||l.altKey||l.metaKey)||M&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",t=!e&&l.key||(l.shiftKey?O:I)[l.keyCode]||l.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function te(l){let e;return l.nodeType==11?e=l.getSelection?l:l.ownerDocument:e=l,e.getSelection()}function oe(l,e){return e?l==e||l.contains(e.nodeType!=1?e.parentNode:e):!1}function we(l){let e=l.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function U(l,e){if(!e.anchorNode)return!1;try{return oe(l,e.anchorNode)}catch{return!1}}function q(l){return l.nodeType==3?Le(l,0,l.nodeValue.length).getClientRects():l.nodeType==1?l.getClientRects():[]}function Oe(l,e,t,o){return t?ve(l,e,t,o,-1)||ve(l,e,t,o,1):!1}function ae(l){for(var e=0;;e++)if(l=l.previousSibling,!l)return e}function ve(l,e,t,o,c){for(;;){if(l==t&&e==o)return!0;if(e==(c<0?0:Te(l))){if(l.nodeName=="DIV")return!1;let v=l.parentNode;if(!v||v.nodeType!=1)return!1;e=ae(l)+(c<0?0:1),l=v}else if(l.nodeType==1){if(l=l.childNodes[e+(c<0?-1:0)],l.nodeType==1&&l.contentEditable=="false")return!1;e=c<0?Te(l):0}else return!1}}function Te(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function re(l,e){let t=e?l.left:l.right;return{left:t,right:t,top:l.top,bottom:l.bottom}}function ce(l){return{left:0,right:l.innerWidth,top:0,bottom:l.innerHeight}}function F(l,e,t,o,c,v,P,W){let X=l.ownerDocument,he=X.defaultView||window;for(let ue=l;ue;)if(ue.nodeType==1){let je,ft=ue==X.body;if(ft)je=ce(he);else{if(ue.scrollHeight<=ue.clientHeight&&ue.scrollWidth<=ue.clientWidth){ue=ue.assignedSlot||ue.parentNode;continue}let Pt=ue.getBoundingClientRect();je={left:Pt.left,right:Pt.left+ue.clientWidth,top:Pt.top,bottom:Pt.top+ue.clientHeight}}let Et=0,Nt=0;if(c=="nearest")e.top<je.top?(Nt=-(je.top-e.top+P),t>0&&e.bottom>je.bottom+Nt&&(Nt=e.bottom-je.bottom+Nt+P)):e.bottom>je.bottom&&(Nt=e.bottom-je.bottom+P,t<0&&e.top-Nt<je.top&&(Nt=-(je.top+Nt-e.top+P)));else{let Pt=e.bottom-e.top,Zt=je.bottom-je.top;Nt=(c=="center"&&Pt<=Zt?e.top+Pt/2-Zt/2:c=="start"||c=="center"&&t<0?e.top-P:e.bottom-Zt+P)-je.top}if(o=="nearest"?e.left<je.left?(Et=-(je.left-e.left+v),t>0&&e.right>je.right+Et&&(Et=e.right-je.right+Et+v)):e.right>je.right&&(Et=e.right-je.right+v,t<0&&e.left<je.left+Et&&(Et=-(je.left+Et-e.left+v))):Et=(o=="center"?e.left+(e.right-e.left)/2-(je.right-je.left)/2:o=="start"==W?e.left-v:e.right-(je.right-je.left)+v)-je.left,Et||Nt)if(ft)he.scrollBy(Et,Nt);else{let Pt=0,Zt=0;if(Nt){let qt=ue.scrollTop;ue.scrollTop+=Nt,Zt=ue.scrollTop-qt}if(Et){let qt=ue.scrollLeft;ue.scrollLeft+=Et,Pt=ue.scrollLeft-qt}e={left:e.left-Pt,top:e.top-Zt,right:e.right-Pt,bottom:e.bottom-Zt},Pt&&Math.abs(Pt-Et)<1&&(o="nearest"),Zt&&Math.abs(Zt-Nt)<1&&(c="nearest")}if(ft)break;ue=ue.assignedSlot||ue.parentNode}else if(ue.nodeType==11)ue=ue.host;else break}function We(l){let e=l.ownerDocument;for(let t=l.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class xe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:o}=e;this.set(t,Math.min(e.anchorOffset,t?Te(t):0),o,Math.min(e.focusOffset,o?Te(o):0))}set(e,t,o,c){this.anchorNode=e,this.anchorOffset=t,this.focusNode=o,this.focusOffset=c}}let Be=null;function Ye(l){if(l.setActive)return l.setActive();if(Be)return l.focus(Be);let e=[];for(let t=l;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(l.focus(Be==null?{get preventScroll(){return Be={preventScroll:!0},!0}}:void 0),!Be){Be=!1;for(let t=0;t<e.length;){let o=e[t++],c=e[t++],v=e[t++];o.scrollTop!=c&&(o.scrollTop=c),o.scrollLeft!=v&&(o.scrollLeft=v)}}}let kt;function Le(l,e,t=e){let o=kt||(kt=document.createRange());return o.setEnd(l,t),o.setStart(l,e),o}function ut(l,e,t){let o={key:e,code:e,keyCode:t,which:t,cancelable:!0},c=new KeyboardEvent("keydown",o);c.synthetic=!0,l.dispatchEvent(c);let v=new KeyboardEvent("keyup",o);return v.synthetic=!0,l.dispatchEvent(v),c.defaultPrevented||v.defaultPrevented}function gt(l){for(;l;){if(l&&(l.nodeType==9||l.nodeType==11&&l.host))return l;l=l.assignedSlot||l.parentNode}return null}function Ut(l){for(;l.attributes.length;)l.removeAttributeNode(l.attributes[0])}function wt(l,e){let t=e.focusNode,o=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=o)return!1;for(o=Math.min(o,Te(t));;)if(o){if(t.nodeType!=1)return!1;let c=t.childNodes[o-1];c.contentEditable=="false"?o--:(t=c,o=Te(t))}else{if(t==l)return!0;o=ae(t),t=t.parentNode}}class Ot{constructor(e,t,o=!0){this.node=e,this.offset=t,this.precise=o}static before(e,t){return new Ot(e.parentNode,ae(e),t)}static after(e,t){return new Ot(e.parentNode,ae(e)+1,t)}}const pt=[];class Ne{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let o of this.children){if(o==e)return t;t+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let o=this.dom,c=null,v;for(let P of this.children){if(P.dirty){if(!P.dom&&(v=c?c.nextSibling:o.firstChild)){let W=Ne.get(v);(!W||!W.parent&&W.canReuseDOM(P))&&P.reuseDOM(v)}P.sync(e,t),P.dirty=0}if(v=c?c.nextSibling:o.firstChild,t&&!t.written&&t.node==o&&v!=P.dom&&(t.written=!0),P.dom.parentNode==o)for(;v&&v!=P.dom;)v=bt(v);else o.insertBefore(P.dom,v);c=P.dom}for(v=c?c.nextSibling:o.firstChild,v&&t&&t.node==o&&(t.written=!0);v;)v=bt(v)}else if(this.dirty&1)for(let o of this.children)o.dirty&&(o.sync(e,t),o.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let o;if(e==this.dom)o=this.dom.childNodes[t];else{let c=Te(e)==0?0:t==0?-1:1;for(;;){let v=e.parentNode;if(v==this.dom)break;c==0&&v.firstChild!=v.lastChild&&(e==v.firstChild?c=-1:c=1),e=v}c<0?o=e:o=e.nextSibling}if(o==this.dom.firstChild)return 0;for(;o&&!Ne.get(o);)o=o.nextSibling;if(!o)return this.length;for(let c=0,v=0;;c++){let P=this.children[c];if(P.dom==o)return v;v+=P.length+P.breakAfter}}domBoundsAround(e,t,o=0){let c=-1,v=-1,P=-1,W=-1;for(let X=0,he=o,ue=o;X<this.children.length;X++){let je=this.children[X],ft=he+je.length;if(he<e&&ft>t)return je.domBoundsAround(e,t,he);if(ft>=e&&c==-1&&(c=X,v=he),he>t&&je.dom.parentNode==this.dom){P=X,W=ue;break}ue=ft,he=ft+je.breakAfter}return{from:v,to:W<0?o+this.length:W,startDOM:(c?this.children[c-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:P<this.children.length&&P>=0?this.children[P].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,o=pt){this.markDirty();for(let c=e;c<t;c++){let v=this.children[c];v.parent==this&&v.destroy()}this.children.splice(e,t-e,...o);for(let c=0;c<o.length;c++)o[c].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ot(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,o,c,v,P){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Ne.prototype.breakAfter=0;function bt(l){let e=l.nextSibling;return l.parentNode.removeChild(l),e}class ot{constructor(e,t,o){this.children=e,this.pos=t,this.i=o,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let o=this.children[--this.i];this.pos-=o.length+o.breakAfter}}}function fe(l,e,t,o,c,v,P,W,X){let{children:he}=l,ue=he.length?he[e]:null,je=v.length?v[v.length-1]:null,ft=je?je.breakAfter:P;if(!(e==o&&ue&&!P&&!ft&&v.length<2&&ue.merge(t,c,v.length?je:null,t==0,W,X))){if(o<he.length){let Et=he[o];Et&&c<Et.length?(e==o&&(Et=Et.split(c),c=0),!ft&&je&&Et.merge(0,c,je,!0,0,X)?v[v.length-1]=Et:(c&&Et.merge(0,c,null,!1,0,X),v.push(Et))):Et!=null&&Et.breakAfter&&(je?je.breakAfter=1:P=1),o++}for(ue&&(ue.breakAfter=P,t>0&&(!P&&v.length&&ue.merge(t,ue.length,v[0],!1,W,0)?ue.breakAfter=v.shift().breakAfter:(t<ue.length||ue.children.length&&ue.children[ue.children.length-1].length==0)&&ue.merge(t,ue.length,null,!1,W,0),e++));e<o&&v.length;)if(he[o-1].become(v[v.length-1]))o--,v.pop(),X=v.length?0:W;else if(he[e].become(v[0]))e++,v.shift(),W=v.length?0:X;else break;!v.length&&e&&o<he.length&&!he[e-1].breakAfter&&he[o].merge(0,0,he[e-1],!1,W,X)&&e--,(e<o||v.length)&&l.replaceChildren(e,o,v)}}function Re(l,e,t,o,c,v){let P=l.childCursor(),{i:W,off:X}=P.findPos(t,1),{i:he,off:ue}=P.findPos(e,-1),je=e-t;for(let ft of o)je+=ft.length;l.length+=je,fe(l,he,ue,W,X,o,0,c,v)}let ct=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},$t=typeof document!="undefined"?document:{documentElement:{style:{}}};const er=/Edge\/(\d+)/.exec(ct.userAgent),Cr=/MSIE \d/.test(ct.userAgent),ze=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ct.userAgent),K=!!(Cr||ze||er),Z=!K&&/gecko\/(\d+)/i.test(ct.userAgent),Q=!K&&/Chrome\/(\d+)/.exec(ct.userAgent),pe="webkitFontSmoothing"in $t.documentElement.style,ke=!K&&/Apple Computer/.test(ct.vendor),tt=ke&&(/Mobile\/\w+/.test(ct.userAgent)||ct.maxTouchPoints>2);var Ke={mac:tt||/Mac/.test(ct.platform),windows:/Win/.test(ct.platform),linux:/Linux|X11/.test(ct.platform),ie:K,ie_version:Cr?$t.documentMode||6:ze?+ze[1]:er?+er[1]:0,gecko:Z,gecko_version:Z?+(/Firefox\/(\d+)/.exec(ct.userAgent)||[0,0])[1]:0,chrome:!!Q,chrome_version:Q?+Q[1]:0,ios:tt,android:/Android\b/.test(ct.userAgent),webkit:pe,safari:ke,webkit_version:pe?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:$t.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const jt=256;class lr extends Ne{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,o){return o&&(!(o instanceof lr)||this.length-(t-e)+o.length>jt)?!1:(this.text=this.text.slice(0,e)+(o?o.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new lr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ot(this.dom,e)}domBoundsAround(e,t,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Yt(this.dom,e,t)}}class Jt extends Ne{constructor(e,t=[],o=0){super(),this.mark=e,this.children=t,this.length=o;for(let c of t)c.setParent(this)}setAttrs(e){if(Ut(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,o,c,v,P){return o&&(!(o instanceof Jt&&o.mark.eq(this.mark))||e&&v<=0||t<this.length&&P<=0)?!1:(Re(this,e,t,o?o.children:[],v-1,P-1),this.markDirty(),!0)}split(e){let t=[],o=0,c=-1,v=0;for(let W of this.children){let X=o+W.length;X>e&&t.push(o<e?W.split(e-o):W),c<0&&o>=e&&(c=v),o=X,v++}let P=this.length-e;return this.length=e,c>-1&&(this.children.length=c,this.markDirty()),new Jt(this.mark,t,P)}domAtPos(e){return vr(this,e)}coordsAt(e,t){return Kr(this,e,t)}}function Yt(l,e,t){let o=l.nodeValue.length;e>o&&(e=o);let c=e,v=e,P=0;e==0&&t<0||e==o&&t>=0?Ke.chrome||Ke.gecko||(e?(c--,P=1):v<o&&(v++,P=-1)):t<0?c--:v<o&&v++;let W=Le(l,c,v).getClientRects();if(!W.length)return null;let X=W[(P?P<0:t>=0)?0:W.length-1];return Ke.safari&&!P&&X.width==0&&(X=Array.prototype.find.call(W,he=>he.width)||X),P?re(X,P<0):X||null}class Qt extends Ne{static create(e,t,o){return new(e.customView||Qt)(e,t,o)}constructor(e,t,o){super(),this.widget=e,this.length=t,this.side=o,this.prevWidget=null}split(e){let t=Qt.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,o,c,v,P){return o&&(!(o instanceof Qt)||!this.widget.compare(o.widget)||e>0&&v<=0||t<this.length&&P<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-t),!0)}become(e){return e instanceof Qt&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return n.xv.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,o=t&&t.state.doc,c=this.posAtStart;return o?o.slice(c,c+this.length):n.xv.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ot.before(this.dom):Ot.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let o=this.widget.coordsAt(this.dom,e,t);if(o)return o;let c=this.dom.getClientRects(),v=null;if(!c.length)return null;for(let P=e>0?c.length-1:0;v=c[P],!(e>0?P==0:P==c.length-1||v.top<v.bottom);P+=e>0?-1:1);return this.length?v:re(v,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class nt extends Qt{domAtPos(e){let{topView:t,text:o}=this.widget;return t?Tt(e,0,t,o,this.length-t.length,(c,v)=>c.domAtPos(v),(c,v)=>new Ot(c,Math.min(v,c.nodeValue.length))):new Ot(o,Math.min(e,o.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:o,text:c}=this.widget;return o?yr(e,t,o,c,this.length-o.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:o,text:c}=this.widget;return o?Tt(e,t,o,c,this.length-o.length,(v,P,W)=>v.coordsAt(P,W),(v,P,W)=>Yt(v,P,W)):Yt(c,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Tt(l,e,t,o,c,v,P){if(t instanceof Jt){for(let W=t.dom.firstChild;W;W=W.nextSibling){let X=Ne.get(W);if(X){let he=oe(W,o),ue=X.length+(he?c:0);if(l<ue||l==ue&&X.getSide()<=0)return he?Tt(l,e,X,o,c,v,P):v(X,l,e);l-=ue}else{let he=Vt(l,e,W,P);if(typeof he!="number")return he;l=he}}return v(t,t.length,-1)}else return t.dom==o?P(o,l,e):v(t,l,e)}function Vt(l,e,t,o){if(t.nodeType==3){let c=t.nodeValue.length;if(l<=c)return o(t,l,e);l-=c}else if(t.nodeType==1&&t.contentEditable!="false")for(let c=t.firstChild;c;c=c.nextSibling){let v=Vt(l,e,c,o);if(typeof v!="number")return v;l=v}return l}function yr(l,e,t,o,c){if(t instanceof Jt){let v=0;for(let P=t.dom.firstChild;P;P=P.nextSibling){let W=Ne.get(P);if(W){let X=oe(P,o);if(oe(P,l))return v+(X?yr(l,e,W,o,c):W.localPosFromDOM(l,e));v+=W.length+(X?c:0)}else{let X=_r(l,e,P);if(X.result!=null)return v+X.result;v+=X.size}}}else if(t.dom==o)return Math.min(e,o.nodeValue.length);return t.localPosFromDOM(l,e)}function _r(l,e,t){if(t.nodeType==3)return l==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let o=0;for(let c=t.firstChild,v=0;;c=c.nextSibling,v++){if(l==t&&v==e)return{result:o};if(!c)return{size:o};let P=_r(l,e,c);if(P.result!=null)return{result:e+P.result};o+=P.size}}else return t.contains(l)?{result:0}:{size:0}}class wr extends Ne{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof wr&&e.side==this.side}split(){return new wr(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ot.before(this.dom):Ot.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.xv.empty}get isHidden(){return!0}}lr.prototype.children=Qt.prototype.children=wr.prototype.children=pt;function vr(l,e){let t=l.dom,{children:o}=l,c=0;for(let v=0;c<o.length;c++){let P=o[c],W=v+P.length;if(!(W==v&&P.getSide()<=0)){if(e>v&&e<W&&P.dom.parentNode==t)return P.domAtPos(e-v);if(e<=v)break;v=W}}for(let v=c;v>0;v--){let P=o[v-1];if(P.dom.parentNode==t)return P.domAtPos(P.length)}for(let v=c;v<o.length;v++){let P=o[v];if(P.dom.parentNode==t)return P.domAtPos(0)}return new Ot(t,0)}function Ft(l,e,t){let o,{children:c}=l;t>0&&e instanceof Jt&&c.length&&(o=c[c.length-1])instanceof Jt&&o.mark.eq(e.mark)?Ft(o,e.children[0],t-1):(c.push(e),e.setParent(l)),l.length+=e.length}function Kr(l,e,t){let o=null,c=-1,v=null,P=-1;function W(he,ue){for(let je=0,ft=0;je<he.children.length&&ft<=ue;je++){let Et=he.children[je],Nt=ft+Et.length;Nt>=ue&&(Et.children.length?W(Et,ue-ft):(!v||v.isHidden&&t>0)&&(Nt>ue||ft==Nt&&Et.getSide()>0)?(v=Et,P=ue-ft):(ft<ue||ft==Nt&&Et.getSide()<0&&!Et.isHidden)&&(o=Et,c=ue-ft)),ft=Nt}}W(l,e);let X=(t<0?o:v)||o||v;return X?X.coordsAt(Math.max(0,X==o?c:P),t):Or(l)}function Or(l){let e=l.dom.lastChild;if(!e)return l.dom.getBoundingClientRect();let t=q(e);return t[t.length-1]||null}function Nr(l,e){for(let t in l)t=="class"&&e.class?e.class+=" "+l.class:t=="style"&&e.style?e.style+=";"+l.style:e[t]=l[t];return e}function Dr(l,e){if(l==e)return!0;if(!l||!e)return!1;let t=Object.keys(l),o=Object.keys(e);if(t.length!=o.length)return!1;for(let c of t)if(o.indexOf(c)==-1||l[c]!==e[c])return!1;return!0}function Gr(l,e,t){let o=null;if(e)for(let c in e)t&&c in t||l.removeAttribute(o=c);if(t)for(let c in t)e&&e[c]==t[c]||l.setAttribute(o=c,t[c]);return!!o}class Yr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,t,o){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var hr=function(l){return l[l.Text=0]="Text",l[l.WidgetBefore=1]="WidgetBefore",l[l.WidgetAfter=2]="WidgetAfter",l[l.WidgetRange=3]="WidgetRange",l}(hr||(hr={}));class Ie extends n.uU{constructor(e,t,o,c){super(),this.startSide=e,this.endSide=t,this.widget=o,this.spec=c}get heightRelevant(){return!1}static mark(e){return new Gt(e)}static widget(e){let t=e.side||0,o=!!e.block;return t+=o?t>0?3e8:-4e8:t>0?1e8:-1e8,new dr(e,t,t,o,e.widget||null,!1)}static replace(e){let t=!!e.block,o,c;if(e.isBlockGap)o=-5e8,c=4e8;else{let{start:v,end:P}=Wr(e,t);o=(v?t?-3e8:-1:5e8)-1,c=(P?t?2e8:1:-6e8)+1}return new dr(e,o,c,t,e.widget||null,!0)}static line(e){return new ur(e)}static set(e,t=!1){return n.Xs.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ie.none=n.Xs.empty;class Gt extends Ie{constructor(e){let{start:t,end:o}=Wr(e);super(t?-1:5e8,o?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Gt&&this.tagName==e.tagName&&this.class==e.class&&Dr(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Gt.prototype.point=!1;class ur extends Ie{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ur&&this.spec.class==e.spec.class&&Dr(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ur.prototype.mapMode=n.gc.TrackBefore,ur.prototype.point=!0;class dr extends Ie{constructor(e,t,o,c,v,P){super(t,o,v,e),this.block=c,this.isReplace=P,this.mapMode=c?t<=0?n.gc.TrackBefore:n.gc.TrackAfter:n.gc.TrackDel}get type(){return this.startSide<this.endSide?hr.WidgetRange:this.startSide<=0?hr.WidgetBefore:hr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof dr&&jr(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}dr.prototype.point=!0;function Wr(l,e=!1){let{inclusiveStart:t,inclusiveEnd:o}=l;return t==null&&(t=l.inclusive),o==null&&(o=l.inclusive),{start:t!=null?t:e,end:o!=null?o:e}}function jr(l,e){return l==e||!!(l&&e&&l.compare(e))}function Pr(l,e,t,o=0){let c=t.length-1;c>=0&&t[c]+o>=l?t[c]=Math.max(t[c],e):t.push(l,e)}class Zr extends Ne{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,o,c,v,P){if(o){if(!(o instanceof Zr))return!1;this.dom||o.transferDOM(this)}return c&&this.setDeco(o?o.attrs:null),Re(this,e,t,o?o.children:[],v,P),!0}split(e){let t=new Zr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:o,off:c}=this.childPos(e);c&&(t.append(this.children[o].split(c),0),this.children[o].merge(c,this.children[o].length,null,!1,0,0),o++);for(let v=o;v<this.children.length;v++)t.append(this.children[v],0);for(;o>0&&this.children[o-1].length==0;)this.children[--o].destroy();return this.children.length=o,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Dr(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Ft(this,e,t)}addLineDeco(e){let t=e.spec.attributes,o=e.spec.class;t&&(this.attrs=Nr(t,this.attrs||{})),o&&(this.attrs=Nr({class:o},this.attrs||{}))}domAtPos(e){return vr(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var o;this.dom?this.dirty&4&&(Ut(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Gr(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let c=this.dom.lastChild;for(;c&&Ne.get(c)instanceof Jt;)c=c.lastChild;if(!c||!this.length||c.nodeName!="BR"&&((o=Ne.get(c))===null||o===void 0?void 0:o.isEditable)==!1&&(!Ke.ios||!this.children.some(v=>v instanceof lr))){let v=document.createElement("BR");v.cmIgnore=!0,this.dom.appendChild(v)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let o of this.children){if(!(o instanceof lr)||/[^ -~]/.test(o.text))return null;let c=q(o.dom);if(c.length!=1)return null;e+=c[0].width,t=c[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let o=Kr(this,e,t);if(!this.children.length&&o&&this.parent){let{heightOracle:c}=this.parent.view.viewState,v=o.bottom-o.top;if(Math.abs(v-c.lineHeight)<2&&c.textHeight<v){let P=(v-c.textHeight)/2;return{top:o.top+P,bottom:o.bottom-P,left:o.left,right:o.left}}}return o}become(e){return!1}get type(){return hr.Text}static find(e,t){for(let o=0,c=0;o<e.children.length;o++){let v=e.children[o],P=c+v.length;if(P>=t){if(v instanceof Zr)return v;if(P>t)break}c=P+v.breakAfter}return null}}class Ar extends Ne{constructor(e,t,o){super(),this.widget=e,this.length=t,this.type=o,this.breakAfter=0,this.prevWidget=null}merge(e,t,o,c,v,P){return o&&(!(o instanceof Ar)||!this.widget.compare(o.widget)||e>0&&v<=0||t<this.length&&P<=0)?!1:(this.length=e+(o?o.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ot.before(this.dom):Ot.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let o=new Ar(this.widget,t,this.type);return o.breakAfter=this.breakAfter,o}get children(){return pt}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.xv.empty}domBoundsAround(){return null}become(e){return e instanceof Ar&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Lr{constructor(e,t,o,c){this.doc=e,this.pos=t,this.end=o,this.disallowBlockEffectsFor=c,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ar&&e.type==hr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Zr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(qr(new wr(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,o){for(;e>0;){if(this.textOff==this.text.length){let{value:v,lineBreak:P,done:W}=this.cursor.next(this.skip);if(this.skip=0,W)throw new Error("Ran out of text content when drawing inline views");if(P){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=v,this.textOff=0}let c=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-o)),this.getLine().append(qr(new lr(this.text.slice(this.textOff,this.textOff+c)),t),o),this.atCursorPos=!0,this.textOff+=c,e-=c,o=0}}span(e,t,o,c){this.buildText(t-e,o,c),this.pos=t,this.openStart<0&&(this.openStart=c)}point(e,t,o,c,v,P){if(this.disallowBlockEffectsFor[P]&&o instanceof dr){if(o.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let W=t-e;if(o instanceof dr)if(o.block){let{type:X}=o;X==hr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ar(o.widget||new mn("div"),W,X))}else{let X=Qt.create(o.widget||new mn("span"),W,W?0:o.startSide),he=this.atCursorPos&&!X.isEditable&&v<=c.length&&(e<t||o.startSide>0),ue=!X.isEditable&&(e<t||v>c.length||o.startSide<=0),je=this.getLine();this.pendingBuffer==2&&!he&&!X.isEditable&&(this.pendingBuffer=0),this.flushBuffer(c),he&&(je.append(qr(new wr(1),c),v),v=c.length+Math.max(0,v-c.length)),je.append(qr(X,c),v),this.atCursorPos=ue,this.pendingBuffer=ue?e<t||v>c.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=c.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(o);W&&(this.textOff+W<=this.text.length?this.textOff+=W:(this.skip+=W-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=v)}static build(e,t,o,c,v){let P=new Lr(e,t,o,v);return P.openEnd=n.Xs.spans(c,t,o,P),P.openStart<0&&(P.openStart=P.openEnd),P.finish(P.openEnd),P}}function qr(l,e){for(let t of e)l=new Jt(t,[l],l.length);return l}class mn extends Yr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Ur=n.r$.define(),pn=n.r$.define(),bn=n.r$.define(),wn=n.r$.define(),Xr=n.r$.define(),fn=n.r$.define(),On=n.r$.define(),nn=n.r$.define({combine:l=>l.some(e=>e)}),Tn=n.r$.define({combine:l=>l.some(e=>e)});class Sn{constructor(e,t="nearest",o="nearest",c=5,v=5){this.range=e,this.y=t,this.x=o,this.yMargin=c,this.xMargin=v}map(e){return e.empty?this:new Sn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const sn=n.Py.define({map:(l,e)=>l.map(e)});function un(l,e,t){let o=l.facet(wn);o.length?o[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ni=n.r$.define({combine:l=>l.length?l[0]:!0});let hi=0;const Bi=n.r$.define();class Pe{constructor(e,t,o,c){this.id=e,this.create=t,this.domEventHandlers=o,this.extension=c(this)}static define(e,t){const{eventHandlers:o,provide:c,decorations:v}=t||{};return new Pe(hi++,e,o,P=>{let W=[Bi.of(P)];return v&&W.push(ee.of(X=>{let he=X.plugin(P);return he?v(he):Ie.none})),c&&W.push(c(P)),W})}static fromClass(e,t){return Pe.define(o=>new e(o),t)}}class y{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(o){if(un(t.state,o,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){un(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(o){un(e.state,o,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const T=n.r$.define(),V=n.r$.define(),ee=n.r$.define(),Ee=n.r$.define(),Se=n.r$.define();function He(l){let e=0,t=0,o=0,c=0;for(let v of l.state.facet(Se)){let P=v(l);P&&(P.left!=null&&(e=Math.max(e,P.left)),P.right!=null&&(t=Math.max(t,P.right)),P.top!=null&&(o=Math.max(o,P.top)),P.bottom!=null&&(c=Math.max(c,P.bottom)))}return{left:e,right:t,top:o,bottom:c}}const Je=n.r$.define();class Ct{constructor(e,t,o,c){this.fromA=e,this.toA=t,this.fromB=o,this.toB=c}join(e){return new Ct(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,o=this;for(;t>0;t--){let c=e[t-1];if(!(c.fromA>o.toA)){if(c.toA<o.fromA)break;o=o.join(c),e.splice(t-1,1)}}return e.splice(t,0,o),e}static extendWithRanges(e,t){if(t.length==0)return e;let o=[];for(let c=0,v=0,P=0,W=0;;c++){let X=c==e.length?null:e[c],he=P-W,ue=X?X.fromB:1e9;for(;v<t.length&&t[v]<ue;){let je=t[v],ft=t[v+1],Et=Math.max(W,je),Nt=Math.min(ue,ft);if(Et<=Nt&&new Ct(Et+he,Nt+he,Et,Nt).addToSet(o),ft>ue)break;v+=2}if(!X)return o;new Ct(X.fromA,X.toA,X.fromB,X.toB).addToSet(o),P=X.toA,W=X.toB}}}class Lt{constructor(e,t,o){this.view=e,this.state=t,this.transactions=o,this.flags=0,this.startState=e.state,this.changes=n.as.empty(this.startState.doc.length);for(let v of o)this.changes=this.changes.compose(v.changes);let c=[];this.changes.iterChangedRanges((v,P,W,X)=>c.push(new Ct(v,P,W,X))),this.changedRanges=c}static create(e,t,o){return new Lt(e,t,o)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var It=function(l){return l[l.LTR=0]="LTR",l[l.RTL=1]="RTL",l}(It||(It={}));const kr=It.LTR,Sr=It.RTL;function kn(l){let e=[];for(let t=0;t<l.length;t++)e.push(1<<+l[t]);return e}const ci=kn("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Fn=kn("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Oi=Object.create(null),vi=[];for(let l of["()","[]","{}"]){let e=l.charCodeAt(0),t=l.charCodeAt(1);Oi[e]=t,Oi[t]=-e}function Go(l){return l<=247?ci[l]:1424<=l&&l<=1524?2:1536<=l&&l<=1785?Fn[l-1536]:1774<=l&&l<=2220?4:8192<=l&&l<=8203?256:64336<=l&&l<=65023?4:l==8204?256:1}const Vi=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Qi{get dir(){return this.level%2?Sr:kr}constructor(e,t,o){this.from=e,this.to=t,this.level=o}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,o,c){let v=-1;for(let P=0;P<e.length;P++){let W=e[P];if(W.from<=t&&W.to>=t){if(W.level==o)return P;(v<0||(c!=0?c<0?W.from<t:W.to>t:e[v].level>W.level))&&(v=P)}}if(v<0)throw new RangeError("Index out of range");return v}}const Yn=[];function Mn(l,e){let t=l.length,o=e==kr?1:2,c=e==kr?2:1;if(!l||o==1&&!Vi.test(l))return Ki(t);for(let P=0,W=o,X=o;P<t;P++){let he=Go(l.charCodeAt(P));he==512?he=W:he==8&&X==4&&(he=16),Yn[P]=he==4?2:he,he&7&&(X=he),W=he}for(let P=0,W=o,X=o;P<t;P++){let he=Yn[P];if(he==128)P<t-1&&W==Yn[P+1]&&W&24?he=Yn[P]=W:Yn[P]=256;else if(he==64){let ue=P+1;for(;ue<t&&Yn[ue]==64;)ue++;let je=P&&W==8||ue<t&&Yn[ue]==8?X==1?1:8:256;for(let ft=P;ft<ue;ft++)Yn[ft]=je;P=ue-1}else he==8&&X==1&&(Yn[P]=1);W=he,he&7&&(X=he)}for(let P=0,W=0,X=0,he,ue,je;P<t;P++)if(ue=Oi[he=l.charCodeAt(P)])if(ue<0){for(let ft=W-3;ft>=0;ft-=3)if(vi[ft+1]==-ue){let Et=vi[ft+2],Nt=Et&2?o:Et&4?Et&1?c:o:0;Nt&&(Yn[P]=Yn[vi[ft]]=Nt),W=ft;break}}else{if(vi.length==189)break;vi[W++]=P,vi[W++]=he,vi[W++]=X}else if((je=Yn[P])==2||je==1){let ft=je==o;X=ft?0:1;for(let Et=W-3;Et>=0;Et-=3){let Nt=vi[Et+2];if(Nt&2)break;if(ft)vi[Et+2]|=2;else{if(Nt&4)break;vi[Et+2]|=4}}}for(let P=0;P<t;P++)if(Yn[P]==256){let W=P+1;for(;W<t&&Yn[W]==256;)W++;let X=(P?Yn[P-1]:o)==1,he=(W<t?Yn[W]:o)==1,ue=X==he?X?1:2:o;for(let je=P;je<W;je++)Yn[je]=ue;P=W-1}let v=[];if(o==1)for(let P=0;P<t;){let W=P,X=Yn[P++]!=1;for(;P<t&&X==(Yn[P]!=1);)P++;if(X)for(let he=P;he>W;){let ue=he,je=Yn[--he]!=2;for(;he>W&&je==(Yn[he-1]!=2);)he--;v.push(new Qi(he,ue,je?2:1))}else v.push(new Qi(W,P,0))}else for(let P=0;P<t;){let W=P,X=Yn[P++]==2;for(;P<t&&X==(Yn[P]==2);)P++;v.push(new Qi(W,P,X?1:2))}return v}function Ki(l){return[new Qi(0,l,0)]}let No="";function tr(l,e,t,o,c){var v;let P=o.head-l.from,W=-1;if(P==0){if(!c||!l.length)return null;e[0].level!=t&&(P=e[0].side(!1,t),W=0)}else if(P==l.length){if(c)return null;let ft=e[e.length-1];ft.level!=t&&(P=ft.side(!0,t),W=e.length-1)}W<0&&(W=Qi.find(e,P,(v=o.bidiLevel)!==null&&v!==void 0?v:-1,o.assoc));let X=e[W];P==X.side(c,t)&&(X=e[W+=c?1:-1],P=X.side(!c,t));let he=c==(X.dir==t),ue=(0,n.cp)(l.text,P,he);if(No=l.text.slice(Math.min(P,ue),Math.max(P,ue)),ue!=X.side(c,t))return n.jT.cursor(ue+l.from,he?-1:1,X.level);let je=W==(c?e.length-1:0)?null:e[W+(c?1:-1)];return!je&&X.level!=t?n.jT.cursor(c?l.to:l.from,c?-1:1,t):je&&je.level<X.level?n.jT.cursor(je.side(!c,t)+l.from,c?1:-1,je.level):n.jT.cursor(ue+l.from,c?-1:1,X.level)}const ge="\uFFFF";class R{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(n.yy.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ge}readRange(e,t){if(!e)return this;let o=e.parentNode;for(let c=e;;){this.findPointBefore(o,c);let v=this.text.length;this.readNode(c);let P=c.nextSibling;if(P==t)break;let W=Ne.get(c),X=Ne.get(P);(W&&X?W.breakAfter:(W?W.breakAfter:Y(c))||Y(P)&&(c.nodeName!="BR"||c.cmIgnore)&&this.text.length>v)&&this.lineBreak(),c=P}return this.findPointBefore(o,t),this}readTextNode(e){let t=e.nodeValue;for(let o of this.points)o.node==e&&(o.pos=this.text.length+Math.min(o.offset,t.length));for(let o=0,c=this.lineSeparator?null:/\r\n?|\n/g;;){let v=-1,P=1,W;if(this.lineSeparator?(v=t.indexOf(this.lineSeparator,o),P=this.lineSeparator.length):(W=c.exec(t))&&(v=W.index,P=W[0].length),this.append(t.slice(o,v<0?t.length:v)),v<0)break;if(this.lineBreak(),P>1)for(let X of this.points)X.node==e&&X.pos>this.text.length&&(X.pos-=P-1);o=v+P}}readNode(e){if(e.cmIgnore)return;let t=Ne.get(e),o=t&&t.overrideDOMText;if(o!=null){this.findPointInside(e,o.length);for(let c=o.iter();!c.next().done;)c.lineBreak?this.lineBreak():this.append(c.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let o of this.points)o.node==e&&e.childNodes[o.offset]==t&&(o.pos=this.text.length)}findPointInside(e,t){for(let o of this.points)(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+Math.min(t,o.offset))}}function Y(l){return l.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(l.nodeName)}class Me{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ze extends Ne{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.compositionDeco=Ie.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Zr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ct(0,0,0,e.state.doc.length)],0)}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:P,toA:W})=>W<this.minWidthFrom||P>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ie.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=zt(this.view,e.changes)),(Ke.ie||Ke.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,c=this.updateDeco(),v=Pi(o,c,e.changes);return t=Ct.extendWithRanges(t,v),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let v=Ke.chrome||Ke.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,v),this.dirty=0,v&&(v.written||o.selectionRange.focusNode!=v.node)&&(this.forceSelection=!0),this.dom.style.height=""});let c=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let v of this.children)v instanceof Ar&&v.widget instanceof dt&&c.push(v.dom);o.updateGaps(c)}updateChildren(e,t){let o=this.childCursor(t);for(let c=e.length-1;;c--){let v=c>=0?e[c]:null;if(!v)break;let{fromA:P,toA:W,fromB:X,toB:he}=v,{content:ue,breakAtStart:je,openStart:ft,openEnd:Et}=Lr.build(this.view.state.doc,X,he,this.decorations,this.dynamicDecorationMap),{i:Nt,off:Pt}=o.findPos(W,1),{i:Zt,off:qt}=o.findPos(P,-1);fe(this,Zt,qt,Nt,Pt,ue,je,ft,Et)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let o=this.view.root.activeElement,c=o==this.dom,v=!c&&U(this.dom,this.view.observer.selectionRange)&&!(o&&this.dom.contains(o));if(!(c||t||v))return;let P=this.forceSelection;this.forceSelection=!1;let W=this.view.state.selection.main,X=this.domAtPos(W.anchor),he=W.empty?X:this.domAtPos(W.head);if(Ke.gecko&&W.empty&&!this.compositionDeco.size&&rt(X)){let je=document.createTextNode("");this.view.observer.ignore(()=>X.node.insertBefore(je,X.node.childNodes[X.offset]||null)),X=he=new Ot(je,0),P=!0}let ue=this.view.observer.selectionRange;(P||!ue.focusNode||!Oe(X.node,X.offset,ue.anchorNode,ue.anchorOffset)||!Oe(he.node,he.offset,ue.focusNode,ue.focusOffset))&&(this.view.observer.ignore(()=>{Ke.android&&Ke.chrome&&this.dom.contains(ue.focusNode)&&Ri(ue.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let je=te(this.view.root);if(je)if(W.empty){if(Ke.gecko){let ft=$n(X.node,X.offset);if(ft&&ft!=3){let Et=Vr(X.node,X.offset,ft==1?1:-1);Et&&(X=new Ot(Et,ft==1?0:Et.nodeValue.length))}}je.collapse(X.node,X.offset),W.bidiLevel!=null&&ue.cursorBidiLevel!=null&&(ue.cursorBidiLevel=W.bidiLevel)}else if(je.extend){je.collapse(X.node,X.offset);try{je.extend(he.node,he.offset)}catch{}}else{let ft=document.createRange();W.anchor>W.head&&([X,he]=[he,X]),ft.setEnd(he.node,he.offset),ft.setStart(X.node,X.offset),je.removeAllRanges(),je.addRange(ft)}v&&this.view.root.activeElement==this.dom&&(this.dom.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(X,he)),this.impreciseAnchor=X.precise?null:new Ot(ue.anchorNode,ue.anchorOffset),this.impreciseHead=he.precise?null:new Ot(ue.focusNode,ue.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,o=te(e.root),{anchorNode:c,anchorOffset:v}=e.observer.selectionRange;if(!o||!t.empty||!t.assoc||!o.modify)return;let P=Zr.find(this,t.head);if(!P)return;let W=P.posAtStart;if(t.head==W||t.head==W+P.length)return;let X=this.coordsAt(t.head,-1),he=this.coordsAt(t.head,1);if(!X||!he||X.bottom>he.top)return;let ue=this.domAtPos(t.head+t.assoc);o.collapse(ue.node,ue.offset),o.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let je=e.observer.selectionRange;e.docView.posFromDOM(je.anchorNode,je.anchorOffset)!=t.from&&o.collapse(c,v)}nearest(e){for(let t=e;t;){let o=Ne.get(t);if(o&&o.rootView==this)return o;t=t.parentNode}return null}posFromDOM(e,t){let o=this.nearest(e);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(e,t)+o.posAtStart}domAtPos(e){let{i:t,off:o}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let c=this.children[t];if(o<c.length||c instanceof Zr)break;t++,o=0}return this.children[t].domAtPos(o)}coordsAt(e,t){for(let o=this.length,c=this.children.length-1;;c--){let v=this.children[c],P=o-v.breakAfter-v.length;if(e>P||e==P&&v.type!=hr.WidgetBefore&&v.type!=hr.WidgetAfter&&(!c||t==2||this.children[c-1].breakAfter||this.children[c-1].type==hr.WidgetBefore&&t>-2))return v.coordsAt(e-P,t);o=P}}measureVisibleLineHeights(e){let t=[],{from:o,to:c}=e,v=this.view.contentDOM.clientWidth,P=v>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,W=-1,X=this.view.textDirection==It.LTR;for(let he=0,ue=0;ue<this.children.length;ue++){let je=this.children[ue],ft=he+je.length;if(ft>c)break;if(he>=o){let Et=je.dom.getBoundingClientRect();if(t.push(Et.height),P){let Nt=je.dom.lastChild,Pt=Nt?q(Nt):[];if(Pt.length){let Zt=Pt[Pt.length-1],qt=X?Zt.right-Et.left:Et.right-Zt.left;qt>W&&(W=qt,this.minWidth=v,this.minWidthFrom=he,this.minWidthTo=ft)}}}he=ft+je.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?It.RTL:It.LTR}measureTextSize(){for(let v of this.children)if(v instanceof Zr){let P=v.measureTextSize();if(P)return P}let e=document.createElement("div"),t,o,c;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let v=q(e.firstChild)[0];t=e.getBoundingClientRect().height,o=v?v.width/27:7,c=v?v.height:t,e.remove()}),{lineHeight:t,charWidth:o,textHeight:c}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ot(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let o=0,c=0;;c++){let v=c==t.viewports.length?null:t.viewports[c],P=v?v.from-1:this.length;if(P>o){let W=t.lineBlockAt(P).bottom-t.lineBlockAt(o).top;e.push(Ie.replace({widget:new dt(W),block:!0,inclusive:!0,isBlockGap:!0}).range(o,P))}if(!v)break;o=v.to+1}return Ie.set(e)}updateDeco(){let e=this.view.state.facet(ee).map((t,o)=>(this.dynamicDecorationMap[o]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,o=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),c;if(!o)return;!t.empty&&(c=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(o={left:Math.min(o.left,c.left),top:Math.min(o.top,c.top),right:Math.max(o.right,c.right),bottom:Math.max(o.bottom,c.bottom)});let v=He(this.view),P={left:o.left-v.left,top:o.top-v.top,right:o.right+v.right,bottom:o.bottom+v.bottom};F(this.view.scrollDOM,P,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==It.LTR)}}function rt(l){return l.node.nodeType==1&&l.node.firstChild&&(l.offset==0||l.node.childNodes[l.offset-1].contentEditable=="false")&&(l.offset==l.node.childNodes.length||l.node.childNodes[l.offset].contentEditable=="false")}class dt extends Yr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Kt(l){let e=l.observer.selectionRange,t=e.focusNode&&Vr(e.focusNode,e.focusOffset,0);if(!t)return null;let o=l.docView.nearest(t);if(!o)return null;if(o instanceof Zr){let c=t;for(;c.parentNode!=o.dom;)c=c.parentNode;let v=c.previousSibling;for(;v&&!Ne.get(v);)v=v.previousSibling;let P=v?Ne.get(v).posAtEnd:o.posAtStart;return{from:P,to:P,node:c,text:t}}else{for(;;){let{parent:v}=o;if(!v)return null;if(v instanceof Zr)break;o=v}let c=o.posAtStart;return{from:c,to:c+o.length,node:o.dom,text:t}}}function zt(l,e){let t=Kt(l);if(!t)return Ie.none;let{from:o,to:c,node:v,text:P}=t,W=e.mapPos(o,1),X=Math.max(W,e.mapPos(c,-1)),{state:he}=l,ue=v.nodeType==3?v.nodeValue:new R([],he).readRange(v.firstChild,null).text;if(ue.indexOf(ge)>-1)return Ie.none;if(X-W<ue.length)if(he.doc.sliceString(W,Math.min(he.doc.length,W+ue.length))==ue)X=W+ue.length;else if(he.doc.sliceString(Math.max(0,X-ue.length),X)==ue)W=X-ue.length;else return Ie.none;else if(he.doc.sliceString(W,X)!=ue)return Ie.none;let je=Ne.get(v);return je instanceof nt?je=je.widget.topView:je&&(je.parent=null),Ie.set(Ie.replace({widget:new zr(v,P,je),inclusive:!0}).range(W,X))}class zr extends Yr{constructor(e,t,o){super(),this.top=e,this.text=t,this.topView=o}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return nt}}function Vr(l,e,t){if(t<=0)for(let o=l,c=e;;){if(o.nodeType==3)return o;if(o.nodeType==1&&c>0)o=o.childNodes[c-1],c=Te(o);else break}if(t>=0)for(let o=l,c=e;;){if(o.nodeType==3)return o;if(o.nodeType==1&&c<o.childNodes.length&&t>=0)o=o.childNodes[c],c=0;else break}return null}function $n(l,e){return l.nodeType!=1?0:(e&&l.childNodes[e-1].contentEditable=="false"?1:0)|(e<l.childNodes.length&&l.childNodes[e].contentEditable=="false"?2:0)}class bi{constructor(){this.changes=[]}compareRange(e,t){Pr(e,t,this.changes)}comparePoint(e,t){Pr(e,t,this.changes)}}function Pi(l,e,t){let o=new bi;return n.Xs.compare(l,e,t,o),o.changes}function Ri(l,e){for(let t=l;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Qn(l,e,t=1){let o=l.charCategorizer(e),c=l.doc.lineAt(e),v=e-c.from;if(c.length==0)return n.jT.cursor(e);v==0?t=1:v==c.length&&(t=-1);let P=v,W=v;t<0?P=(0,n.cp)(c.text,v,!1):W=(0,n.cp)(c.text,v);let X=o(c.text.slice(P,W));for(;P>0;){let he=(0,n.cp)(c.text,P,!1);if(o(c.text.slice(he,P))!=X)break;P=he}for(;W<c.length;){let he=(0,n.cp)(c.text,W);if(o(c.text.slice(W,he))!=X)break;W=he}return n.jT.range(P+c.from,W+c.from)}function qi(l,e){return e.left>l?e.left-l:Math.max(0,l-e.right)}function ms(l,e){return e.top>l?e.top-l:Math.max(0,l-e.bottom)}function xs(l,e){return l.top<e.bottom-1&&l.bottom>e.top+1}function Ws(l,e){return e<l.top?{top:e,left:l.left,right:l.right,bottom:l.bottom}:l}function ba(l,e){return e>l.bottom?{top:l.top,left:l.left,right:l.right,bottom:e}:l}function Zs(l,e,t){let o,c,v,P,W=!1,X,he,ue,je;for(let Nt=l.firstChild;Nt;Nt=Nt.nextSibling){let Pt=q(Nt);for(let Zt=0;Zt<Pt.length;Zt++){let qt=Pt[Zt];c&&xs(c,qt)&&(qt=Ws(ba(qt,c.bottom),c.top));let Qr=qi(e,qt),en=ms(t,qt);if(Qr==0&&en==0)return Nt.nodeType==3?Us(Nt,e,t):Zs(Nt,e,t);if(!o||P>en||P==en&&v>Qr){o=Nt,c=qt,v=Qr,P=en;let hn=en?t<qt.top?-1:1:Qr?e<qt.left?-1:1:0;W=!hn||(hn>0?Zt<Pt.length-1:Zt>0)}Qr==0?t>qt.bottom&&(!ue||ue.bottom<qt.bottom)?(X=Nt,ue=qt):t<qt.top&&(!je||je.top>qt.top)&&(he=Nt,je=qt):ue&&xs(ue,qt)?ue=ba(ue,qt.bottom):je&&xs(je,qt)&&(je=Ws(je,qt.top))}}if(ue&&ue.bottom>=t?(o=X,c=ue):je&&je.top<=t&&(o=he,c=je),!o)return{node:l,offset:0};let ft=Math.max(c.left,Math.min(c.right,e));if(o.nodeType==3)return Us(o,ft,t);if(W&&o.contentEditable!="false")return Zs(o,ft,t);let Et=Array.prototype.indexOf.call(l.childNodes,o)+(e>=(c.left+c.right)/2?1:0);return{node:l,offset:Et}}function Us(l,e,t){let o=l.nodeValue.length,c=-1,v=1e9,P=0;for(let W=0;W<o;W++){let X=Le(l,W,W+1).getClientRects();for(let he=0;he<X.length;he++){let ue=X[he];if(ue.top==ue.bottom)continue;P||(P=e-ue.left);let je=(ue.top>t?ue.top-t:t-ue.bottom)-1;if(ue.left-1<=e&&ue.right+1>=e&&je<v){let ft=e>=(ue.left+ue.right)/2,Et=ft;if((Ke.chrome||Ke.gecko)&&Le(l,W).getBoundingClientRect().left==ue.right&&(Et=!ft),je<=0)return{node:l,offset:W+(Et?1:0)};c=W+(Et?1:0),v=je}}}return{node:l,offset:c>-1?c:P>0?l.nodeValue.length:0}}function jo(l,e,t,o=-1){var c,v;let P=l.contentDOM.getBoundingClientRect(),W=P.top+l.viewState.paddingTop,X,{docHeight:he}=l.viewState,{x:ue,y:je}=e,ft=je-W;if(ft<0)return 0;if(ft>he)return l.state.doc.length;for(let hn=l.defaultLineHeight/2,Dn=!1;X=l.elementAtHeight(ft),X.type!=hr.Text;)for(;ft=o>0?X.bottom+hn:X.top-hn,!(ft>=0&&ft<=he);){if(Dn)return t?null:0;Dn=!0,o=-o}je=W+ft;let Et=X.from;if(Et<l.viewport.from)return l.viewport.from==0?0:t?null:Wn(l,P,X,ue,je);if(Et>l.viewport.to)return l.viewport.to==l.state.doc.length?l.state.doc.length:t?null:Wn(l,P,X,ue,je);let Nt=l.dom.ownerDocument,Pt=l.root.elementFromPoint?l.root:Nt,Zt=Pt.elementFromPoint(ue,je);Zt&&!l.contentDOM.contains(Zt)&&(Zt=null),Zt||(ue=Math.max(P.left+1,Math.min(P.right-1,ue)),Zt=Pt.elementFromPoint(ue,je),Zt&&!l.contentDOM.contains(Zt)&&(Zt=null));let qt,Qr=-1;if(Zt&&((c=l.docView.nearest(Zt))===null||c===void 0?void 0:c.isEditable)!=!1){if(Nt.caretPositionFromPoint){let hn=Nt.caretPositionFromPoint(ue,je);hn&&({offsetNode:qt,offset:Qr}=hn)}else if(Nt.caretRangeFromPoint){let hn=Nt.caretRangeFromPoint(ue,je);hn&&({startContainer:qt,startOffset:Qr}=hn,(!l.contentDOM.contains(qt)||Ke.safari&&Sa(qt,Qr,ue)||Ke.chrome&&Cs(qt,Qr,ue))&&(qt=void 0))}}if(!qt||!l.docView.dom.contains(qt)){let hn=Zr.find(l.docView,Et);if(!hn)return ft>X.top+X.height/2?X.to:X.from;({node:qt,offset:Qr}=Zs(hn.dom,ue,je))}let en=l.docView.nearest(qt);if(!en)return null;if(en.isWidget&&((v=en.dom)===null||v===void 0?void 0:v.nodeType)==1){let hn=en.dom.getBoundingClientRect();return e.y<hn.top||e.y<=hn.bottom&&e.x<=(hn.left+hn.right)/2?en.posAtStart:en.posAtEnd}else return en.localPosFromDOM(qt,Qr)+en.posAtStart}function Wn(l,e,t,o,c){let v=Math.round((o-e.left)*l.defaultCharacterWidth);if(l.lineWrapping&&t.height>l.defaultLineHeight*1.5){let W=Math.floor((c-t.top)/l.defaultLineHeight);v+=W*l.viewState.heightOracle.lineLength}let P=l.state.sliceDoc(t.from,t.to);return t.from+(0,n.Gz)(P,v,l.state.tabSize)}function Sa(l,e,t){let o;if(l.nodeType!=3||e!=(o=l.nodeValue.length))return!1;for(let c=l.nextSibling;c;c=c.nextSibling)if(c.nodeType!=1||c.nodeName!="BR")return!1;return Le(l,o-1,o).getBoundingClientRect().left>t}function Cs(l,e,t){if(e!=0)return!1;for(let c=l;;){let v=c.parentNode;if(!v||v.nodeType!=1||v.firstChild!=c)return!1;if(v.classList.contains("cm-line"))break;c=v}let o=l.nodeType==1?l.getBoundingClientRect():Le(l,0,Math.max(l.nodeValue.length,1)).getBoundingClientRect();return t-o.left>5}function ra(l,e,t,o){let c=l.state.doc.lineAt(e.head),v=!o||!l.lineWrapping?null:l.coordsAtPos(e.assoc<0&&e.head>c.from?e.head-1:e.head);if(v){let X=l.dom.getBoundingClientRect(),he=l.textDirectionAt(c.from),ue=l.posAtCoords({x:t==(he==It.LTR)?X.right-1:X.left+1,y:(v.top+v.bottom)/2});if(ue!=null)return n.jT.cursor(ue,t?-1:1)}let P=Zr.find(l.docView,e.head),W=P?t?P.posAtEnd:P.posAtStart:t?c.to:c.from;return n.jT.cursor(W,t?-1:1)}function Ea(l,e,t,o){let c=l.state.doc.lineAt(e.head),v=l.bidiSpans(c),P=l.textDirectionAt(c.from);for(let W=e,X=null;;){let he=tr(c,v,P,W,t),ue=No;if(!he){if(c.number==(t?l.state.doc.lines:1))return W;ue=`
`,c=l.state.doc.line(c.number+(t?1:-1)),v=l.bidiSpans(c),he=n.jT.cursor(t?c.from:c.to)}if(X){if(!X(ue))return W}else{if(!o)return he;X=o(ue)}W=he}}function Ps(l,e,t){let o=l.state.charCategorizer(e),c=o(t);return v=>{let P=o(v);return c==n.D0.Space&&(c=P),c==P}}function wa(l,e,t,o){let c=e.head,v=t?1:-1;if(c==(t?l.state.doc.length:0))return n.jT.cursor(c,e.assoc);let P=e.goalColumn,W,X=l.contentDOM.getBoundingClientRect(),he=l.coordsAtPos(c),ue=l.documentTop;if(he)P==null&&(P=he.left-X.left),W=v<0?he.top:he.bottom;else{let Et=l.viewState.lineBlockAt(c);P==null&&(P=Math.min(X.right-X.left,l.defaultCharacterWidth*(c-Et.from))),W=(v<0?Et.top:Et.bottom)+ue}let je=X.left+P,ft=o!=null?o:l.defaultLineHeight>>1;for(let Et=0;;Et+=10){let Nt=W+(ft+Et)*v,Pt=jo(l,{x:je,y:Nt},!1,v);if(Nt<X.top||Nt>X.bottom||(v<0?Pt<c:Pt>c))return n.jT.cursor(Pt,e.assoc,void 0,P)}}function As(l,e,t){for(;;){let o=0;for(let c of l)c.between(e-1,e+1,(v,P,W)=>{if(e>v&&e<P){let X=o||t||(e-v<P-e?-1:1);e=X<0?v:P,o=X}});if(!o)return e}}function na(l,e,t){let o=As(l.state.facet(Ee).map(c=>c(l)),t.from,e.head>t.from?-1:1);return o==t.from?t:n.jT.cursor(o,o<t.from?1:-1)}class Na{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(o,c)=>{this.ignoreDuringComposition(c)||c.type=="keydown"&&this.keydown(e,c)||(this.mustFlushObserver(c)&&e.observer.forceFlush(),this.runCustomHandlers(c.type,e,c)?c.preventDefault():o(e,c))};for(let o in cr){let c=cr[o];e.contentDOM.addEventListener(o,v=>{Tr(e,v)&&t(c,v)},cn[o]),this.registeredEvents.push(o)}e.scrollDOM.addEventListener("mousedown",o=>{if(o.target==e.scrollDOM&&o.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(cr.mousedown,o),!o.defaultPrevented&&o.button==2)){let c=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=c,200)}}),e.scrollDOM.addEventListener("drop",o=>{o.target==e.scrollDOM&&o.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(cr.drop,o)}),Ke.chrome&&Ke.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Ke.safari&&e.contentDOM.addEventListener("input",()=>null)}ensureHandlers(e,t){var o;let c;this.customHandlers=[];for(let v of t)if(c=(o=v.update(e).spec)===null||o===void 0?void 0:o.domEventHandlers){this.customHandlers.push({plugin:v.value,handlers:c});for(let P in c)this.registeredEvents.indexOf(P)<0&&P!="scroll"&&(this.registeredEvents.push(P),e.contentDOM.addEventListener(P,W=>{Tr(e,W)&&this.runCustomHandlers(P,e,W)&&W.preventDefault()}))}}runCustomHandlers(e,t,o){for(let c of this.customHandlers){let v=c.handlers[e];if(v)try{if(v.call(c.plugin,o,t)||o.defaultPrevented)return!0}catch(P){un(t.state,P)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let o of this.customHandlers){let c=o.handlers.scroll;if(c)try{c.call(o.plugin,t,e)}catch(v){un(e.state,v)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&ii.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),Ke.android&&Ke.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let o;return Ke.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((o=Oa.find(c=>c.keyCode==t.keyCode))&&!t.ctrlKey||ja.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=o||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,ut(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ke.safari&&!Ke.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Oa=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ja="dthko",ii=[16,17,18,20,91,92,224,225],Yo=6;function it(l){return Math.max(0,l)*.7+8}class Xe{constructor(e,t,o,c){this.view=e,this.style=o,this.mustSelect=c,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=We(e.contentDOM),this.atoms=e.state.facet(Ee).map(P=>P(e));let v=e.contentDOM.ownerDocument;v.addEventListener("mousemove",this.move=this.move.bind(this)),v.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(n.yy.allowMultipleSelections)&&Mt(e,t),this.dragMove=Wt(e,t),this.dragging=rr(e,t)&&Ni(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let o=0,c=0,v=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},P=He(this.view);e.clientX-P.left<=v.left+Yo?o=-it(v.left-e.clientX):e.clientX+P.right>=v.right-Yo&&(o=it(e.clientX-v.right)),e.clientY-P.top<=v.top+Yo?c=-it(v.top-e.clientY):e.clientY+P.bottom>=v.bottom-Yo&&(c=it(e.clientY-v.bottom)),this.setScrollSpeed(o,c)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let o=0;o<e.ranges.length;o++){let c=e.ranges[o],v=null;if(c.empty){let P=As(this.atoms,c.from,0);P!=c.from&&(v=n.jT.cursor(P,-1))}else{let P=As(this.atoms,c.from,-1),W=As(this.atoms,c.to,1);(P!=c.from||W!=c.to)&&(v=n.jT.range(c.from==c.anchor?P:W,c.from==c.head?P:W))}v&&(t||(t=e.ranges.slice()),t[o]=v)}return t?n.jT.create(t,e.mainIndex):e}select(e){let{view:t}=this,o=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!o.eq(t.state.selection)||o.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:o,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Mt(l,e){let t=l.state.facet(Ur);return t.length?t[0](e):Ke.mac?e.metaKey:e.ctrlKey}function Wt(l,e){let t=l.state.facet(pn);return t.length?t[0](e):Ke.mac?!e.altKey:!e.ctrlKey}function rr(l,e){let{main:t}=l.state.selection;if(t.empty)return!1;let o=te(l.root);if(!o||o.rangeCount==0)return!0;let c=o.getRangeAt(0).getClientRects();for(let v=0;v<c.length;v++){let P=c[v];if(P.left<=e.clientX&&P.right>=e.clientX&&P.top<=e.clientY&&P.bottom>=e.clientY)return!0}return!1}function Tr(l,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,o;t!=l.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(o=Ne.get(t))&&o.ignoreEvent(e))return!1;return!0}const cr=Object.create(null),cn=Object.create(null),qn=Ke.ie&&Ke.ie_version<15||Ke.ios&&Ke.webkit_version<604;function Pn(l){let e=l.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{l.focus(),t.remove(),an(l,t.value)},50)}function an(l,e){let{state:t}=l,o,c=1,v=t.toText(e),P=v.lines==t.selection.ranges.length;if(So!=null&&t.selection.ranges.every(X=>X.empty)&&So==v.toString()){let X=-1;o=t.changeByRange(he=>{let ue=t.doc.lineAt(he.from);if(ue.from==X)return{range:he};X=ue.from;let je=t.toText((P?v.line(c++).text:e)+t.lineBreak);return{changes:{from:ue.from,insert:je},range:n.jT.cursor(he.from+je.length)}})}else P?o=t.changeByRange(X=>{let he=v.line(c++);return{changes:{from:X.from,to:X.to,insert:he.text},range:n.jT.cursor(X.from+he.length)}}):o=t.replaceSelection(v);l.dispatch(o,{userEvent:"input.paste",scrollIntoView:!0})}cr.keydown=(l,e)=>{l.inputState.setSelectionOrigin("select"),e.keyCode==27&&(l.inputState.lastEscPress=Date.now())},cr.touchstart=(l,e)=>{l.inputState.lastTouchTime=Date.now(),l.inputState.setSelectionOrigin("select.pointer")},cr.touchmove=l=>{l.inputState.setSelectionOrigin("select.pointer")},cn.touchstart=cn.touchmove={passive:!0},cr.mousedown=(l,e)=>{if(l.observer.flush(),l.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let o of l.state.facet(bn))if(t=o(l,e),t)break;if(!t&&e.button==0&&(t=Lo(l,e)),t){let o=l.root.activeElement!=l.contentDOM;l.inputState.startMouseSelection(new Xe(l,e,t,o)),o&&l.observer.ignore(()=>Ye(l.contentDOM)),l.inputState.mouseSelection&&l.inputState.mouseSelection.start(e)}};function Hr(l,e,t,o){if(o==1)return n.jT.cursor(e,t);if(o==2)return Qn(l.state,e,t);{let c=Zr.find(l.docView,e),v=l.state.doc.lineAt(c?c.posAtEnd:e),P=c?c.posAtStart:v.from,W=c?c.posAtEnd:v.to;return W<l.state.doc.length&&W==v.to&&W++,n.jT.range(P,W)}}let rn=(l,e)=>l>=e.top&&l<=e.bottom,Nn=(l,e,t)=>rn(e,t)&&l>=t.left&&l<=t.right;function mi(l,e,t,o){let c=Zr.find(l.docView,e);if(!c)return 1;let v=e-c.posAtStart;if(v==0)return 1;if(v==c.length)return-1;let P=c.coordsAt(v,-1);if(P&&Nn(t,o,P))return-1;let W=c.coordsAt(v,1);return W&&Nn(t,o,W)?1:P&&rn(o,P)?-1:1}function gi(l,e){let t=l.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:mi(l,t,e.clientX,e.clientY)}}const Fi=Ke.ie&&Ke.ie_version<=11;let Wi=null,eo=0,yi=0;function Ni(l){if(!Fi)return l.detail;let e=Wi,t=yi;return Wi=l,yi=Date.now(),eo=!e||t>Date.now()-400&&Math.abs(e.clientX-l.clientX)<2&&Math.abs(e.clientY-l.clientY)<2?(eo+1)%3:1}function Lo(l,e){let t=gi(l,e),o=Ni(e),c=l.state.selection;return{update(v){v.docChanged&&(t.pos=v.changes.mapPos(t.pos),c=c.map(v.changes))},get(v,P,W){let X=gi(l,v),he,ue=Hr(l,X.pos,X.bias,o);if(t.pos!=X.pos&&!P){let je=Hr(l,t.pos,t.bias,o),ft=Math.min(je.from,ue.from),Et=Math.max(je.to,ue.to);ue=ft<ue.from?n.jT.range(ft,Et):n.jT.range(Et,ft)}return P?c.replaceRange(c.main.extend(ue.from,ue.to)):W&&o==1&&c.ranges.length>1&&(he=zn(c,X.pos))?he:W?c.addRange(ue):n.jT.create([ue])}}}function zn(l,e){for(let t=0;t<l.ranges.length;t++){let{from:o,to:c}=l.ranges[t];if(o<=e&&c>=e)return n.jT.create(l.ranges.slice(0,t).concat(l.ranges.slice(t+1)),l.mainIndex==t?0:l.mainIndex-(l.mainIndex>t?1:0))}return null}cr.dragstart=(l,e)=>{let{selection:{main:t}}=l.state,{mouseSelection:o}=l.inputState;o&&(o.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",l.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function ns(l,e,t,o){if(!t)return;let c=l.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:v}=l.inputState,P=o&&v&&v.dragging&&v.dragMove?{from:v.dragging.from,to:v.dragging.to}:null,W={from:c,insert:t},X=l.state.changes(P?[P,W]:W);l.focus(),l.dispatch({changes:X,selection:{anchor:X.mapPos(c,-1),head:X.mapPos(c,1)},userEvent:P?"move.drop":"input.drop"})}cr.drop=(l,e)=>{if(!e.dataTransfer)return;if(l.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let o=Array(t.length),c=0,v=()=>{++c==t.length&&ns(l,e,o.filter(P=>P!=null).join(l.state.lineBreak),!1)};for(let P=0;P<t.length;P++){let W=new FileReader;W.onerror=v,W.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(W.result)||(o[P]=W.result),v()},W.readAsText(t[P])}}else ns(l,e,e.dataTransfer.getData("Text"),!0)},cr.paste=(l,e)=>{if(l.state.readOnly)return e.preventDefault();l.observer.flush();let t=qn?null:e.clipboardData;t?(an(l,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):Pn(l)};function to(l,e){let t=l.dom.parentNode;if(!t)return;let o=t.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.value=e,o.focus(),o.selectionEnd=e.length,o.selectionStart=0,setTimeout(()=>{o.remove(),l.focus()},50)}function Zn(l){let e=[],t=[],o=!1;for(let c of l.selection.ranges)c.empty||(e.push(l.sliceDoc(c.from,c.to)),t.push(c));if(!e.length){let c=-1;for(let{from:v}of l.selection.ranges){let P=l.doc.lineAt(v);P.number>c&&(e.push(P.text),t.push({from:P.from,to:Math.min(l.doc.length,P.to+1)})),c=P.number}o=!0}return{text:e.join(l.lineBreak),ranges:t,linewise:o}}let So=null;cr.copy=cr.cut=(l,e)=>{let{text:t,ranges:o,linewise:c}=Zn(l.state);if(!t&&!c)return;So=c?t:null;let v=qn?null:e.clipboardData;v?(e.preventDefault(),v.clearData(),v.setData("text/plain",t)):to(l,t),e.type=="cut"&&!l.state.readOnly&&l.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"})};const Si=n.q6.define();function is(l,e){let t=[];for(let o of l.facet(On)){let c=o(l,e);c&&t.push(c)}return t?l.update({effects:t,annotations:Si.of(!0)}):null}function pi(l){setTimeout(()=>{let e=l.hasFocus;if(e!=l.inputState.notifiedFocused){let t=is(l.state,e);t?l.dispatch(t):l.update([])}},10)}cr.focus=l=>{l.inputState.lastFocusTime=Date.now(),!l.scrollDOM.scrollTop&&(l.inputState.lastScrollTop||l.inputState.lastScrollLeft)&&(l.scrollDOM.scrollTop=l.inputState.lastScrollTop,l.scrollDOM.scrollLeft=l.inputState.lastScrollLeft),pi(l)},cr.blur=l=>{l.observer.clearSelectionRange(),pi(l)},cr.compositionstart=cr.compositionupdate=l=>{l.inputState.compositionFirstChange==null&&(l.inputState.compositionFirstChange=!0),l.inputState.composing<0&&(l.inputState.composing=0)},cr.compositionend=l=>{l.inputState.composing=-1,l.inputState.compositionEndedAt=Date.now(),l.inputState.compositionPendingKey=!0,l.inputState.compositionPendingChange=l.observer.pendingRecords().length>0,l.inputState.compositionFirstChange=null,Ke.chrome&&Ke.android?l.observer.flushSoon():l.inputState.compositionPendingChange?Promise.resolve().then(()=>l.observer.flush()):setTimeout(()=>{l.inputState.composing<0&&l.docView.compositionDeco.size&&l.update([])},50)},cr.contextmenu=l=>{l.inputState.lastContextMenu=Date.now()},cr.beforeinput=(l,e)=>{var t;let o;if(Ke.chrome&&Ke.android&&(o=Oa.find(c=>c.inputType==e.inputType))&&(l.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let c=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var v;(((v=window.visualViewport)===null||v===void 0?void 0:v.height)||0)>c+10&&l.hasFocus&&(l.contentDOM.blur(),l.focus())},100)}};const En=["pre-wrap","normal","pre-line","break-spaces"];class xi{constructor(e){this.lineWrapping=e,this.doc=n.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let o=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(o+=Math.max(0,Math.ceil((t-e-o*this.lineLength*.5)/this.lineLength))),this.lineHeight*o}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return En.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let o=0;o<e.length;o++){let c=e[o];c<0?o++:this.heightSamples[Math.floor(c*10)]||(t=!0,this.heightSamples[Math.floor(c*10)]=!0)}return t}refresh(e,t,o,c,v,P){let W=En.indexOf(e)>-1,X=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=W;if(this.lineWrapping=W,this.lineHeight=t,this.charWidth=o,this.textHeight=c,this.lineLength=v,X){this.heightSamples={};for(let he=0;he<P.length;he++){let ue=P[he];ue<0?he++:this.heightSamples[Math.floor(ue*10)]=!0}}return X}}class _o{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ao{constructor(e,t,o,c,v,P){this.from=e,this.length=t,this.top=o,this.height=c,this.children=v,this.deco=P}get type(){var e,t,o;return(o=(e=this.children)!==null&&e!==void 0?e:(t=this.deco)===null||t===void 0?void 0:t.type)!==null&&o!==void 0?o:hr.Text}get widget(){return this.deco&&this.deco.widget}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(this.children||[this]).concat(e.children||[e]);return new ao(this.from,this.length+e.length,this.top,this.height+e.height,t,null)}}var Cn=function(l){return l[l.ByPos=0]="ByPos",l[l.ByHeight=1]="ByHeight",l[l.ByPosNoHeight=2]="ByPosNoHeight",l}(Cn||(Cn={}));const lo=.001;class fi{constructor(e,t,o=2){this.length=e,this.height=t,this.flags=o}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>lo&&(e.heightChanged=!0),this.height=t)}replace(e,t,o){return fi.of(o)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,o,c){let v=this,P=o.doc;for(let W=c.length-1;W>=0;W--){let{fromA:X,toA:he,fromB:ue,toB:je}=c[W],ft=v.lineAt(X,Cn.ByPosNoHeight,o.setDoc(t),0,0),Et=ft.to>=he?ft:v.lineAt(he,Cn.ByPosNoHeight,o,0,0);for(je+=Et.to-he,he=Et.to;W>0&&ft.from<=c[W-1].toA;)X=c[W-1].fromA,ue=c[W-1].fromB,W--,X<ft.from&&(ft=v.lineAt(X,Cn.ByPosNoHeight,o,0,0));ue+=ft.from-X,X=ft.from;let Nt=uo.build(o.setDoc(P),e,ue,je);v=v.replace(X,he,Nt)}return v.updateHeight(o,0)}static empty(){return new Bn(0,0)}static of(e){if(e.length==1)return e[0];let t=0,o=e.length,c=0,v=0;for(;;)if(t==o)if(c>v*2){let W=e[t-1];W.break?e.splice(--t,1,W.left,null,W.right):e.splice(--t,1,W.left,W.right),o+=1+W.break,c-=W.size}else if(v>c*2){let W=e[o];W.break?e.splice(o,1,W.left,null,W.right):e.splice(o,1,W.left,W.right),o+=2+W.break,v-=W.size}else break;else if(c<v){let W=e[t++];W&&(c+=W.size)}else{let W=e[--o];W&&(v+=W.size)}let P=0;return e[t-1]==null?(P=1,t--):e[t]==null&&(P=1,o++),new Eo(fi.of(e.slice(0,t)),P,fi.of(e.slice(o)))}}fi.prototype.size=1;class Xo extends fi{constructor(e,t,o){super(e,t),this.deco=o}blockAt(e,t,o,c){return new ao(c,this.length,o,this.height,null,this.deco)}lineAt(e,t,o,c,v){return this.blockAt(0,o,c,v)}forEachLine(e,t,o,c,v,P){e<=v+this.length&&t>=v&&P(this.blockAt(0,o,c,v))}updateHeight(e,t=0,o=!1,c){return c&&c.from<=t&&c.more&&this.setHeight(e,c.heights[c.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Bn extends Xo{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0}replace(e,t,o){let c=o[0];return o.length==1&&(c instanceof Bn||c instanceof Hn&&c.flags&4)&&Math.abs(this.length-c.length)<10?(c instanceof Hn?c=new Bn(c.length,this.height):c.height=this.height,this.outdated||(c.outdated=!1),c):fi.of(o)}updateHeight(e,t=0,o=!1,c){return c&&c.from<=t&&c.more?this.setHeight(e,c.heights[c.index++]):(o||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hn extends fi{constructor(e){super(e,0)}heightMetrics(e,t){let o=e.doc.lineAt(t).number,c=e.doc.lineAt(t+this.length).number,v=c-o+1,P,W=0;if(e.lineWrapping){let X=Math.min(this.height,e.lineHeight*v);P=X/v,this.length>v+1&&(W=(this.height-X)/(this.length-v-1))}else P=this.height/v;return{firstLine:o,lastLine:c,perLine:P,perChar:W}}blockAt(e,t,o,c){let{firstLine:v,lastLine:P,perLine:W,perChar:X}=this.heightMetrics(t,c);if(t.lineWrapping){let he=c+Math.round(Math.max(0,Math.min(1,(e-o)/this.height))*this.length),ue=t.doc.lineAt(he),je=W+ue.length*X,ft=Math.max(o,e-je/2);return new ao(ue.from,ue.length,ft,je,null,null)}else{let he=Math.max(0,Math.min(P-v,Math.floor((e-o)/W))),{from:ue,length:je}=t.doc.line(v+he);return new ao(ue,je,o+W*he,W,null,null)}}lineAt(e,t,o,c,v){if(t==Cn.ByHeight)return this.blockAt(e,o,c,v);if(t==Cn.ByPosNoHeight){let{from:Et,to:Nt}=o.doc.lineAt(e);return new ao(Et,Nt-Et,0,0,null,null)}let{firstLine:P,perLine:W,perChar:X}=this.heightMetrics(o,v),he=o.doc.lineAt(e),ue=W+he.length*X,je=he.number-P,ft=c+W*je+X*(he.from-v-je);return new ao(he.from,he.length,Math.max(c,Math.min(ft,c+this.height-ue)),ue,null,null)}forEachLine(e,t,o,c,v,P){e=Math.max(e,v),t=Math.min(t,v+this.length);let{firstLine:W,perLine:X,perChar:he}=this.heightMetrics(o,v);for(let ue=e,je=c;ue<=t;){let ft=o.doc.lineAt(ue);if(ue==e){let Nt=ft.number-W;je+=X*Nt+he*(e-v-Nt)}let Et=X+he*ft.length;P(new ao(ft.from,ft.length,je,Et,null,null)),je+=Et,ue=ft.to+1}}replace(e,t,o){let c=this.length-t;if(c>0){let v=o[o.length-1];v instanceof Hn?o[o.length-1]=new Hn(v.length+c):o.push(null,new Hn(c-1))}if(e>0){let v=o[0];v instanceof Hn?o[0]=new Hn(e+v.length):o.unshift(new Hn(e-1),null)}return fi.of(o)}decomposeLeft(e,t){t.push(new Hn(e-1),null)}decomposeRight(e,t){t.push(null,new Hn(this.length-e-1))}updateHeight(e,t=0,o=!1,c){let v=t+this.length;if(c&&c.from<=t+this.length&&c.more){let P=[],W=Math.max(t,c.from),X=-1;for(c.from>t&&P.push(new Hn(c.from-t-1).updateHeight(e,t));W<=v&&c.more;){let ue=e.doc.lineAt(W).length;P.length&&P.push(null);let je=c.heights[c.index++];X==-1?X=je:Math.abs(je-X)>=lo&&(X=-2);let ft=new Bn(ue,je);ft.outdated=!1,P.push(ft),W+=ue+1}W<=v&&P.push(null,new Hn(v-W).updateHeight(e,W));let he=fi.of(P);return(X<0||Math.abs(he.height-this.height)>=lo||Math.abs(X-this.heightMetrics(e,t).perLine)>=lo)&&(e.heightChanged=!0),he}else(o||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Eo extends fi{constructor(e,t,o){super(e.length+t+o.length,e.height+o.height,t|(e.outdated||o.outdated?2:0)),this.left=e,this.right=o,this.size=e.size+o.size}get break(){return this.flags&1}blockAt(e,t,o,c){let v=o+this.left.height;return e<v?this.left.blockAt(e,t,o,c):this.right.blockAt(e,t,v,c+this.left.length+this.break)}lineAt(e,t,o,c,v){let P=c+this.left.height,W=v+this.left.length+this.break,X=t==Cn.ByHeight?e<P:e<W,he=X?this.left.lineAt(e,t,o,c,v):this.right.lineAt(e,t,o,P,W);if(this.break||(X?he.to<W:he.from>W))return he;let ue=t==Cn.ByPosNoHeight?Cn.ByPosNoHeight:Cn.ByPos;return X?he.join(this.right.lineAt(W,ue,o,P,W)):this.left.lineAt(W,ue,o,c,v).join(he)}forEachLine(e,t,o,c,v,P){let W=c+this.left.height,X=v+this.left.length+this.break;if(this.break)e<X&&this.left.forEachLine(e,t,o,c,v,P),t>=X&&this.right.forEachLine(e,t,o,W,X,P);else{let he=this.lineAt(X,Cn.ByPos,o,c,v);e<he.from&&this.left.forEachLine(e,he.from-1,o,c,v,P),he.to>=e&&he.from<=t&&P(he),t>he.to&&this.right.forEachLine(he.to+1,t,o,W,X,P)}}replace(e,t,o){let c=this.left.length+this.break;if(t<c)return this.balanced(this.left.replace(e,t,o),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-c,t-c,o));let v=[];e>0&&this.decomposeLeft(e,v);let P=v.length;for(let W of o)v.push(W);if(e>0&&ro(v,P-1),t<this.length){let W=v.length;this.decomposeRight(t,v),ro(v,W)}return fi.of(v)}decomposeLeft(e,t){let o=this.left.length;if(e<=o)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(o++,e>=o&&t.push(null)),e>o&&this.right.decomposeLeft(e-o,t)}decomposeRight(e,t){let o=this.left.length,c=o+this.break;if(e>=c)return this.right.decomposeRight(e-c,t);e<o&&this.left.decomposeRight(e,t),this.break&&e<c&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?fi.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,o=!1,c){let{left:v,right:P}=this,W=t+v.length+this.break,X=null;return c&&c.from<=t+v.length&&c.more?X=v=v.updateHeight(e,t,o,c):v.updateHeight(e,t,o),c&&c.from<=W+P.length&&c.more?X=P=P.updateHeight(e,W,o,c):P.updateHeight(e,W,o),X?this.balanced(v,P):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ro(l,e){let t,o;l[e]==null&&(t=l[e-1])instanceof Hn&&(o=l[e+1])instanceof Hn&&l.splice(e-1,3,new Hn(t.length+1+o.length))}const Ts=5;class uo{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let o=Math.min(t,this.lineEnd),c=this.nodes[this.nodes.length-1];c instanceof Bn?c.length+=o-this.pos:(o>this.pos||!this.isCovered)&&this.nodes.push(new Bn(o-this.pos,-1)),this.writtenTo=o,t>o&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,o){if(e<t||o.heightRelevant){let c=o.widget?o.widget.estimatedHeight:0;c<0&&(c=this.oracle.lineHeight);let v=t-e;o.block?this.addBlock(new Xo(v,c,o)):(v||c>=Ts)&&this.addLineDeco(c,v)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Bn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let o=new Hn(t-e);return this.oracle.doc.lineAt(e).to==t&&(o.flags|=4),o}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Bn)return e;let t=new Bn(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let o=(t=e.deco)===null||t===void 0?void 0:t.type;o==hr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,o!=hr.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let o=this.ensureLine();o.length+=t,o.collapsed+=t,o.widgetHeight=Math.max(o.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Bn)&&!this.isCovered?this.nodes.push(new Bn(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let o=e;for(let c of this.nodes)c instanceof Bn&&c.updateHeight(this.oracle,o),o+=c?c.length:1;return this.nodes}static build(e,t,o,c){let v=new uo(o,e);return n.Xs.spans(t,o,c,v,0),v.finish(o)}}function ki(l,e,t){let o=new Qo;return n.Xs.compare(l,e,t,o,0),o.changes}class Qo{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,o,c){(e<t||o&&o.heightRelevant||c&&c.heightRelevant)&&Pr(e,t,this.changes,5)}}function os(l,e){let t=l.getBoundingClientRect(),o=l.ownerDocument,c=o.defaultView||window,v=Math.max(0,t.left),P=Math.min(c.innerWidth,t.right),W=Math.max(0,t.top),X=Math.min(c.innerHeight,t.bottom);for(let he=l.parentNode;he&&he!=o.body;)if(he.nodeType==1){let ue=he,je=window.getComputedStyle(ue);if((ue.scrollHeight>ue.clientHeight||ue.scrollWidth>ue.clientWidth)&&je.overflow!="visible"){let ft=ue.getBoundingClientRect();v=Math.max(v,ft.left),P=Math.min(P,ft.right),W=Math.max(W,ft.top),X=he==l.parentNode?ft.bottom:Math.min(X,ft.bottom)}he=je.position=="absolute"||je.position=="fixed"?ue.offsetParent:ue.parentNode}else if(he.nodeType==11)he=he.host;else break;return{left:v-t.left,right:Math.max(v,P)-t.left,top:W-(t.top+e),bottom:Math.max(W,X)-(t.top+e)}}function zi(l,e){let t=l.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class go{constructor(e,t,o){this.from=e,this.to=t,this.size=o}static same(e,t){if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++){let c=e[o],v=t[o];if(c.from!=v.from||c.to!=v.to||c.size!=v.size)return!1}return!0}draw(e){return Ie.replace({widget:new Bo(this.size,e)}).range(this.from,this.to)}}class Bo extends Yr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ji{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Zo,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=It.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(V).some(o=>typeof o!="function"&&o.class=="cm-lineWrapping");this.heightOracle=new xi(t),this.stateDeco=e.facet(ee).filter(o=>typeof o!="function"),this.heightMap=fi.empty().applyChanges(this.stateDeco,n.xv.empty,this.heightOracle.setDoc(e.doc),[new Ct(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ie.set(this.lineGaps.map(o=>o.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let o=0;o<=1;o++){let c=o?t.head:t.anchor;if(!e.some(({from:v,to:P})=>c>=v&&c<=P)){let{from:v,to:P}=this.lineBlockAt(c);e.push(new Jn(v,P))}}this.viewports=e.sort((o,c)=>o.from-c.from),this.scaler=this.heightMap.height<=7e6?Zo:new ti(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Mi(e,this.scaler))})}update(e,t=null){this.state=e.state;let o=this.stateDeco;this.stateDeco=this.state.facet(ee).filter(he=>typeof he!="function");let c=e.changedRanges,v=Ct.extendWithRanges(c,ki(o,this.stateDeco,e?e.changes:n.as.empty(this.state.doc.length))),P=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),v),this.heightMap.height!=P&&(e.flags|=2);let W=v.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<W.from||t.range.head>W.to)||!this.viewportIsAppropriate(W))&&(W=this.getViewport(0,t));let X=!e.changes.empty||e.flags&2||W.from!=this.viewport.from||W.to!=this.viewport.to;this.viewport=W,this.updateForViewport(),X&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Tn)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,o=window.getComputedStyle(t),c=this.heightOracle,v=o.whiteSpace;this.defaultTextDirection=o.direction=="rtl"?It.RTL:It.LTR;let P=this.heightOracle.mustRefreshForWrapping(v),W=t.getBoundingClientRect(),X=P||this.mustMeasureContent||this.contentDOMHeight!=W.height;this.contentDOMHeight=W.height,this.mustMeasureContent=!1;let he=0,ue=0,je=parseInt(o.paddingTop)||0,ft=parseInt(o.paddingBottom)||0;(this.paddingTop!=je||this.paddingBottom!=ft)&&(this.paddingTop=je,this.paddingBottom=ft,he|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(c.lineWrapping&&(X=!0),this.editorWidth=e.scrollDOM.clientWidth,he|=8);let Et=(this.printing?zi:os)(t,this.paddingTop),Nt=Et.top-this.pixelViewport.top,Pt=Et.bottom-this.pixelViewport.bottom;this.pixelViewport=Et;let Zt=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Zt!=this.inView&&(this.inView=Zt,Zt&&(X=!0)),!this.inView&&!this.scrollTarget)return 0;let qt=W.width;if((this.contentDOMWidth!=qt||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=W.width,this.editorHeight=e.scrollDOM.clientHeight,he|=8),X){let en=e.docView.measureVisibleLineHeights(this.viewport);if(c.mustRefreshForHeights(en)&&(P=!0),P||c.lineWrapping&&Math.abs(qt-this.contentDOMWidth)>c.charWidth){let{lineHeight:hn,charWidth:Dn,textHeight:Vn}=e.docView.measureTextSize();P=hn>0&&c.refresh(v,hn,Dn,Vn,qt/Dn,en),P&&(e.docView.minWidth=0,he|=8)}Nt>0&&Pt>0?ue=Math.max(Nt,Pt):Nt<0&&Pt<0&&(ue=Math.min(Nt,Pt)),c.heightChanged=!1;for(let hn of this.viewports){let Dn=hn.from==this.viewport.from?en:e.docView.measureVisibleLineHeights(hn);this.heightMap=(P?fi.empty().applyChanges(this.stateDeco,n.xv.empty,this.heightOracle,[new Ct(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(c,0,P,new _o(hn.from,Dn))}c.heightChanged&&(he|=2)}let Qr=!this.viewportIsAppropriate(this.viewport,ue)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Qr&&(this.viewport=this.getViewport(ue,this.scrollTarget)),this.updateForViewport(),(he&2||Qr)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(P?[]:this.lineGaps,e)),he|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),he}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let o=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),c=this.heightMap,v=this.heightOracle,{visibleTop:P,visibleBottom:W}=this,X=new Jn(c.lineAt(P-o*1e3,Cn.ByHeight,v,0,0).from,c.lineAt(W+(1-o)*1e3,Cn.ByHeight,v,0,0).to);if(t){let{head:he}=t.range;if(he<X.from||he>X.to){let ue=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),je=c.lineAt(he,Cn.ByPos,v,0,0),ft;t.y=="center"?ft=(je.top+je.bottom)/2-ue/2:t.y=="start"||t.y=="nearest"&&he<X.from?ft=je.top:ft=je.bottom-ue,X=new Jn(c.lineAt(ft-1e3/2,Cn.ByHeight,v,0,0).from,c.lineAt(ft+ue+1e3/2,Cn.ByHeight,v,0,0).to)}}return X}mapViewport(e,t){let o=t.mapPos(e.from,-1),c=t.mapPos(e.to,1);return new Jn(this.heightMap.lineAt(o,Cn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(c,Cn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},o=0){if(!this.inView)return!0;let{top:c}=this.heightMap.lineAt(e,Cn.ByPos,this.heightOracle,0,0),{bottom:v}=this.heightMap.lineAt(t,Cn.ByPos,this.heightOracle,0,0),{visibleTop:P,visibleBottom:W}=this;return(e==0||c<=P-Math.max(10,Math.min(-o,250)))&&(t==this.state.doc.length||v>=W+Math.max(10,Math.min(o,250)))&&c>P-2*1e3&&v<W+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let o=[];for(let c of e)t.touchesRange(c.from,c.to)||o.push(new go(t.mapPos(c.from),t.mapPos(c.to),c.size));return o}ensureLineGaps(e,t){let o=this.heightOracle.lineWrapping,c=o?1e4:2e3,v=c>>1,P=c<<1;if(this.defaultTextDirection!=It.LTR&&!o)return[];let W=[],X=(he,ue,je,ft)=>{if(ue-he<v)return;let Et=this.state.selection.main,Nt=[Et.from];Et.empty||Nt.push(Et.to);for(let Zt of Nt)if(Zt>he&&Zt<ue){X(he,Zt-10,je,ft),X(Zt+10,ue,je,ft);return}let Pt=ss(e,Zt=>Zt.from>=je.from&&Zt.to<=je.to&&Math.abs(Zt.from-he)<v&&Math.abs(Zt.to-ue)<v&&!Nt.some(qt=>Zt.from<qt&&Zt.to>qt));if(!Pt){if(ue<je.to&&t&&o&&t.visibleRanges.some(Zt=>Zt.from<=ue&&Zt.to>=ue)){let Zt=t.moveToLineBoundary(n.jT.cursor(ue),!1,!0).head;Zt>he&&(ue=Zt)}Pt=new go(he,ue,this.gapSize(je,he,ue,ft))}W.push(Pt)};for(let he of this.viewportLines){if(he.length<P)continue;let ue=Wo(he.from,he.to,this.stateDeco);if(ue.total<P)continue;let je=this.scrollTarget?this.scrollTarget.range.head:null,ft,Et;if(o){let Nt=c/this.heightOracle.lineLength*this.heightOracle.lineHeight,Pt,Zt;if(je!=null){let qt=ei(ue,je),Qr=((this.visibleBottom-this.visibleTop)/2+Nt)/he.height;Pt=qt-Qr,Zt=qt+Qr}else Pt=(this.visibleTop-he.top-Nt)/he.height,Zt=(this.visibleBottom-he.top+Nt)/he.height;ft=no(ue,Pt),Et=no(ue,Zt)}else{let Nt=ue.total*this.heightOracle.charWidth,Pt=c*this.heightOracle.charWidth,Zt,qt;if(je!=null){let Qr=ei(ue,je),en=((this.pixelViewport.right-this.pixelViewport.left)/2+Pt)/Nt;Zt=Qr-en,qt=Qr+en}else Zt=(this.pixelViewport.left-Pt)/Nt,qt=(this.pixelViewport.right+Pt)/Nt;ft=no(ue,Zt),Et=no(ue,qt)}ft>he.from&&X(he.from,ft,he,ue),Et<he.to&&X(Et,he.to,he,ue)}return W}gapSize(e,t,o,c){let v=ei(c,o)-ei(c,t);return this.heightOracle.lineWrapping?e.height*v:c.total*this.heightOracle.charWidth*v}updateLineGaps(e){go.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ie.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];n.Xs.spans(e,this.viewport.from,this.viewport.to,{span(c,v){t.push({from:c,to:v})},point(){}},20);let o=t.length!=this.visibleRanges.length||this.visibleRanges.some((c,v)=>c.from!=t[v].from||c.to!=t[v].to);return this.visibleRanges=t,o?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Mi(this.heightMap.lineAt(e,Cn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Mi(this.heightMap.lineAt(this.scaler.fromDOM(e),Cn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Mi(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Jn{constructor(e,t){this.from=e,this.to=t}}function Wo(l,e,t){let o=[],c=l,v=0;return n.Xs.spans(t,l,e,{span(){},point(P,W){P>c&&(o.push({from:c,to:P}),v+=P-c),c=W}},20),c<e&&(o.push({from:c,to:e}),v+=e-c),{total:v,ranges:o}}function no({total:l,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let o=Math.floor(l*t);for(let c=0;;c++){let{from:v,to:P}=e[c],W=P-v;if(o<=W)return v+o;o-=W}}function ei(l,e){let t=0;for(let{from:o,to:c}of l.ranges){if(e<=c){t+=e-o;break}t+=c-o}return t/l.total}function ss(l,e){for(let t of l)if(e(t))return t}const Zo={toDOM(l){return l},fromDOM(l){return l},scale:1};class ti{constructor(e,t,o){let c=0,v=0,P=0;this.viewports=o.map(({from:W,to:X})=>{let he=t.lineAt(W,Cn.ByPos,e,0,0).top,ue=t.lineAt(X,Cn.ByPos,e,0,0).bottom;return c+=ue-he,{from:W,to:X,top:he,bottom:ue,domTop:0,domBottom:0}}),this.scale=(7e6-c)/(t.height-c);for(let W of this.viewports)W.domTop=P+(W.top-v)*this.scale,P=W.domBottom=W.domTop+(W.bottom-W.top),v=W.bottom}toDOM(e){for(let t=0,o=0,c=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.top)return c+(e-o)*this.scale;if(e<=v.bottom)return v.domTop+(e-v.top);o=v.bottom,c=v.domBottom}}fromDOM(e){for(let t=0,o=0,c=0;;t++){let v=t<this.viewports.length?this.viewports[t]:null;if(!v||e<v.domTop)return o+(e-c)/this.scale;if(e<=v.domBottom)return v.top+(e-v.domTop);o=v.bottom,c=v.domBottom}}}function Mi(l,e){if(e.scale==1)return l;let t=e.toDOM(l.top),o=e.toDOM(l.bottom);return new ao(l.from,l.length,t,o-t,l.children&&l.children.map(c=>Mi(c,e)),l.deco)}const co=n.r$.define({combine:l=>l.join(" ")}),Hi=n.r$.define({combine:l=>l.indexOf(!0)>-1}),wo=p.V.newName(),ps=p.V.newName(),ht=p.V.newName(),at={"&light":"."+ps,"&dark":"."+ht};function Ti(l,e,t){return new p.V(e,{finish(o){return/&/.test(o)?o.replace(/&\w*/,c=>{if(c=="&")return l;if(!t||!t[c])throw new RangeError(`Unsupported selector: ${c}`);return t[c]}):l+" "+o}})}const Ei=Ti("."+wo,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},at);class Br{constructor(e,t,o,c){this.typeOver=c,this.bounds=null,this.text="";let{impreciseHead:v,impreciseAnchor:P}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,o,0))){let W=v||P?[]:Oo(e),X=new R(W,e.state);X.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=X.text,this.newSel=Uo(W,this.bounds.from)}else{let W=e.observer.selectionRange,X=v&&v.node==W.focusNode&&v.offset==W.focusOffset||!oe(e.contentDOM,W.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(W.focusNode,W.focusOffset),he=P&&P.node==W.anchorNode&&P.offset==W.anchorOffset||!oe(e.contentDOM,W.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(W.anchorNode,W.anchorOffset);this.newSel=n.jT.single(he,X)}}}function Xn(l,e){let t,{newSel:o}=e,c=l.state.selection.main,v=l.inputState.lastKeyTime>Date.now()-100?l.inputState.lastKeyCode:-1;if(e.bounds){let{from:P,to:W}=e.bounds,X=c.from,he=null;(v===8||Ke.android&&e.text.length<W-P)&&(X=c.to,he="end");let ue=fo(l.state.doc.sliceString(P,W,ge),e.text,X-P,he);ue&&(Ke.chrome&&v==13&&ue.toB==ue.from+2&&e.text.slice(ue.from,ue.toB)==ge+ge&&ue.toB--,t={from:P+ue.from,to:P+ue.toA,insert:n.xv.of(e.text.slice(ue.from,ue.toB).split(ge))})}else o&&(!l.hasFocus&&l.state.facet(ni)||o.main.eq(c))&&(o=null);if(!t&&!o)return!1;if(!t&&e.typeOver&&!c.empty&&o&&o.main.empty?t={from:c.from,to:c.to,insert:l.state.doc.slice(c.from,c.to)}:t&&t.from>=c.from&&t.to<=c.to&&(t.from!=c.from||t.to!=c.to)&&c.to-c.from-(t.to-t.from)<=4?t={from:c.from,to:c.to,insert:l.state.doc.slice(c.from,t.from).append(t.insert).append(l.state.doc.slice(t.to,c.to))}:(Ke.mac||Ke.android)&&t&&t.from==t.to&&t.from==c.head-1&&/^\. ?$/.test(t.insert.toString())&&l.contentDOM.getAttribute("autocorrect")=="off"?(o&&t.insert.length==2&&(o=n.jT.single(o.main.anchor-1,o.main.head-1)),t={from:c.from,to:c.to,insert:n.xv.of([" "])}):Ke.chrome&&t&&t.from==t.to&&t.from==c.head&&t.insert.toString()==`
 `&&l.lineWrapping&&(o&&(o=n.jT.single(o.main.anchor-1,o.main.head-1)),t={from:c.from,to:c.to,insert:n.xv.of([" "])}),t){let P=l.state;if(Ke.ios&&l.inputState.flushIOSKey(l)||Ke.android&&(t.from==c.from&&t.to==c.to&&t.insert.length==1&&t.insert.lines==2&&ut(l.contentDOM,"Enter",13)||(t.from==c.from-1&&t.to==c.to&&t.insert.length==0||v==8&&t.insert.length<t.to-t.from)&&ut(l.contentDOM,"Backspace",8)||t.from==c.from&&t.to==c.to+1&&t.insert.length==0&&ut(l.contentDOM,"Delete",46)))return!0;let W=t.insert.toString();if(l.state.facet(fn).some(ue=>ue(l,t.from,t.to,W)))return!0;l.inputState.composing>=0&&l.inputState.composing++;let X;if(t.from>=c.from&&t.to<=c.to&&t.to-t.from>=(c.to-c.from)/3&&(!o||o.main.empty&&o.main.from==t.from+t.insert.length)&&l.inputState.composing<0){let ue=c.from<t.from?P.sliceDoc(c.from,t.from):"",je=c.to>t.to?P.sliceDoc(t.to,c.to):"";X=P.replaceSelection(l.state.toText(ue+t.insert.sliceString(0,void 0,l.state.lineBreak)+je))}else{let ue=P.changes(t),je=o&&o.main.to<=ue.newLength?o.main:void 0;if(P.selection.ranges.length>1&&l.inputState.composing>=0&&t.to<=c.to&&t.to>=c.to-10){let ft=l.state.sliceDoc(t.from,t.to),Et=Kt(l)||l.state.doc.lineAt(c.head),Nt=c.to-t.to,Pt=c.to-c.from;X=P.changeByRange(Zt=>{if(Zt.from==c.from&&Zt.to==c.to)return{changes:ue,range:je||Zt.map(ue)};let qt=Zt.to-Nt,Qr=qt-ft.length;if(Zt.to-Zt.from!=Pt||l.state.sliceDoc(Qr,qt)!=ft||Et&&Zt.to>=Et.from&&Zt.from<=Et.to)return{range:Zt};let en=P.changes({from:Qr,to:qt,insert:t.insert}),hn=Zt.to-c.to;return{changes:en,range:je?n.jT.range(Math.max(0,je.anchor+hn),Math.max(0,je.head+hn)):Zt.map(en)}})}else X={changes:ue,selection:je&&P.selection.replaceRange(je)}}let he="input.type";return(l.composing||l.inputState.compositionPendingChange&&l.inputState.compositionEndedAt>Date.now()-50)&&(l.inputState.compositionPendingChange=!1,he+=".compose",l.inputState.compositionFirstChange&&(he+=".start",l.inputState.compositionFirstChange=!1)),l.dispatch(X,{scrollIntoView:!0,userEvent:he}),!0}else if(o&&!o.main.eq(c)){let P=!1,W="select";return l.inputState.lastSelectionTime>Date.now()-50&&(l.inputState.lastSelectionOrigin=="select"&&(P=!0),W=l.inputState.lastSelectionOrigin),l.dispatch({selection:o,scrollIntoView:P,userEvent:W}),!0}else return!1}function fo(l,e,t,o){let c=Math.min(l.length,e.length),v=0;for(;v<c&&l.charCodeAt(v)==e.charCodeAt(v);)v++;if(v==c&&l.length==e.length)return null;let P=l.length,W=e.length;for(;P>0&&W>0&&l.charCodeAt(P-1)==e.charCodeAt(W-1);)P--,W--;if(o=="end"){let X=Math.max(0,v-Math.min(P,W));t-=P+X-v}if(P<v&&l.length<e.length){let X=t<=v&&t>=P?v-t:0;v-=X,W=v+(W-P),P=v}else if(W<v){let X=t<=v&&t>=W?v-t:0;v-=X,P=v+(P-W),W=v}return{from:v,toA:P,toB:W}}function Oo(l){let e=[];if(l.root.activeElement!=l.contentDOM)return e;let{anchorNode:t,anchorOffset:o,focusNode:c,focusOffset:v}=l.observer.selectionRange;return t&&(e.push(new Me(t,o)),(c!=t||v!=o)&&e.push(new Me(c,v))),e}function Uo(l,e){if(l.length==0)return null;let t=l[0].pos,o=l.length==2?l[1].pos:t;return t>-1&&o>-1?n.jT.single(t+e,o+e):null}const Vs={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ks=Ke.ie&&Ke.ie_version<=11;class La{constructor(e){this.view=e,this.active=!1,this.selectionRange=new xe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let o of t)this.queue.push(o);(Ke.ie&&Ke.ie_version<=11||Ke.ios&&e.composing)&&t.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Ks&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,o)=>t!=e[o]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:o}=this,c=this.selectionRange;if(o.state.facet(ni)?o.root.activeElement!=this.dom:!U(o.dom,c))return;let v=c.anchorNode&&o.docView.nearest(c.anchorNode);if(v&&v.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ke.ie&&Ke.ie_version<=11||Ke.android&&Ke.chrome)&&!o.state.selection.main.empty&&c.focusNode&&Oe(c.focusNode,c.focusOffset,c.anchorNode,c.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ke.safari&&e.root.nodeType==11&&we(this.dom.ownerDocument)==this.dom&&Do(this.view)||te(e.root);if(!t||this.selectionRange.eq(t))return!1;let o=U(this.dom,t);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&wt(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let o=this.dom;o;)if(o.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==o?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);for(let o of this.scrollTargets=t)o.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Vs),Ks&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ks&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var o;if(!this.delayedAndroidKey){let c=()=>{let v=this.delayedAndroidKey;v&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=v.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&v.force&&ut(this.dom,v.key,v.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(c)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((o=this.delayedAndroidKey)===null||o===void 0)&&o.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,o=-1,c=!1;for(let v of e){let P=this.readMutation(v);P&&(P.typeOver&&(c=!0),t==-1?{from:t,to:o}=P:(t=Math.min(P.from,t),o=Math.max(P.to,o)))}return{from:t,to:o,typeOver:c}}readChange(){let{from:e,to:t,typeOver:o}=this.processRecords(),c=this.selectionChanged&&U(this.dom,this.selectionRange);return e<0&&!c?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Br(this.view,e,t,o))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let o=this.view.state,c=Xn(this.view,t);return this.view.state==o&&this.view.update([]),c}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let o=_s(t,e.previousSibling||e.target.previousSibling,-1),c=_s(t,e.nextSibling||e.target.nextSibling,1);return{from:o?t.posAfter(o):t.posAtStart,to:c?t.posBefore(c):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,o,c;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(o=this.resizeScroll)===null||o===void 0||o.disconnect(),(c=this.resizeContent)===null||c===void 0||c.disconnect();for(let v of this.scrollTargets)v.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function _s(l,e,t){for(;e;){let o=Ne.get(e);if(o&&o.parent==l)return o;let c=e.parentNode;e=c!=l.dom?c:t>0?e.nextSibling:e.previousSibling}return null}function Do(l){let e=null;function t(X){X.preventDefault(),X.stopImmediatePropagation(),e=X.getTargetRanges()[0]}if(l.contentDOM.addEventListener("beforeinput",t,!0),l.dom.ownerDocument.execCommand("indent"),l.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let o=e.startContainer,c=e.startOffset,v=e.endContainer,P=e.endOffset,W=l.docView.domAtPos(l.state.selection.main.anchor);return Oe(W.node,W.offset,v,P)&&([o,c,v,P]=[v,P,o,c]),{anchorNode:o,anchorOffset:c,focusNode:v,focusOffset:P}}class Un{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||gt(e.parent)||document,this.viewState=new ji(e.state||n.yy.create(e)),this.plugins=this.state.facet(Bi).map(t=>new y(t));for(let t of this.plugins)t.update(this);this.observer=new La(this),this.inputState=new Na(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ze(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof n.YW?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,o=!1,c,v=this.state;for(let ft of e){if(ft.startState!=v)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");v=ft.state}if(this.destroyed){this.viewState.state=v;return}let P=this.hasFocus,W=0,X=null;e.some(ft=>ft.annotation(Si))?(this.inputState.notifiedFocused=P,W=1):P!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=P,X=is(v,P),X||(W=1));let he=this.observer.delayedAndroidKey,ue=null;if(he?(this.observer.clearDelayedAndroidKey(),ue=this.observer.readChange(),(ue&&!this.state.doc.eq(v.doc)||!this.state.selection.eq(v.selection))&&(ue=null)):this.observer.clear(),v.facet(n.yy.phrases)!=this.state.facet(n.yy.phrases))return this.setState(v);c=Lt.create(this,v,e),c.flags|=W;let je=this.viewState.scrollTarget;try{this.updateState=2;for(let ft of e){if(je&&(je=je.map(ft.changes)),ft.scrollIntoView){let{main:Et}=ft.state.selection;je=new Sn(Et.empty?Et:n.jT.cursor(Et.head,Et.head>Et.anchor?-1:1))}for(let Et of ft.effects)Et.is(sn)&&(je=Et.value)}this.viewState.update(c,je),this.bidiCache=ho.update(this.bidiCache,c.changes),c.empty||(this.updatePlugins(c),this.inputState.update(c)),t=this.docView.update(c),this.state.facet(Je)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(ft=>ft.isUserEvent("select.pointer")))}finally{this.updateState=0}if(c.startState.facet(co)!=c.state.facet(co)&&(this.viewState.mustMeasureContent=!0),(t||o||je||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!c.empty)for(let ft of this.state.facet(Xr))ft(c);(X||ue)&&Promise.resolve().then(()=>{X&&this.state==X.startState&&this.dispatch(X),ue&&!Xn(this,ue)&&he.force&&ut(this.contentDOM,he.key,he.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let o of this.plugins)o.destroy(this);this.viewState=new ji(e),this.plugins=e.facet(Bi).map(o=>new y(o)),this.pluginMap.clear();for(let o of this.plugins)o.update(this);this.docView=new Ze(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Bi),o=e.state.facet(Bi);if(t!=o){let c=[];for(let v of o){let P=t.indexOf(v);if(P<0)c.push(new y(v));else{let W=this.plugins[P];W.mustUpdate=e,c.push(W)}}for(let v of this.plugins)v.mustUpdate!=e&&v.destroy(this);this.plugins=c,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let c of this.plugins)c.mustUpdate=e;for(let c=0;c<this.plugins.length;c++)this.plugins[c].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:o,scrollTop:c,clientHeight:v}=this.scrollDOM,P=c>o-v-4?o:c;try{for(let W=0;;W++){this.updateState=1;let X=this.viewport,he=this.viewState.lineBlockAtHeight(P),ue=this.viewState.measure(this);if(!ue&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(W>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let je=[];ue&4||([this.measureRequests,je]=[je,this.measureRequests]);let ft=je.map(Zt=>{try{return Zt.read(this)}catch(qt){return un(this.state,qt),zs}}),Et=Lt.create(this,this.state,[]),Nt=!1,Pt=!1;Et.flags|=ue,t?t.flags|=ue:t=Et,this.updateState=2,Et.empty||(this.updatePlugins(Et),this.inputState.update(Et),this.updateAttrs(),Nt=this.docView.update(Et));for(let Zt=0;Zt<je.length;Zt++)if(ft[Zt]!=zs)try{let qt=je[Zt];qt.write&&qt.write(ft[Zt],this)}catch(qt){un(this.state,qt)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Pt=!0;else{let Zt=this.viewState.lineBlockAt(he.from).top-he.top;(Zt>1||Zt<-1)&&(this.scrollDOM.scrollTop+=Zt,Pt=!0)}if(Nt&&this.docView.updateSelection(!0),this.viewport.from==X.from&&this.viewport.to==X.to&&!Pt&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let W of this.state.facet(Xr))W(t)}get themeClasses(){return wo+" "+(this.state.facet(Hi)?ht:ps)+" "+this.state.facet(co)}updateAttrs(){let e=mo(this,T,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ni)?"true":"false",class:"cm-content",style:`${Ke.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),mo(this,V,t);let o=this.observer.ignore(()=>{let c=Gr(this.contentDOM,this.contentAttrs,t),v=Gr(this.dom,this.editorAttrs,e);return c||v});return this.editorAttrs=e,this.contentAttrs=t,o}showAnnouncements(e){let t=!0;for(let o of e)for(let c of o.effects)if(c.is(Un.announce)){t&&(this.announceDOM.textContent=""),t=!1;let v=this.announceDOM.appendChild(document.createElement("div"));v.textContent=c.value}}mountStyles(){this.styleModules=this.state.facet(Je),p.V.mount(this.root,this.styleModules.concat(Ei).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(o=>o.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,o){return na(this,e,Ea(this,e,t,o))}moveByGroup(e,t){return na(this,e,Ea(this,e,t,o=>Ps(this,e.head,o)))}moveToLineBoundary(e,t,o=!0){return ra(this,e,t,o)}moveVertically(e,t,o){return na(this,e,wa(this,e,t,o))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),jo(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let o=this.docView.coordsAt(e,t);if(!o||o.left==o.right)return o;let c=this.state.doc.lineAt(e),v=this.bidiSpans(c),P=v[Qi.find(v,e-c.from,-1,t)];return re(o,P.dir==It.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(nn)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Ji)return Ki(e.length);let t=this.textDirectionAt(e.from);for(let c of this.bidiCache)if(c.from==e.from&&c.dir==t)return c.order;let o=Mn(e.text,t);return this.bidiCache.push(new ho(e.from,e.to,t,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ke.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Ye(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return sn.of(new Sn(typeof e=="number"?n.jT.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Pe.define(()=>({}),{eventHandlers:e})}static theme(e,t){let o=p.V.newName(),c=[co.of(o),Je.of(Ti(`.${o}`,e))];return t&&t.dark&&c.push(Hi.of(!0)),c}static baseTheme(e){return n.Wl.lowest(Je.of(Ti("."+wo,e,at)))}static findFromDOM(e){var t;let o=e.querySelector(".cm-content"),c=o&&Ne.get(o)||Ne.get(e);return((t=c==null?void 0:c.rootView)===null||t===void 0?void 0:t.view)||null}}Un.styleModule=Je,Un.inputHandler=fn,Un.focusChangeEffect=On,Un.perLineTextDirection=nn,Un.exceptionSink=wn,Un.updateListener=Xr,Un.editable=ni,Un.mouseSelectionStyle=bn,Un.dragMovesSelection=pn,Un.clickAddsSelectionRange=Ur,Un.decorations=ee,Un.atomicRanges=Ee,Un.scrollMargins=Se,Un.darkTheme=Hi,Un.contentAttributes=V,Un.editorAttributes=T,Un.lineWrapping=Un.contentAttributes.of({class:"cm-lineWrapping"}),Un.announce=n.Py.define();const Ji=4096,zs={};class ho{constructor(e,t,o,c){this.from=e,this.to=t,this.dir=o,this.order=c}static update(e,t){if(t.empty)return e;let o=[],c=e.length?e[e.length-1].dir:It.LTR;for(let v=Math.max(0,e.length-10);v<e.length;v++){let P=e[v];P.dir==c&&!t.touchesRange(P.from,P.to)&&o.push(new ho(t.mapPos(P.from,1),t.mapPos(P.to,-1),P.dir,P.order))}return o}}function mo(l,e,t){for(let o=l.state.facet(e),c=o.length-1;c>=0;c--){let v=o[c],P=typeof v=="function"?v(l):v;P&&Nr(P,t)}return t}const ln=Ke.mac?"mac":Ke.windows?"win":Ke.linux?"linux":"key";function br(l,e){const t=l.split(/-(?!$)/);let o=t[t.length-1];o=="Space"&&(o=" ");let c,v,P,W;for(let X=0;X<t.length-1;++X){const he=t[X];if(/^(cmd|meta|m)$/i.test(he))W=!0;else if(/^a(lt)?$/i.test(he))c=!0;else if(/^(c|ctrl|control)$/i.test(he))v=!0;else if(/^s(hift)?$/i.test(he))P=!0;else if(/^mod$/i.test(he))e=="mac"?W=!0:v=!0;else throw new Error("Unrecognized modifier name: "+he)}return c&&(o="Alt-"+o),v&&(o="Ctrl-"+o),W&&(o="Meta-"+o),P&&(o="Shift-"+o),o}function fr(l,e,t){return e.altKey&&(l="Alt-"+l),e.ctrlKey&&(l="Ctrl-"+l),e.metaKey&&(l="Meta-"+l),t!==!1&&e.shiftKey&&(l="Shift-"+l),l}const $r=n.Wl.default(Un.domEventHandlers({keydown(l,e){return as(ri(e.state),l,e,"editor")}})),gn=n.r$.define({enables:$r}),An=new WeakMap;function ri(l){let e=l.facet(gn),t=An.get(e);return t||An.set(e,t=Ds(e.reduce((o,c)=>o.concat(c),[]))),t}function wi(l,e,t){return as(ri(l.state),e,l,t)}let $i=null;const ia=4e3;function Ds(l,e=ln){let t=Object.create(null),o=Object.create(null),c=(P,W)=>{let X=o[P];if(X==null)o[P]=W;else if(X!=W)throw new Error("Key binding "+P+" is used both as a regular binding and as a multi-stroke prefix")},v=(P,W,X,he)=>{var ue,je;let ft=t[P]||(t[P]=Object.create(null)),Et=W.split(/ (?!$)/).map(Zt=>br(Zt,e));for(let Zt=1;Zt<Et.length;Zt++){let qt=Et.slice(0,Zt).join(" ");c(qt,!0),ft[qt]||(ft[qt]={preventDefault:!0,run:[Qr=>{let en=$i={view:Qr,prefix:qt,scope:P};return setTimeout(()=>{$i==en&&($i=null)},ia),!0}]})}let Nt=Et.join(" ");c(Nt,!1);let Pt=ft[Nt]||(ft[Nt]={preventDefault:!1,run:((je=(ue=ft._any)===null||ue===void 0?void 0:ue.run)===null||je===void 0?void 0:je.slice())||[]});X&&Pt.run.push(X),he&&(Pt.preventDefault=!0)};for(let P of l){let W=P.scope?P.scope.split(" "):["editor"];if(P.any)for(let he of W){let ue=t[he]||(t[he]=Object.create(null));ue._any||(ue._any={preventDefault:!1,run:[]});for(let je in ue)ue[je].run.push(P.any)}let X=P[e]||P.key;if(X)for(let he of W)v(he,X,P.run,P.preventDefault),P.shift&&v(he,"Shift-"+X,P.shift,P.preventDefault)}return t}function as(l,e,t,o){let c=ne(e),v=(0,n.gm)(c,0),P=(0,n.nZ)(v)==c.length&&c!=" ",W="",X=!1;$i&&$i.view==t&&$i.scope==o&&(W=$i.prefix+" ",(X=ii.indexOf(e.keyCode)<0)&&($i=null));let he=new Set,ue=Nt=>{if(Nt){for(let Pt of Nt.run)if(!he.has(Pt)&&(he.add(Pt),Pt(t,e)))return!0;Nt.preventDefault&&(X=!0)}return!1},je=l[o],ft,Et;if(je){if(ue(je[W+fr(c,e,!P)]))return!0;if(P&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ke.windows&&e.ctrlKey&&e.altKey)&&(ft=I[e.keyCode])&&ft!=c){if(ue(je[W+fr(ft,e,!0)]))return!0;if(e.shiftKey&&(Et=O[e.keyCode])!=c&&Et!=ft&&ue(je[W+fr(Et,e,!1)]))return!0}else if(P&&e.shiftKey&&ue(je[W+fr(c,e,!0)]))return!0;if(ue(je._any))return!0}return X}class ks{constructor(e,t,o,c,v){this.className=e,this.left=t,this.top=o,this.width=c,this.height=v}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,o){if(o.empty){let c=e.coordsAtPos(o.head,o.assoc||1);if(!c)return[];let v=oa(e);return[new ks(t,c.left-v.left,c.top-v.top,null,c.bottom-c.top)]}else return $s(e,t,o)}}function oa(l){let e=l.scrollDOM.getBoundingClientRect();return{left:(l.textDirection==It.LTR?e.left:e.right-l.scrollDOM.clientWidth)-l.scrollDOM.scrollLeft,top:e.top-l.scrollDOM.scrollTop}}function Ms(l,e,t){let o=n.jT.cursor(e);return{from:Math.max(t.from,l.moveToLineBoundary(o,!1,!0).from),to:Math.min(t.to,l.moveToLineBoundary(o,!0,!0).from),type:hr.Text}}function xa(l,e){let t=l.lineBlockAt(e);if(Array.isArray(t.type)){for(let o of t.type)if(o.to>e||o.to==e&&(o.to==t.to||o.type==hr.Text))return o}return t}function $s(l,e,t){if(t.to<=l.viewport.from||t.from>=l.viewport.to)return[];let o=Math.max(t.from,l.viewport.from),c=Math.min(t.to,l.viewport.to),v=l.textDirection==It.LTR,P=l.contentDOM,W=P.getBoundingClientRect(),X=oa(l),he=P.querySelector(".cm-line"),ue=he&&window.getComputedStyle(he),je=W.left+(ue?parseInt(ue.paddingLeft)+Math.min(0,parseInt(ue.textIndent)):0),ft=W.right-(ue?parseInt(ue.paddingRight):0),Et=xa(l,o),Nt=xa(l,c),Pt=Et.type==hr.Text?Et:null,Zt=Nt.type==hr.Text?Nt:null;if(l.lineWrapping&&(Pt&&(Pt=Ms(l,o,Pt)),Zt&&(Zt=Ms(l,c,Zt))),Pt&&Zt&&Pt.from==Zt.from)return Qr(en(t.from,t.to,Pt));{let Dn=Pt?en(t.from,null,Pt):hn(Et,!1),Vn=Zt?en(null,t.to,Zt):hn(Nt,!0),Ii=[];return(Pt||Et).to<(Zt||Nt).from-(Pt&&Zt?1:0)?Ii.push(qt(je,Dn.bottom,ft,Vn.top)):Dn.bottom<Vn.top&&l.elementAtHeight((Dn.bottom+Vn.top)/2).type==hr.Text&&(Dn.bottom=Vn.top=(Dn.bottom+Vn.top)/2),Qr(Dn).concat(Ii).concat(Qr(Vn))}function qt(Dn,Vn,Ii,$o){return new ks(e,Dn-X.left,Vn-X.top-.01,Ii-Dn,$o-Vn+.01)}function Qr({top:Dn,bottom:Vn,horizontal:Ii}){let $o=[];for(let Jo=0;Jo<Ii.length;Jo+=2)$o.push(qt(Ii[Jo],Dn,Ii[Jo+1],Vn));return $o}function en(Dn,Vn,Ii){let $o=1e9,Jo=-1e9,Ka=[];function Xa($a,qs,nl,za,il){let ya=l.coordsAtPos($a,$a==Ii.to?-2:2),va=l.coordsAtPos(nl,nl==Ii.from?2:-2);!ya||!va||($o=Math.min(ya.top,va.top,$o),Jo=Math.max(ya.bottom,va.bottom,Jo),il==It.LTR?Ka.push(v&&qs?je:ya.left,v&&za?ft:va.right):Ka.push(!v&&za?je:va.left,!v&&qs?ft:ya.right))}let Qa=Dn!=null?Dn:Ii.from,Ma=Vn!=null?Vn:Ii.to;for(let $a of l.visibleRanges)if($a.to>Qa&&$a.from<Ma)for(let qs=Math.max($a.from,Qa),nl=Math.min($a.to,Ma);;){let za=l.state.doc.lineAt(qs);for(let il of l.bidiSpans(za)){let ya=il.from+za.from,va=il.to+za.from;if(ya>=nl)break;va>qs&&Xa(Math.max(ya,qs),Dn==null&&ya<=Qa,Math.min(va,nl),Vn==null&&va>=Ma,il.dir)}if(qs=za.to+1,qs>=nl)break}return Ka.length==0&&Xa(Qa,Dn==null,Ma,Vn==null,l.textDirection),{top:$o,bottom:Jo,horizontal:Ka}}function hn(Dn,Vn){let Ii=W.top+(Vn?Dn.top:Dn.bottom);return{top:Ii,bottom:Ii,horizontal:[]}}}function gs(l,e){return l.constructor==e.constructor&&l.eq(e)}class xo{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Is)!=e.state.facet(Is)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,o=e.facet(Is);for(;t<o.length&&o[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,o)=>!gs(t,this.drawn[o]))){let t=this.dom.firstChild,o=0;for(let c of e)c.update&&t&&c.constructor&&this.drawn[o].constructor&&c.update(t,this.drawn[o])?(t=t.nextSibling,o++):this.dom.insertBefore(c.draw(),t);for(;t;){let c=t.nextSibling;t.remove(),t=c}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Is=n.r$.define();function Ca(l){return[Pe.define(e=>new xo(e,l)),Is.of(l)]}const ko=!Ke.ios,Rs=n.r$.define({combine(l){return(0,n.BO)(l,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function ys(l={}){return[Rs.of(l),sa,vs,qo,Tn.of(!0)]}function Co(l){return l.startState.facet(Rs)!=l.state.facet(Rs)}const sa=Ca({above:!0,markers(l){let{state:e}=l,t=e.facet(Rs),o=[];for(let c of e.selection.ranges){let v=c==e.selection.main;if(c.empty?!v||ko:t.drawRangeCursor){let P=v?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",W=c.empty?c:n.jT.cursor(c.head,c.head>c.anchor?-1:1);for(let X of ks.forRange(l,P,W))o.push(X)}}return o},update(l,e){l.transactions.some(o=>o.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Co(l);return t&&Ba(l.state,e),l.docChanged||l.selectionSet||t},mount(l,e){Ba(e.state,l)},class:"cm-cursorLayer"});function Ba(l,e){e.style.animationDuration=l.facet(Rs).cursorBlinkRate+"ms"}const vs=Ca({above:!1,markers(l){return l.state.selection.ranges.map(e=>e.empty?[]:ks.forRange(l,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(l,e){return l.docChanged||l.selectionSet||l.viewportChanged||Co(l)},class:"cm-selectionLayer"}),aa={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};ko&&(aa[".cm-line"].caretColor="transparent !important");const qo=n.Wl.highest(Un.theme(aa)),io=n.Py.define({map(l,e){return l==null?null:e.mapPos(l)}}),po=n.QQ.define({create(){return null},update(l,e){return l!=null&&(l=e.changes.mapPos(l)),e.effects.reduce((t,o)=>o.is(io)?o.value:t,l)}}),tl=Pe.fromClass(class{constructor(l){this.view=l,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(l){var e;let t=l.state.field(po);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(l.startState.field(po)!=t||l.docChanged||l.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let l=this.view.state.field(po),e=l!=null&&this.view.coordsAtPos(l);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(l){this.cursor&&(l?(this.cursor.style.left=l.left+"px",this.cursor.style.top=l.top+"px",this.cursor.style.height=l.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(l){this.view.state.field(po)!=l&&this.view.dispatch({effects:io.of(l)})}},{eventHandlers:{dragover(l){this.setDropPos(this.view.posAtCoords({x:l.clientX,y:l.clientY}))},dragleave(l){(l.target==this.view.contentDOM||!this.view.contentDOM.contains(l.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function la(){return[po,tl]}function Pa(l,e,t,o,c){e.lastIndex=0;for(let v=l.iterRange(t,o),P=t,W;!v.next().done;P+=v.value.length)if(!v.lineBreak)for(;W=e.exec(v.value);)c(P+W.index,W)}function Zi(l,e){let t=l.visibleRanges;if(t.length==1&&t[0].from==l.viewport.from&&t[0].to==l.viewport.to)return t;let o=[];for(let{from:c,to:v}of t)c=Math.max(l.state.doc.lineAt(c).from,c-e),v=Math.min(l.state.doc.lineAt(v).to,v+e),o.length&&o[o.length-1].to>=c?o[o.length-1].to=v:o.push({from:c,to:v});return o}class Aa{constructor(e){const{regexp:t,decoration:o,decorate:c,boundary:v,maxLength:P=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,c)this.addMatch=(W,X,he,ue)=>c(ue,he,he+W[0].length,W,X);else if(typeof o=="function")this.addMatch=(W,X,he,ue)=>{let je=o(W,X,he);je&&ue(he,he+W[0].length,je)};else if(o)this.addMatch=(W,X,he,ue)=>ue(he,he+W[0].length,o);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=v,this.maxLength=P}createDeco(e){let t=new n.f_,o=t.add.bind(t);for(let{from:c,to:v}of Zi(e,this.maxLength))Pa(e.state.doc,this.regexp,c,v,(P,W)=>this.addMatch(W,e,P,o));return t.finish()}updateDeco(e,t){let o=1e9,c=-1;return e.docChanged&&e.changes.iterChanges((v,P,W,X)=>{X>e.view.viewport.from&&W<e.view.viewport.to&&(o=Math.min(W,o),c=Math.max(X,c))}),e.viewportChanged||c-o>1e3?this.createDeco(e.view):c>-1?this.updateRange(e.view,t.map(e.changes),o,c):t}updateRange(e,t,o,c){for(let v of e.visibleRanges){let P=Math.max(v.from,o),W=Math.min(v.to,c);if(W>P){let X=e.state.doc.lineAt(P),he=X.to<W?e.state.doc.lineAt(W):X,ue=Math.max(v.from,X.from),je=Math.min(v.to,he.to);if(this.boundary){for(;P>X.from;P--)if(this.boundary.test(X.text[P-1-X.from])){ue=P;break}for(;W<he.to;W++)if(this.boundary.test(he.text[W-he.from])){je=W;break}}let ft=[],Et,Nt=(Pt,Zt,qt)=>ft.push(qt.range(Pt,Zt));if(X==he)for(this.regexp.lastIndex=ue-X.from;(Et=this.regexp.exec(X.text))&&Et.index<je-X.from;)this.addMatch(Et,e,Et.index+X.from,Nt);else Pa(e.state.doc,this.regexp,ue,je,(Pt,Zt)=>this.addMatch(Zt,e,Pt,Nt));t=t.update({filterFrom:ue,filterTo:je,filter:(Pt,Zt)=>Pt<ue||Zt>je,add:ft})}}return t}}const yo=/x/.unicode!=null?"gu":"g",ls=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,yo),vo={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Hs=null;function Fs(){var l;if(Hs==null&&typeof document!="undefined"&&document.body){let e=document.body.style;Hs=((l=e.tabSize)!==null&&l!==void 0?l:e.MozTabSize)!=null}return Hs||!1}const us=n.r$.define({combine(l){let e=(0,n.BO)(l,{render:null,specialChars:ls,addSpecialChars:null});return(e.replaceTabs=!Fs())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,yo)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,yo)),e}});function bs(l={}){return[us.of(l),Ss()]}let ua=null;function Ss(){return ua||(ua=Pe.fromClass(class{constructor(l){this.view=l,this.decorations=Ie.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(l.state.facet(us)),this.decorations=this.decorator.createDeco(l)}makeDecorator(l){return new Aa({regexp:l.specialChars,decoration:(e,t,o)=>{let{doc:c}=t.state,v=(0,n.gm)(e[0],0);if(v==9){let P=c.lineAt(o),W=t.state.tabSize,X=(0,n.IS)(P.text,W,o-P.from);return Ie.replace({widget:new Ga((W-X%W)*this.view.defaultCharacterWidth)})}return this.decorationCache[v]||(this.decorationCache[v]=Ie.replace({widget:new es(l,v)}))},boundary:l.replaceTabs?void 0:/[^]/})}update(l){let e=l.state.facet(us);l.startState.facet(us)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(l.view)):this.decorations=this.decorator.updateDeco(l,this.decorations)}},{decorations:l=>l.decorations}))}const Gi="\u2022";function Ns(l){return l>=32?Gi:l==10?"\u2424":String.fromCharCode(9216+l)}class es extends Yr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Ns(this.code),o=e.state.phrase("Control character")+" "+(vo[this.code]||"0x"+this.code.toString(16)),c=this.options.render&&this.options.render(this.code,o,t);if(c)return c;let v=document.createElement("span");return v.textContent=t,v.title=o,v.setAttribute("aria-label",o),v.className="cm-specialChar",v}ignoreEvent(){return!1}}class Ga extends Yr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const Vo=null;function Ta(){return[Vo,V.of(l=>{var e;return((e=l.plugin(Vo))===null||e===void 0?void 0:e.attrs)||null})]}function ca(){return rl}const Es=Ie.line({class:"cm-activeLine"}),rl=Pe.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.docChanged||l.selectionSet)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let e=-1,t=[];for(let o of l.state.selection.ranges){let c=l.lineBlockAt(o.head);c.from>e&&(t.push(Es.range(c.from)),e=c.from)}return Ie.set(t)}},{decorations:l=>l.decorations});class Ai extends Yr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?q(e.firstChild):[];if(!t.length)return null;let o=window.getComputedStyle(e.parentNode),c=re(t[0],o.direction!="rtl"),v=parseInt(o.lineHeight);return c.bottom-c.top>v*1.5?{left:c.left,right:c.right,top:c.top,bottom:c.top+v}:c}ignoreEvent(){return!1}}function Po(l){return Pe.fromClass(class{constructor(e){this.view=e,this.placeholder=Ie.set([Ie.widget({widget:new Ai(l),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Ie.none:this.placeholder}},{decorations:e=>e.decorations})}const cs=2e3;function Wa(l,e,t){let o=Math.min(e.line,t.line),c=Math.max(e.line,t.line),v=[];if(e.off>cs||t.off>cs||e.col<0||t.col<0){let P=Math.min(e.off,t.off),W=Math.max(e.off,t.off);for(let X=o;X<=c;X++){let he=l.doc.line(X);he.length<=W&&v.push(n.jT.range(he.from+P,he.to+W))}}else{let P=Math.min(e.col,t.col),W=Math.max(e.col,t.col);for(let X=o;X<=c;X++){let he=l.doc.line(X),ue=(0,n.Gz)(he.text,P,l.tabSize,!0);if(ue<0)v.push(n.jT.cursor(he.to));else{let je=(0,n.Gz)(he.text,W,l.tabSize);v.push(n.jT.range(he.from+ue,he.from+je))}}}return v}function _a(l,e){let t=l.coordsAtPos(l.viewport.from);return t?Math.round(Math.abs((t.left-e)/l.defaultCharacterWidth)):-1}function Js(l,e){let t=l.posAtCoords({x:e.clientX,y:e.clientY},!1),o=l.state.doc.lineAt(t),c=t-o.from,v=c>cs?-1:c==o.length?_a(l,e.clientX):(0,n.IS)(o.text,l.state.tabSize,t-o.from);return{line:o.number,col:v,off:c}}function js(l,e){let t=Js(l,e),o=l.state.selection;return t?{update(c){if(c.docChanged){let v=c.changes.mapPos(c.startState.doc.line(t.line).from),P=c.state.doc.lineAt(v);t={line:P.number,col:t.col,off:Math.min(t.off,P.length)},o=o.map(c.changes)}},get(c,v,P){let W=Js(l,c);if(!W)return o;let X=Wa(l.state,t,W);return X.length?P?n.jT.create(X.concat(o.ranges)):n.jT.create(X):o}}:null}function fa(l){let e=(l==null?void 0:l.eventFilter)||(t=>t.altKey&&t.button==0);return Un.mouseSelectionStyle.of((t,o)=>e(o)?js(t,o):null)}const da={Alt:[18,l=>!!l.altKey],Control:[17,l=>!!l.ctrlKey],Shift:[16,l=>!!l.shiftKey],Meta:[91,l=>!!l.metaKey]},Gs={style:"cursor: crosshair"};function Ya(l={}){let[e,t]=da[l.key||"Alt"],o=Pe.fromClass(class{constructor(c){this.view=c,this.isDown=!1}set(c){this.isDown!=c&&(this.isDown=c,this.view.update([]))}},{eventHandlers:{keydown(c){this.set(c.keyCode==e||t(c))},keyup(c){(c.keyCode==e||!t(c))&&this.set(!1)},mousemove(c){this.set(t(c))}}});return[o,Un.contentAttributes.of(c=>{var v;return!((v=c.plugin(o))===null||v===void 0)&&v.isDown?Gs:null})]}const Mo="-10000px";class Ko{constructor(e,t,o){this.facet=t,this.createTooltipView=o,this.input=e.state.facet(t),this.tooltips=this.input.filter(c=>c),this.tooltipViews=this.tooltips.map(o)}update(e){var t;let o=e.state.facet(this.facet),c=o.filter(P=>P);if(o===this.input){for(let P of this.tooltipViews)P.update&&P.update(e);return!1}let v=[];for(let P=0;P<c.length;P++){let W=c[P],X=-1;if(W){for(let he=0;he<this.tooltips.length;he++){let ue=this.tooltips[he];ue&&ue.create==W.create&&(X=he)}if(X<0)v[P]=this.createTooltipView(W);else{let he=v[P]=this.tooltipViews[X];he.update&&he.update(e)}}}for(let P of this.tooltipViews)v.indexOf(P)<0&&(P.dom.remove(),(t=P.destroy)===null||t===void 0||t.call(P));return this.input=o,this.tooltips=c,this.tooltipViews=v,!0}}function ws(l={}){return ha.of(l)}function ts(l){let{win:e}=l;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const ha=n.r$.define({combine:l=>{var e,t,o;return{position:Ke.ios?"absolute":((e=l.find(c=>c.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=l.find(c=>c.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((o=l.find(c=>c.tooltipSpace))===null||o===void 0?void 0:o.tooltipSpace)||ts}}}),fs=new WeakMap,Gn=Pe.fromClass(class{constructor(l){this.view=l,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=l.state.facet(ha);this.position=e.position,this.parent=e.parent,this.classes=l.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new Ko(l,Za,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),l.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let l of this.manager.tooltipViews)this.intersectionObserver.observe(l.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(l){l.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(l);e&&this.observeIntersection();let t=e||l.geometryChanged,o=l.state.facet(ha);if(o.position!=this.position){this.position=o.position;for(let c of this.manager.tooltipViews)c.dom.style.position=this.position;t=!0}if(o.parent!=this.parent){this.parent&&this.container.remove(),this.parent=o.parent,this.createContainer();for(let c of this.manager.tooltipViews)this.container.appendChild(c.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(l){let e=l.create(this.view);if(e.dom.classList.add("cm-tooltip"),l.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Mo,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var l,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(l=t.destroy)===null||l===void 0||l.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let l=this.view.dom.getBoundingClientRect();return{editor:l,parent:this.parent?this.container.getBoundingClientRect():l,pos:this.manager.tooltips.map((e,t)=>{let o=this.manager.tooltipViews[t];return o.getCoords?o.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(ha).tooltipSpace(this.view)}}writeMeasure(l){var e;let{editor:t,space:o}=l,c=[];for(let v=0;v<this.manager.tooltips.length;v++){let P=this.manager.tooltips[v],W=this.manager.tooltipViews[v],{dom:X}=W,he=l.pos[v],ue=l.size[v];if(!he||he.bottom<=Math.max(t.top,o.top)||he.top>=Math.min(t.bottom,o.bottom)||he.right<Math.max(t.left,o.left)-.1||he.left>Math.min(t.right,o.right)+.1){X.style.top=Mo;continue}let je=P.arrow?W.dom.querySelector(".cm-tooltip-arrow"):null,ft=je?7:0,Et=ue.right-ue.left,Nt=(e=fs.get(W))!==null&&e!==void 0?e:ue.bottom-ue.top,Pt=W.offset||ka,Zt=this.view.textDirection==It.LTR,qt=ue.width>o.right-o.left?Zt?o.left:o.right-ue.width:Zt?Math.min(he.left-(je?14:0)+Pt.x,o.right-Et):Math.max(o.left,he.left-Et+(je?14:0)-Pt.x),Qr=!!P.above;!P.strictSide&&(Qr?he.top-(ue.bottom-ue.top)-Pt.y<o.top:he.bottom+(ue.bottom-ue.top)+Pt.y>o.bottom)&&Qr==o.bottom-he.bottom>he.top-o.top&&(Qr=!Qr);let en=(Qr?he.top-o.top:o.bottom-he.bottom)-ft;if(en<Nt&&W.resize!==!1){if(en<this.view.defaultLineHeight){X.style.top=Mo;continue}fs.set(W,Nt),X.style.height=(Nt=en)+"px"}else X.style.height&&(X.style.height="");let hn=Qr?he.top-Nt-ft-Pt.y:he.bottom+ft+Pt.y,Dn=qt+Et;if(W.overlap!==!0)for(let Vn of c)Vn.left<Dn&&Vn.right>qt&&Vn.top<hn+Nt&&Vn.bottom>hn&&(hn=Qr?Vn.top-Nt-2-ft:Vn.bottom+ft+2);this.position=="absolute"?(X.style.top=hn-l.parent.top+"px",X.style.left=qt-l.parent.left+"px"):(X.style.top=hn+"px",X.style.left=qt+"px"),je&&(je.style.left=`${he.left+(Zt?Pt.x:-Pt.x)-(qt+14-7)}px`),W.overlap!==!0&&c.push({left:qt,top:hn,right:Dn,bottom:hn+Nt}),X.classList.toggle("cm-tooltip-above",Qr),X.classList.toggle("cm-tooltip-below",!Qr),W.positioned&&W.positioned(l.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let l of this.manager.tooltipViews)l.dom.style.top=Mo}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Da=Un.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ka={x:0,y:0},Za=n.r$.define({enables:[Gn,Da]}),Ys=n.r$.define();class Ua{static create(e){return new Ua(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Ko(e,Ys,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const Va=Za.compute([Ys],l=>{let e=l.facet(Ys).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Ua.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class ma{constructor(e,t,o,c,v){this.view=e,this.source=t,this.field=o,this.setHover=c,this.hoverTime=v,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let o=this.view.coordsAtPos(t);if(o==null||e.y<o.top||e.y>o.bottom||e.x<o.left-this.view.defaultCharacterWidth||e.x>o.right+this.view.defaultCharacterWidth)return;let c=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(W=>W.from<=t&&W.to>=t),v=c&&c.dir==It.RTL?-1:1,P=this.source(this.view,t,e.x<o.left?-v:v);if(P!=null&&P.then){let W=this.pending={pos:t};P.then(X=>{this.pending==W&&(this.pending=null,X&&this.view.dispatch({effects:this.setHover.of(X)}))},X=>un(this.view.state,X,"hover tooltip"))}else P&&this.view.dispatch({effects:this.setHover.of(P)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let o=this.active;if(o&&!Yi(this.lastMove.target)||this.pending){let{pos:c}=o||this.pending,v=(t=o==null?void 0:o.end)!==null&&t!==void 0?t:c;(c==v?this.view.posAtCoords(this.lastMove)!=c:!Xs(this.view,c,v,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Yi(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Yi(l){for(let e=l;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Xs(l,e,t,o,c,v){let P=document.createRange(),W=l.domAtPos(e),X=l.domAtPos(t);P.setEnd(X.node,X.offset),P.setStart(W.node,W.offset);let he=P.getClientRects();P.detach();for(let ue=0;ue<he.length;ue++){let je=he[ue];if(Math.max(je.top-c,c-je.bottom,je.left-o,o-je.right)<=v)return!0}return!1}function zo(l,e={}){let t=n.Py.define(),o=n.QQ.define({create(){return null},update(c,v){if(c&&(e.hideOnChange&&(v.docChanged||v.selection)||e.hideOn&&e.hideOn(v,c)))return null;if(c&&v.docChanged){let P=v.changes.mapPos(c.pos,-1,n.gc.TrackDel);if(P==null)return null;let W=Object.assign(Object.create(null),c);W.pos=P,c.end!=null&&(W.end=v.changes.mapPos(c.end)),c=W}for(let P of v.effects)P.is(t)&&(c=P.value),P.is(Ho)&&(c=null);return c},provide:c=>Ys.from(c)});return[o,Pe.define(c=>new ma(c,l,o,t,e.hoverTime||300)),Va]}function Ao(l,e){let t=l.plugin(Gn);if(!t)return null;let o=t.manager.tooltips.indexOf(e);return o<0?null:t.manager.tooltipViews[o]}function bo(l){return l.facet(Ys).some(e=>e)}const Ho=n.Py.define(),C=null;function N(l){var e;(e=l.plugin(Gn))===null||e===void 0||e.maybeMeasure()}const G=n.r$.define({combine(l){let e,t;for(let o of l)e=e||o.topContainer,t=t||o.bottomContainer;return{topContainer:e,bottomContainer:t}}});function ye(l){return l?[G.of(l)]:[]}function Ae(l,e){let t=l.plugin(De),o=t?t.specs.indexOf(e):-1;return o>-1?t.panels[o]:null}const De=Pe.fromClass(class{constructor(l){this.input=l.state.facet(Bt),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(l));let e=l.state.facet(G);this.top=new st(l,!0,e.topContainer),this.bottom=new st(l,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(l){let e=l.state.facet(G);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new st(l.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new st(l.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=l.state.facet(Bt);if(t!=this.input){let o=t.filter(X=>X),c=[],v=[],P=[],W=[];for(let X of o){let he=this.specs.indexOf(X),ue;he<0?(ue=X(l.view),W.push(ue)):(ue=this.panels[he],ue.update&&ue.update(l)),c.push(ue),(ue.top?v:P).push(ue)}this.specs=o,this.panels=c,this.top.sync(v),this.bottom.sync(P);for(let X of W)X.dom.classList.add("cm-panel"),X.mount&&X.mount()}else for(let o of this.panels)o.update&&o.update(l)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:l=>Un.scrollMargins.of(e=>{let t=e.plugin(l);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class st{constructor(e,t,o){this.view=e,this.top=t,this.container=o,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=xt(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=xt(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function xt(l){let e=l.nextSibling;return l.remove(),e}const Bt=n.r$.define({enables:De});class or extends n.uU{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}or.prototype.elementClass="",or.prototype.toDOM=void 0,or.prototype.mapMode=n.gc.TrackBefore,or.prototype.startSide=or.prototype.endSide=-1,or.prototype.point=!0;const Er=n.r$.define(),mr={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>n.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},nr=n.r$.define();function Jr(l){return[_n(),nr.of(Object.assign(Object.assign({},mr),l))]}const xn=n.r$.define({combine:l=>l.some(e=>e)});function _n(l){let e=[jn];return l&&l.fixed===!1&&e.push(xn.of(!0)),e}const jn=Pe.fromClass(class{constructor(l){this.view=l,this.prevViewport=l.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=l.state.facet(nr).map(e=>new oi(l,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!l.state.facet(xn),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),l.scrollDOM.insertBefore(this.dom,l.contentDOM)}update(l){if(this.updateGutters(l)){let e=this.prevViewport,t=l.view.viewport,o=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(o<(t.to-t.from)*.8)}l.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(xn)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=l.view.viewport}syncGutters(l){let e=this.dom.nextSibling;l&&this.dom.remove();let t=n.Xs.iter(this.view.state.facet(Er),this.view.viewport.from),o=[],c=this.gutters.map(v=>new oo(v,this.view.viewport,-this.view.documentPadding.top));for(let v of this.view.viewportLineBlocks)if(o.length&&(o=[]),Array.isArray(v.type)){let P=!0;for(let W of v.type)if(W.type==hr.Text&&P){yn(t,o,W.from);for(let X of c)X.line(this.view,W,o);P=!1}else if(W.widget)for(let X of c)X.widget(this.view,W)}else if(v.type==hr.Text){yn(t,o,v.from);for(let P of c)P.line(this.view,v,o)}for(let v of c)v.finish();l&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(l){let e=l.startState.facet(nr),t=l.state.facet(nr),o=l.docChanged||l.heightChanged||l.viewportChanged||!n.Xs.eq(l.startState.facet(Er),l.state.facet(Er),l.view.viewport.from,l.view.viewport.to);if(e==t)for(let c of this.gutters)c.update(l)&&(o=!0);else{o=!0;let c=[];for(let v of t){let P=e.indexOf(v);P<0?c.push(new oi(this.view,v)):(this.gutters[P].update(l),c.push(this.gutters[P]))}for(let v of this.gutters)v.dom.remove(),c.indexOf(v)<0&&v.destroy();for(let v of c)this.dom.appendChild(v.dom);this.gutters=c}return o}destroy(){for(let l of this.gutters)l.destroy();this.dom.remove()}},{provide:l=>Un.scrollMargins.of(e=>{let t=e.plugin(l);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==It.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Mr(l){return Array.isArray(l)?l:[l]}function yn(l,e,t){for(;l.value&&l.from<=t;)l.from==t&&e.push(l.value),l.next()}class oo{constructor(e,t,o){this.gutter=e,this.height=o,this.i=0,this.cursor=n.Xs.iter(e.markers,t.from)}addElement(e,t,o){let{gutter:c}=this,v=t.top-this.height;if(this.i==c.elements.length){let P=new Rr(e,t.height,v,o);c.elements.push(P),c.dom.appendChild(P.dom)}else c.elements[this.i].update(e,t.height,v,o);this.height=t.bottom,this.i++}line(e,t,o){let c=[];yn(this.cursor,c,t.from),o.length&&(c=c.concat(o));let v=this.gutter.config.lineMarker(e,t,c);v&&c.unshift(v);let P=this.gutter;c.length==0&&!P.config.renderEmptyElements||this.addElement(e,t,c)}widget(e,t){let o=this.gutter.config.widgetMarker(e,t.widget,t);o&&this.addElement(e,t,[o])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class oi{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let o in t.domEventHandlers)this.dom.addEventListener(o,c=>{let v=c.target,P;if(v!=this.dom&&this.dom.contains(v)){for(;v.parentNode!=this.dom;)v=v.parentNode;let X=v.getBoundingClientRect();P=(X.top+X.bottom)/2}else P=c.clientY;let W=e.lineBlockAtHeight(P-e.documentTop);t.domEventHandlers[o](e,W,c)&&c.preventDefault()});this.markers=Mr(t.markers(e)),t.initialSpacer&&(this.spacer=new Rr(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Mr(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let c=this.config.updateSpacer(this.spacer.markers[0],e);c!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[c])}let o=e.view.viewport;return!n.Xs.eq(this.markers,t,o.from,o.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Rr{constructor(e,t,o,c){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,o,c)}update(e,t,o,c){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=o&&(this.dom.style.marginTop=(this.above=o)?o+"px":""),ds(this.markers,c)||this.setMarkers(e,c)}setMarkers(e,t){let o="cm-gutterElement",c=this.dom.firstChild;for(let v=0,P=0;;){let W=P,X=v<t.length?t[v++]:null,he=!1;if(X){let ue=X.elementClass;ue&&(o+=" "+ue);for(let je=P;je<this.markers.length;je++)if(this.markers[je].compare(X)){W=je,he=!0;break}}else W=this.markers.length;for(;P<W;){let ue=this.markers[P++];if(ue.toDOM){ue.destroy(c);let je=c.nextSibling;c.remove(),c=je}}if(!X)break;X.toDOM&&(he?c=c.nextSibling:this.dom.insertBefore(X.toDOM(e),c)),he&&P++}this.dom.className=o,this.markers=t}destroy(){this.setMarkers(null,[])}}function ds(l,e){if(l.length!=e.length)return!1;for(let t=0;t<l.length;t++)if(!l[t].compare(e[t]))return!1;return!0}const pa=n.r$.define(),Ci=n.r$.define({combine(l){return(0,n.BO)(l,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let o=Object.assign({},e);for(let c in t){let v=o[c],P=t[c];o[c]=v?(W,X,he)=>v(W,X,he)||P(W,X,he):P}return o}})}});class Qs extends or{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ga(l,e){return l.state.facet(Ci).formatNumber(e,l.state)}const s=nr.compute([Ci],l=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(pa)},lineMarker(e,t,o){return o.some(c=>c.toDOM)?null:new Qs(ga(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ci)!=e.state.facet(Ci),initialSpacer(e){return new Qs(ga(e,x(e.state.doc.lines)))},updateSpacer(e,t){let o=ga(t.view,x(t.view.state.doc.lines));return o==e.number?e:new Qs(o)},domEventHandlers:l.facet(Ci).domEventHandlers}));function h(l={}){return[Ci.of(l),_n(),s]}function x(l){let e=9;for(;e<l;)e=e*10+9;return e}const g=new class extends or{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},j=Er.compute(["selection"],l=>{let e=[],t=-1;for(let o of l.selection.ranges){let c=l.doc.lineAt(o.head).from;c>t&&(t=c,e.push(g.range(c)))}return n.Xs.of(e)});function de(){return j}const Qe=new Map;function et(l){let e=Qe.get(l);return e||Qe.set(l,e=Ie.mark({attributes:l==="	"?{class:"cm-highlightTab"}:{class:"cm-highlightSpace","data-display":l.replace(/ /g,"\xB7")}})),e}function lt(l){return Pe.define(e=>({decorations:l.createDeco(e),update(t){this.decorations=l.updateDeco(t,this.decorations)}}),{decorations:e=>e.decorations})}const mt=lt(new Aa({regexp:/\t| +/g,decoration:l=>et(l[0]),boundary:/\S/}));function vt(){return mt}const At=lt(new Aa({regexp:/\s+$/g,decoration:Ie.mark({class:"cm-trailingSpace"}),boundary:/\S/}));function Xt(){return At}const ar={HeightMap:fi,HeightOracle:xi,MeasuredHeights:_o,QueryType:Cn,ChangedRange:Ct,computeOrder:Mn,moveVisually:tr}},21649:function(_e,w,a){"use strict";a.d(w,{Jq:function(){return L},Lj:function(){return M},_b:function(){return ut},i9:function(){return Le},md:function(){return O},mp:function(){return ne},vj:function(){return J}});const n=1024;let p=0;class I{constructor(K,Z){this.from=K,this.to=Z}}class O{constructor(K={}){this.id=p++,this.perNode=!!K.perNode,this.deserialize=K.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(K){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof K!="function"&&(K=L.match(K)),Z=>{let Q=K(Z);return Q===void 0?null:[this,Q]}}}O.closedBy=new O({deserialize:ze=>ze.split(" ")}),O.openedBy=new O({deserialize:ze=>ze.split(" ")}),O.group=new O({deserialize:ze=>ze.split(" ")}),O.contextHash=new O({perNode:!0}),O.lookAhead=new O({perNode:!0}),O.mounted=new O({perNode:!0});class D{constructor(K,Z,Q){this.tree=K,this.overlay=Z,this.parser=Q}}const k=Object.create(null);class L{constructor(K,Z,Q,pe=0){this.name=K,this.props=Z,this.id=Q,this.flags=pe}static define(K){let Z=K.props&&K.props.length?Object.create(null):k,Q=(K.top?1:0)|(K.skipped?2:0)|(K.error?4:0)|(K.name==null?8:0),pe=new L(K.name||"",Z,K.id,Q);if(K.props){for(let ke of K.props)if(Array.isArray(ke)||(ke=ke(pe)),ke){if(ke[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");Z[ke[0].id]=ke[1]}}return pe}prop(K){return this.props[K.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(K){if(typeof K=="string"){if(this.name==K)return!0;let Z=this.prop(O.group);return Z?Z.indexOf(K)>-1:!1}return this.id==K}static match(K){let Z=Object.create(null);for(let Q in K)for(let pe of Q.split(" "))Z[pe]=K[Q];return Q=>{for(let pe=Q.prop(O.group),ke=-1;ke<(pe?pe.length:0);ke++){let tt=Z[ke<0?Q.name:pe[ke]];if(tt)return tt}}}}L.none=new L("",Object.create(null),0,8);class M{constructor(K){this.types=K;for(let Z=0;Z<K.length;Z++)if(K[Z].id!=Z)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...K){let Z=[];for(let Q of this.types){let pe=null;for(let ke of K){let tt=ke(Q);tt&&(pe||(pe=Object.assign({},Q.props)),pe[tt[0].id]=tt[1])}Z.push(pe?new L(Q.name,pe,Q.id,Q.flags):Q)}return new M(Z)}}const $=new WeakMap,z=new WeakMap;var J;(function(ze){ze[ze.ExcludeBuffers=1]="ExcludeBuffers",ze[ze.IncludeAnonymous=2]="IncludeAnonymous",ze[ze.IgnoreMounts=4]="IgnoreMounts",ze[ze.IgnoreOverlays=8]="IgnoreOverlays"})(J||(J={}));class ne{constructor(K,Z,Q,pe,ke){if(this.type=K,this.children=Z,this.positions=Q,this.length=pe,this.props=null,ke&&ke.length){this.props=Object.create(null);for(let[tt,Ke]of ke)this.props[typeof tt=="number"?tt:tt.id]=Ke}}toString(){let K=this.prop(O.mounted);if(K&&!K.overlay)return K.tree.toString();let Z="";for(let Q of this.children){let pe=Q.toString();pe&&(Z&&(Z+=","),Z+=pe)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(Z.length?"("+Z+")":""):Z}cursor(K=0){return new ce(this.topNode,K)}cursorAt(K,Z=0,Q=0){let pe=$.get(this)||this.topNode,ke=new ce(pe);return ke.moveTo(K,Z),$.set(this,ke._tree),ke}get topNode(){return new Oe(this,0,0,null)}resolve(K,Z=0){let Q=q($.get(this)||this.topNode,K,Z,!1);return $.set(this,Q),Q}resolveInner(K,Z=0){let Q=q(z.get(this)||this.topNode,K,Z,!0);return z.set(this,Q),Q}iterate(K){let{enter:Z,leave:Q,from:pe=0,to:ke=this.length}=K;for(let tt=this.cursor((K.mode||0)|J.IncludeAnonymous);;){let Ke=!1;if(tt.from<=ke&&tt.to>=pe&&(tt.type.isAnonymous||Z(tt)!==!1)){if(tt.firstChild())continue;Ke=!0}for(;Ke&&Q&&!tt.type.isAnonymous&&Q(tt),!tt.nextSibling();){if(!tt.parent())return;Ke=!0}}}prop(K){return K.perNode?this.props?this.props[K.id]:void 0:this.type.prop(K)}get propValues(){let K=[];if(this.props)for(let Z in this.props)K.push([+Z,this.props[Z]]);return K}balance(K={}){return this.children.length<=8?this:Ye(L.none,this.children,this.positions,0,this.children.length,0,this.length,(Z,Q,pe)=>new ne(this.type,Z,Q,pe,this.propValues),K.makeTree||((Z,Q,pe)=>new ne(L.none,Z,Q,pe)))}static build(K){return We(K)}}ne.empty=new ne(L.none,[],[],0);class te{constructor(K,Z){this.buffer=K,this.index=Z}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new te(this.buffer,this.index)}}class oe{constructor(K,Z,Q){this.buffer=K,this.length=Z,this.set=Q}get type(){return L.none}toString(){let K=[];for(let Z=0;Z<this.buffer.length;)K.push(this.childString(Z)),Z=this.buffer[Z+3];return K.join(",")}childString(K){let Z=this.buffer[K],Q=this.buffer[K+3],pe=this.set.types[Z],ke=pe.name;if(/\W/.test(ke)&&!pe.isError&&(ke=JSON.stringify(ke)),K+=4,Q==K)return ke;let tt=[];for(;K<Q;)tt.push(this.childString(K)),K=this.buffer[K+3];return ke+"("+tt.join(",")+")"}findChild(K,Z,Q,pe,ke){let{buffer:tt}=this,Ke=-1;for(let jt=K;jt!=Z&&!(we(ke,pe,tt[jt+1],tt[jt+2])&&(Ke=jt,Q>0));jt=tt[jt+3]);return Ke}slice(K,Z,Q){let pe=this.buffer,ke=new Uint16Array(Z-K),tt=0;for(let Ke=K,jt=0;Ke<Z;){ke[jt++]=pe[Ke++],ke[jt++]=pe[Ke++]-Q;let lr=ke[jt++]=pe[Ke++]-Q;ke[jt++]=pe[Ke++]-K,tt=Math.max(tt,lr)}return new oe(ke,tt,this.set)}}function we(ze,K,Z,Q){switch(ze){case-2:return Z<K;case-1:return Q>=K&&Z<K;case 0:return Z<K&&Q>K;case 1:return Z<=K&&Q>K;case 2:return Q>K;case 4:return!0}}function U(ze,K){let Z=ze.childBefore(K);for(;Z;){let Q=Z.lastChild;if(!Q||Q.to!=Z.to)break;Q.type.isError&&Q.from==Q.to?(ze=Z,Z=Q.prevSibling):Z=Q}return ze}function q(ze,K,Z,Q){for(var pe;ze.from==ze.to||(Z<1?ze.from>=K:ze.from>K)||(Z>-1?ze.to<=K:ze.to<K);){let tt=!Q&&ze instanceof Oe&&ze.index<0?null:ze.parent;if(!tt)return ze;ze=tt}let ke=Q?0:J.IgnoreOverlays;if(Q)for(let tt=ze,Ke=tt.parent;Ke;tt=Ke,Ke=tt.parent)tt instanceof Oe&&tt.index<0&&((pe=Ke.enter(K,Z,ke))===null||pe===void 0?void 0:pe.from)!=tt.from&&(ze=Ke);for(;;){let tt=ze.enter(K,Z,ke);if(!tt)return ze;ze=tt}}class Oe{constructor(K,Z,Q,pe){this._tree=K,this.from=Z,this.index=Q,this._parent=pe}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(K,Z,Q,pe,ke=0){for(let tt=this;;){for(let{children:Ke,positions:jt}=tt._tree,lr=Z>0?Ke.length:-1;K!=lr;K+=Z){let Jt=Ke[K],Yt=jt[K]+tt.from;if(we(pe,Q,Yt,Yt+Jt.length)){if(Jt instanceof oe){if(ke&J.ExcludeBuffers)continue;let Qt=Jt.findChild(0,Jt.buffer.length,Z,Q-Yt,pe);if(Qt>-1)return new re(new Te(tt,Jt,K,Yt),null,Qt)}else if(ke&J.IncludeAnonymous||!Jt.type.isAnonymous||F(Jt)){let Qt;if(!(ke&J.IgnoreMounts)&&Jt.props&&(Qt=Jt.prop(O.mounted))&&!Qt.overlay)return new Oe(Qt.tree,Yt,K,tt);let nt=new Oe(Jt,Yt,K,tt);return ke&J.IncludeAnonymous||!nt.type.isAnonymous?nt:nt.nextChild(Z<0?Jt.children.length-1:0,Z,Q,pe)}}}if(ke&J.IncludeAnonymous||!tt.type.isAnonymous||(tt.index>=0?K=tt.index+Z:K=Z<0?-1:tt._parent._tree.children.length,tt=tt._parent,!tt))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(K){return this.nextChild(0,1,K,2)}childBefore(K){return this.nextChild(this._tree.children.length-1,-1,K,-2)}enter(K,Z,Q=0){let pe;if(!(Q&J.IgnoreOverlays)&&(pe=this._tree.prop(O.mounted))&&pe.overlay){let ke=K-this.from;for(let{from:tt,to:Ke}of pe.overlay)if((Z>0?tt<=ke:tt<ke)&&(Z<0?Ke>=ke:Ke>ke))return new Oe(pe.tree,pe.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,K,Z,Q)}nextSignificantParent(){let K=this;for(;K.type.isAnonymous&&K._parent;)K=K._parent;return K}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(K=0){return new ce(this,K)}get tree(){return this._tree}toTree(){return this._tree}resolve(K,Z=0){return q(this,K,Z,!1)}resolveInner(K,Z=0){return q(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return U(this,K)}getChild(K,Z=null,Q=null){let pe=ae(this,K,Z,Q);return pe.length?pe[0]:null}getChildren(K,Z=null,Q=null){return ae(this,K,Z,Q)}toString(){return this._tree.toString()}get node(){return this}matchContext(K){return ve(this,K)}}function ae(ze,K,Z,Q){let pe=ze.cursor(),ke=[];if(!pe.firstChild())return ke;if(Z!=null){for(;!pe.type.is(Z);)if(!pe.nextSibling())return ke}for(;;){if(Q!=null&&pe.type.is(Q))return ke;if(pe.type.is(K)&&ke.push(pe.node),!pe.nextSibling())return Q==null?ke:[]}}function ve(ze,K,Z=K.length-1){for(let Q=ze.parent;Z>=0;Q=Q.parent){if(!Q)return!1;if(!Q.type.isAnonymous){if(K[Z]&&K[Z]!=Q.name)return!1;Z--}}return!0}class Te{constructor(K,Z,Q,pe){this.parent=K,this.buffer=Z,this.index=Q,this.start=pe}}class re{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(K,Z,Q){this.context=K,this._parent=Z,this.index=Q,this.type=K.buffer.set.types[K.buffer.buffer[Q]]}child(K,Z,Q){let{buffer:pe}=this.context,ke=pe.findChild(this.index+4,pe.buffer[this.index+3],K,Z-this.context.start,Q);return ke<0?null:new re(this.context,this,ke)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(K){return this.child(1,K,2)}childBefore(K){return this.child(-1,K,-2)}enter(K,Z,Q=0){if(Q&J.ExcludeBuffers)return null;let{buffer:pe}=this.context,ke=pe.findChild(this.index+4,pe.buffer[this.index+3],Z>0?1:-1,K-this.context.start,Z);return ke<0?null:new re(this.context,this,ke)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(K){return this._parent?null:this.context.parent.nextChild(this.context.index+K,K,0,4)}get nextSibling(){let{buffer:K}=this.context,Z=K.buffer[this.index+3];return Z<(this._parent?K.buffer[this._parent.index+3]:K.buffer.length)?new re(this.context,this._parent,Z):this.externalSibling(1)}get prevSibling(){let{buffer:K}=this.context,Z=this._parent?this._parent.index+4:0;return this.index==Z?this.externalSibling(-1):new re(this.context,this._parent,K.findChild(Z,this.index,-1,0,4))}cursor(K=0){return new ce(this,K)}get tree(){return null}toTree(){let K=[],Z=[],{buffer:Q}=this.context,pe=this.index+4,ke=Q.buffer[this.index+3];if(ke>pe){let tt=Q.buffer[this.index+1];K.push(Q.slice(pe,ke,tt)),Z.push(0)}return new ne(this.type,K,Z,this.to-this.from)}resolve(K,Z=0){return q(this,K,Z,!1)}resolveInner(K,Z=0){return q(this,K,Z,!0)}enterUnfinishedNodesBefore(K){return U(this,K)}toString(){return this.context.buffer.childString(this.index)}getChild(K,Z=null,Q=null){let pe=ae(this,K,Z,Q);return pe.length?pe[0]:null}getChildren(K,Z=null,Q=null){return ae(this,K,Z,Q)}get node(){return this}matchContext(K){return ve(this,K)}}class ce{get name(){return this.type.name}constructor(K,Z=0){if(this.mode=Z,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,K instanceof Oe)this.yieldNode(K);else{this._tree=K.context.parent,this.buffer=K.context;for(let Q=K._parent;Q;Q=Q._parent)this.stack.unshift(Q.index);this.bufferNode=K,this.yieldBuf(K.index)}}yieldNode(K){return K?(this._tree=K,this.type=K.type,this.from=K.from,this.to=K.to,!0):!1}yieldBuf(K,Z){this.index=K;let{start:Q,buffer:pe}=this.buffer;return this.type=Z||pe.set.types[pe.buffer[K]],this.from=Q+pe.buffer[K+1],this.to=Q+pe.buffer[K+2],!0}yield(K){return K?K instanceof Oe?(this.buffer=null,this.yieldNode(K)):(this.buffer=K.context,this.yieldBuf(K.index,K.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(K,Z,Q){if(!this.buffer)return this.yield(this._tree.nextChild(K<0?this._tree._tree.children.length-1:0,K,Z,Q,this.mode));let{buffer:pe}=this.buffer,ke=pe.findChild(this.index+4,pe.buffer[this.index+3],K,Z-this.buffer.start,Q);return ke<0?!1:(this.stack.push(this.index),this.yieldBuf(ke))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(K){return this.enterChild(1,K,2)}childBefore(K){return this.enterChild(-1,K,-2)}enter(K,Z,Q=this.mode){return this.buffer?Q&J.ExcludeBuffers?!1:this.enterChild(1,K,Z):this.yield(this._tree.enter(K,Z,Q))}parent(){if(!this.buffer)return this.yieldNode(this.mode&J.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let K=this.mode&J.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(K)}sibling(K){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+K,K,0,4,this.mode)):!1;let{buffer:Z}=this.buffer,Q=this.stack.length-1;if(K<0){let pe=Q<0?0:this.stack[Q]+4;if(this.index!=pe)return this.yieldBuf(Z.findChild(pe,this.index,-1,0,4))}else{let pe=Z.buffer[this.index+3];if(pe<(Q<0?Z.buffer.length:Z.buffer[this.stack[Q]+3]))return this.yieldBuf(pe)}return Q<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+K,K,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(K){let Z,Q,{buffer:pe}=this;if(pe){if(K>0){if(this.index<pe.buffer.buffer.length)return!1}else for(let ke=0;ke<this.index;ke++)if(pe.buffer.buffer[ke+3]<this.index)return!1;({index:Z,parent:Q}=pe)}else({index:Z,_parent:Q}=this._tree);for(;Q;{index:Z,_parent:Q}=Q)if(Z>-1)for(let ke=Z+K,tt=K<0?-1:Q._tree.children.length;ke!=tt;ke+=K){let Ke=Q._tree.children[ke];if(this.mode&J.IncludeAnonymous||Ke instanceof oe||!Ke.type.isAnonymous||F(Ke))return!1}return!0}move(K,Z){if(Z&&this.enterChild(K,0,4))return!0;for(;;){if(this.sibling(K))return!0;if(this.atLastNode(K)||!this.parent())return!1}}next(K=!0){return this.move(1,K)}prev(K=!0){return this.move(-1,K)}moveTo(K,Z=0){for(;(this.from==this.to||(Z<1?this.from>=K:this.from>K)||(Z>-1?this.to<=K:this.to<K))&&this.parent(););for(;this.enterChild(1,K,Z););return this}get node(){if(!this.buffer)return this._tree;let K=this.bufferNode,Z=null,Q=0;if(K&&K.context==this.buffer){e:for(let pe=this.index,ke=this.stack.length;ke>=0;){for(let tt=K;tt;tt=tt._parent)if(tt.index==pe){if(pe==this.index)return tt;Z=tt,Q=ke+1;break e}pe=this.stack[--ke]}}for(let pe=Q;pe<this.stack.length;pe++)Z=new re(this.buffer,Z,this.stack[pe]);return this.bufferNode=new re(this.buffer,Z,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(K,Z){for(let Q=0;;){let pe=!1;if(this.type.isAnonymous||K(this)!==!1){if(this.firstChild()){Q++;continue}this.type.isAnonymous||(pe=!0)}for(;pe&&Z&&Z(this),pe=this.type.isAnonymous,!this.nextSibling();){if(!Q)return;this.parent(),Q--,pe=!0}}}matchContext(K){if(!this.buffer)return ve(this.node,K);let{buffer:Z}=this.buffer,{types:Q}=Z.set;for(let pe=K.length-1,ke=this.stack.length-1;pe>=0;ke--){if(ke<0)return ve(this.node,K,pe);let tt=Q[Z.buffer[this.stack[ke]]];if(!tt.isAnonymous){if(K[pe]&&K[pe]!=tt.name)return!1;pe--}}return!0}}function F(ze){return ze.children.some(K=>K instanceof oe||!K.type.isAnonymous||F(K))}function We(ze){var K;let{buffer:Z,nodeSet:Q,maxBufferLength:pe=n,reused:ke=[],minRepeatType:tt=Q.types.length}=ze,Ke=Array.isArray(Z)?new te(Z,Z.length):Z,jt=Q.types,lr=0,Jt=0;function Yt(Ft,Kr,Or,Nr,Dr){let{id:Gr,start:Yr,end:hr,size:Ie}=Ke,Gt=Jt;for(;Ie<0;)if(Ke.next(),Ie==-1){let Pr=ke[Gr];Or.push(Pr),Nr.push(Yr-Ft);return}else if(Ie==-3){lr=Gr;return}else if(Ie==-4){Jt=Gr;return}else throw new RangeError(`Unrecognized record size: ${Ie}`);let ur=jt[Gr],dr,Wr,jr=Yr-Ft;if(hr-Yr<=pe&&(Wr=Vt(Ke.pos-Kr,Dr))){let Pr=new Uint16Array(Wr.size-Wr.skip),Zr=Ke.pos-Wr.size,Ar=Pr.length;for(;Ke.pos>Zr;)Ar=yr(Wr.start,Pr,Ar);dr=new oe(Pr,hr-Wr.start,Q),jr=Wr.start-Ft}else{let Pr=Ke.pos-Ie;Ke.next();let Zr=[],Ar=[],Lr=Gr>=tt?Gr:-1,qr=0,mn=hr;for(;Ke.pos>Pr;)Lr>=0&&Ke.id==Lr&&Ke.size>=0?(Ke.end<=mn-pe&&(nt(Zr,Ar,Yr,qr,Ke.end,mn,Lr,Gt),qr=Zr.length,mn=Ke.end),Ke.next()):Yt(Yr,Pr,Zr,Ar,Lr);if(Lr>=0&&qr>0&&qr<Zr.length&&nt(Zr,Ar,Yr,qr,Yr,mn,Lr,Gt),Zr.reverse(),Ar.reverse(),Lr>-1&&qr>0){let Ur=Qt(ur);dr=Ye(ur,Zr,Ar,0,Zr.length,0,hr-Yr,Ur,Ur)}else dr=Tt(ur,Zr,Ar,hr-Yr,Gt-hr)}Or.push(dr),Nr.push(jr)}function Qt(Ft){return(Kr,Or,Nr)=>{let Dr=0,Gr=Kr.length-1,Yr,hr;if(Gr>=0&&(Yr=Kr[Gr])instanceof ne){if(!Gr&&Yr.type==Ft&&Yr.length==Nr)return Yr;(hr=Yr.prop(O.lookAhead))&&(Dr=Or[Gr]+Yr.length+hr)}return Tt(Ft,Kr,Or,Nr,Dr)}}function nt(Ft,Kr,Or,Nr,Dr,Gr,Yr,hr){let Ie=[],Gt=[];for(;Ft.length>Nr;)Ie.push(Ft.pop()),Gt.push(Kr.pop()+Or-Dr);Ft.push(Tt(Q.types[Yr],Ie,Gt,Gr-Dr,hr-Gr)),Kr.push(Dr-Or)}function Tt(Ft,Kr,Or,Nr,Dr=0,Gr){if(lr){let Yr=[O.contextHash,lr];Gr=Gr?[Yr].concat(Gr):[Yr]}if(Dr>25){let Yr=[O.lookAhead,Dr];Gr=Gr?[Yr].concat(Gr):[Yr]}return new ne(Ft,Kr,Or,Nr,Gr)}function Vt(Ft,Kr){let Or=Ke.fork(),Nr=0,Dr=0,Gr=0,Yr=Or.end-pe,hr={size:0,start:0,skip:0};e:for(let Ie=Or.pos-Ft;Or.pos>Ie;){let Gt=Or.size;if(Or.id==Kr&&Gt>=0){hr.size=Nr,hr.start=Dr,hr.skip=Gr,Gr+=4,Nr+=4,Or.next();continue}let ur=Or.pos-Gt;if(Gt<0||ur<Ie||Or.start<Yr)break;let dr=Or.id>=tt?4:0,Wr=Or.start;for(Or.next();Or.pos>ur;){if(Or.size<0)if(Or.size==-3)dr+=4;else break e;else Or.id>=tt&&(dr+=4);Or.next()}Dr=Wr,Nr+=Gt,Gr+=dr}return(Kr<0||Nr==Ft)&&(hr.size=Nr,hr.start=Dr,hr.skip=Gr),hr.size>4?hr:void 0}function yr(Ft,Kr,Or){let{id:Nr,start:Dr,end:Gr,size:Yr}=Ke;if(Ke.next(),Yr>=0&&Nr<tt){let hr=Or;if(Yr>4){let Ie=Ke.pos-(Yr-4);for(;Ke.pos>Ie;)Or=yr(Ft,Kr,Or)}Kr[--Or]=hr,Kr[--Or]=Gr-Ft,Kr[--Or]=Dr-Ft,Kr[--Or]=Nr}else Yr==-3?lr=Nr:Yr==-4&&(Jt=Nr);return Or}let _r=[],wr=[];for(;Ke.pos>0;)Yt(ze.start||0,ze.bufferStart||0,_r,wr,-1);let vr=(K=ze.length)!==null&&K!==void 0?K:_r.length?wr[0]+_r[0].length:0;return new ne(jt[ze.topID],_r.reverse(),wr.reverse(),vr)}const xe=new WeakMap;function Be(ze,K){if(!ze.isAnonymous||K instanceof oe||K.type!=ze)return 1;let Z=xe.get(K);if(Z==null){Z=1;for(let Q of K.children){if(Q.type!=ze||!(Q instanceof ne)){Z=1;break}Z+=Be(ze,Q)}xe.set(K,Z)}return Z}function Ye(ze,K,Z,Q,pe,ke,tt,Ke,jt){let lr=0;for(let Tt=Q;Tt<pe;Tt++)lr+=Be(ze,K[Tt]);let Jt=Math.ceil(lr*1.5/8),Yt=[],Qt=[];function nt(Tt,Vt,yr,_r,wr){for(let vr=yr;vr<_r;){let Ft=vr,Kr=Vt[vr],Or=Be(ze,Tt[vr]);for(vr++;vr<_r;vr++){let Nr=Be(ze,Tt[vr]);if(Or+Nr>=Jt)break;Or+=Nr}if(vr==Ft+1){if(Or>Jt){let Nr=Tt[Ft];nt(Nr.children,Nr.positions,0,Nr.children.length,Vt[Ft]+wr);continue}Yt.push(Tt[Ft])}else{let Nr=Vt[vr-1]+Tt[vr-1].length-Kr;Yt.push(Ye(ze,Tt,Vt,Ft,vr,Kr,Nr,null,jt))}Qt.push(Kr+wr-ke)}}return nt(K,Z,Q,pe,0),(Ke||jt)(Yt,Qt,tt)}class kt{constructor(){this.map=new WeakMap}setBuffer(K,Z,Q){let pe=this.map.get(K);pe||this.map.set(K,pe=new Map),pe.set(Z,Q)}getBuffer(K,Z){let Q=this.map.get(K);return Q&&Q.get(Z)}set(K,Z){K instanceof re?this.setBuffer(K.context.buffer,K.index,Z):K instanceof Oe&&this.map.set(K.tree,Z)}get(K){return K instanceof re?this.getBuffer(K.context.buffer,K.index):K instanceof Oe?this.map.get(K.tree):void 0}cursorSet(K,Z){K.buffer?this.setBuffer(K.buffer.buffer,K.index,Z):this.map.set(K.tree,Z)}cursorGet(K){return K.buffer?this.getBuffer(K.buffer.buffer,K.index):this.map.get(K.tree)}}class Le{constructor(K,Z,Q,pe,ke=!1,tt=!1){this.from=K,this.to=Z,this.tree=Q,this.offset=pe,this.open=(ke?1:0)|(tt?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(K,Z=[],Q=!1){let pe=[new Le(0,K.length,K,0,!1,Q)];for(let ke of Z)ke.to>K.length&&pe.push(ke);return pe}static applyChanges(K,Z,Q=128){if(!Z.length)return K;let pe=[],ke=1,tt=K.length?K[0]:null;for(let Ke=0,jt=0,lr=0;;Ke++){let Jt=Ke<Z.length?Z[Ke]:null,Yt=Jt?Jt.fromA:1e9;if(Yt-jt>=Q)for(;tt&&tt.from<Yt;){let Qt=tt;if(jt>=Qt.from||Yt<=Qt.to||lr){let nt=Math.max(Qt.from,jt)-lr,Tt=Math.min(Qt.to,Yt)-lr;Qt=nt>=Tt?null:new Le(nt,Tt,Qt.tree,Qt.offset+lr,Ke>0,!!Jt)}if(Qt&&pe.push(Qt),tt.to>Yt)break;tt=ke<K.length?K[ke++]:null}if(!Jt)break;jt=Jt.toA,lr=Jt.toA-Jt.toB}return pe}}class ut{startParse(K,Z,Q){return typeof K=="string"&&(K=new gt(K)),Q=Q?Q.length?Q.map(pe=>new I(pe.from,pe.to)):[new I(0,0)]:[new I(0,K.length)],this.createParse(K,Z||[],Q)}parse(K,Z,Q){let pe=this.startParse(K,Z,Q);for(;;){let ke=pe.advance();if(ke)return ke}}}class gt{constructor(K){this.string=K}get length(){return this.string.length}chunk(K){return this.string.slice(K)}get lineChunks(){return!1}read(K,Z){return this.string.slice(K,Z)}}function Ut(ze){return(K,Z,Q,pe)=>new Ne(K,ze,Z,Q,pe)}class wt{constructor(K,Z,Q,pe,ke){this.parser=K,this.parse=Z,this.overlay=Q,this.target=pe,this.ranges=ke}}class Ot{constructor(K,Z,Q,pe,ke,tt,Ke){this.parser=K,this.predicate=Z,this.mounts=Q,this.index=pe,this.start=ke,this.target=tt,this.prev=Ke,this.depth=0,this.ranges=[]}}const pt=new O({perNode:!0});class Ne{constructor(K,Z,Q,pe,ke){this.nest=Z,this.input=Q,this.fragments=pe,this.ranges=ke,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=K}advance(){if(this.baseParse){let Q=this.baseParse.advance();if(!Q)return null;if(this.baseParse=null,this.baseTree=Q,this.startInner(),this.stoppedAt!=null)for(let pe of this.inner)pe.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let Q=this.baseTree;return this.stoppedAt!=null&&(Q=new ne(Q.type,Q.children,Q.positions,Q.length,Q.propValues.concat([[pt,this.stoppedAt]]))),Q}let K=this.inner[this.innerDone],Z=K.parse.advance();if(Z){this.innerDone++;let Q=Object.assign(Object.create(null),K.target.props);Q[O.mounted.id]=new D(Z,K.overlay,K.parser),K.target.props=Q}return null}get parsedPos(){if(this.baseParse)return 0;let K=this.input.length;for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].ranges[0].from<K&&(K=Math.min(K,this.inner[Z].parse.parsedPos));return K}stopAt(K){if(this.stoppedAt=K,this.baseParse)this.baseParse.stopAt(K);else for(let Z=this.innerDone;Z<this.inner.length;Z++)this.inner[Z].parse.stopAt(K)}startInner(){let K=new ct(this.fragments),Z=null,Q=null,pe=new ce(new Oe(this.baseTree,this.ranges[0].from,0,null),J.IncludeAnonymous|J.IgnoreMounts);e:for(let ke,tt;this.stoppedAt==null||pe.from<this.stoppedAt;){let Ke=!0,jt;if(K.hasNode(pe)){if(Z){let lr=Z.mounts.find(Jt=>Jt.frag.from<=pe.from&&Jt.frag.to>=pe.to&&Jt.mount.overlay);if(lr)for(let Jt of lr.mount.overlay){let Yt=Jt.from+lr.pos,Qt=Jt.to+lr.pos;Yt>=pe.from&&Qt<=pe.to&&!Z.ranges.some(nt=>nt.from<Qt&&nt.to>Yt)&&Z.ranges.push({from:Yt,to:Qt})}}Ke=!1}else if(Q&&(tt=bt(Q.ranges,pe.from,pe.to)))Ke=tt!=2;else if(!pe.type.isAnonymous&&pe.from<pe.to&&(ke=this.nest(pe,this.input))){pe.tree||fe(pe);let lr=K.findMounts(pe.from,ke.parser);if(typeof ke.overlay=="function")Z=new Ot(ke.parser,ke.overlay,lr,this.inner.length,pe.from,pe.tree,Z);else{let Jt=$t(this.ranges,ke.overlay||[new I(pe.from,pe.to)]);Jt.length&&this.inner.push(new wt(ke.parser,ke.parser.startParse(this.input,Cr(lr,Jt),Jt),ke.overlay?ke.overlay.map(Yt=>new I(Yt.from-pe.from,Yt.to-pe.from)):null,pe.tree,Jt)),ke.overlay?Jt.length&&(Q={ranges:Jt,depth:0,prev:Q}):Ke=!1}}else Z&&(jt=Z.predicate(pe))&&(jt===!0&&(jt=new I(pe.from,pe.to)),jt.from<jt.to&&Z.ranges.push(jt));if(Ke&&pe.firstChild())Z&&Z.depth++,Q&&Q.depth++;else for(;!pe.nextSibling();){if(!pe.parent())break e;if(Z&&!--Z.depth){let lr=$t(this.ranges,Z.ranges);lr.length&&this.inner.splice(Z.index,0,new wt(Z.parser,Z.parser.startParse(this.input,Cr(Z.mounts,lr),lr),Z.ranges.map(Jt=>new I(Jt.from-Z.start,Jt.to-Z.start)),Z.target,lr)),Z=Z.prev}Q&&!--Q.depth&&(Q=Q.prev)}}}}function bt(ze,K,Z){for(let Q of ze){if(Q.from>=Z)break;if(Q.to>K)return Q.from<=K&&Q.to>=Z?2:1}return 0}function ot(ze,K,Z,Q,pe,ke){if(K<Z){let tt=ze.buffer[K+1];Q.push(ze.slice(K,Z,tt)),pe.push(tt-ke)}}function fe(ze){let{node:K}=ze,Z=0;do ze.parent(),Z++;while(!ze.tree);let Q=0,pe=ze.tree,ke=0;for(;ke=pe.positions[Q]+ze.from,!(ke<=K.from&&ke+pe.children[Q].length>=K.to);Q++);let tt=pe.children[Q],Ke=tt.buffer;function jt(lr,Jt,Yt,Qt,nt){let Tt=lr;for(;Ke[Tt+2]+ke<=K.from;)Tt=Ke[Tt+3];let Vt=[],yr=[];ot(tt,lr,Tt,Vt,yr,Qt);let _r=Ke[Tt+1],wr=Ke[Tt+2],vr=_r+ke==K.from&&wr+ke==K.to&&Ke[Tt]==K.type.id;return Vt.push(vr?K.toTree():jt(Tt+4,Ke[Tt+3],tt.set.types[Ke[Tt]],_r,wr-_r)),yr.push(_r-Qt),ot(tt,Ke[Tt+3],Jt,Vt,yr,Qt),new ne(Yt,Vt,yr,nt)}pe.children[Q]=jt(0,Ke.length,L.none,0,tt.length);for(let lr=0;lr<=Z;lr++)ze.childAfter(K.from)}class Re{constructor(K,Z){this.offset=Z,this.done=!1,this.cursor=K.cursor(J.IncludeAnonymous|J.IgnoreMounts)}moveTo(K){let{cursor:Z}=this,Q=K-this.offset;for(;!this.done&&Z.from<Q;)Z.to>=K&&Z.enter(Q,1,J.IgnoreOverlays|J.ExcludeBuffers)||Z.next(!1)||(this.done=!0)}hasNode(K){if(this.moveTo(K.from),!this.done&&this.cursor.from+this.offset==K.from&&this.cursor.tree)for(let Z=this.cursor.tree;;){if(Z==K.tree)return!0;if(Z.children.length&&Z.positions[0]==0&&Z.children[0]instanceof ne)Z=Z.children[0];else break}return!1}}class ct{constructor(K){var Z;if(this.fragments=K,this.curTo=0,this.fragI=0,K.length){let Q=this.curFrag=K[0];this.curTo=(Z=Q.tree.prop(pt))!==null&&Z!==void 0?Z:Q.to,this.inner=new Re(Q.tree,-Q.offset)}else this.curFrag=this.inner=null}hasNode(K){for(;this.curFrag&&K.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=K.from&&this.curTo>=K.to&&this.inner.hasNode(K)}nextFrag(){var K;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let Z=this.curFrag=this.fragments[this.fragI];this.curTo=(K=Z.tree.prop(pt))!==null&&K!==void 0?K:Z.to,this.inner=new Re(Z.tree,-Z.offset)}}findMounts(K,Z){var Q;let pe=[];if(this.inner){this.inner.cursor.moveTo(K,1);for(let ke=this.inner.cursor.node;ke;ke=ke.parent){let tt=(Q=ke.tree)===null||Q===void 0?void 0:Q.prop(O.mounted);if(tt&&tt.parser==Z)for(let Ke=this.fragI;Ke<this.fragments.length;Ke++){let jt=this.fragments[Ke];if(jt.from>=ke.to)break;jt.tree==this.curFrag.tree&&pe.push({frag:jt,pos:ke.from-jt.offset,mount:tt})}}}return pe}}function $t(ze,K){let Z=null,Q=K;for(let pe=1,ke=0;pe<ze.length;pe++){let tt=ze[pe-1].to,Ke=ze[pe].from;for(;ke<Q.length;ke++){let jt=Q[ke];if(jt.from>=Ke)break;jt.to<=tt||(Z||(Q=Z=K.slice()),jt.from<tt?(Z[ke]=new I(jt.from,tt),jt.to>Ke&&Z.splice(ke+1,0,new I(Ke,jt.to))):jt.to>Ke?Z[ke--]=new I(Ke,jt.to):Z.splice(ke--,1))}}return Q}function er(ze,K,Z,Q){let pe=0,ke=0,tt=!1,Ke=!1,jt=-1e9,lr=[];for(;;){let Jt=pe==ze.length?1e9:tt?ze[pe].to:ze[pe].from,Yt=ke==K.length?1e9:Ke?K[ke].to:K[ke].from;if(tt!=Ke){let Qt=Math.max(jt,Z),nt=Math.min(Jt,Yt,Q);Qt<nt&&lr.push(new I(Qt,nt))}if(jt=Math.min(Jt,Yt),jt==1e9)break;Jt==jt&&(tt?(tt=!1,pe++):tt=!0),Yt==jt&&(Ke?(Ke=!1,ke++):Ke=!0)}return lr}function Cr(ze,K){let Z=[];for(let{pos:Q,mount:pe,frag:ke}of ze){let tt=Q+(pe.overlay?pe.overlay[0].from:0),Ke=tt+pe.tree.length,jt=Math.max(ke.from,tt),lr=Math.min(ke.to,Ke);if(pe.overlay){let Jt=pe.overlay.map(Qt=>new I(Qt.from+Q,Qt.to+Q)),Yt=er(K,Jt,jt,lr);for(let Qt=0,nt=jt;;Qt++){let Tt=Qt==Yt.length,Vt=Tt?lr:Yt[Qt].from;if(Vt>nt&&Z.push(new Le(nt,Vt,pe.tree,-tt,ke.from>=nt||ke.openStart,ke.to<=Vt||ke.openEnd)),Tt)break;nt=Yt[Qt].to}}else Z.push(new Le(jt,lr,pe.tree,-tt,ke.from>=tt||ke.openStart,ke.to<=Ke||ke.openEnd))}return Z}},86253:function(_e,w,a){"use strict";a.d(w,{Gv:function(){return M},QR:function(){return J},bW:function(){return te},pJ:function(){return ut}});var n=a(21649);let p=0;class I{constructor(wt,Ot,pt){this.set=wt,this.base=Ot,this.modified=pt,this.id=p++}static define(wt){if(wt!=null&&wt.base)throw new Error("Can not derive from a modified tag");let Ot=new I([],null,[]);if(Ot.set.push(Ot),wt)for(let pt of wt.set)Ot.set.push(pt);return Ot}static defineModifier(){let wt=new D;return Ot=>Ot.modified.indexOf(wt)>-1?Ot:D.get(Ot.base||Ot,Ot.modified.concat(wt).sort((pt,Ne)=>pt.id-Ne.id))}}let O=0;class D{constructor(){this.instances=[],this.id=O++}static get(wt,Ot){if(!Ot.length)return wt;let pt=Ot[0].instances.find(fe=>fe.base==wt&&k(Ot,fe.modified));if(pt)return pt;let Ne=[],bt=new I(Ne,wt,Ot);for(let fe of Ot)fe.instances.push(bt);let ot=L(Ot);for(let fe of wt.set)if(!fe.modified.length)for(let Re of ot)Ne.push(D.get(fe,Re));return bt}}function k(Ut,wt){return Ut.length==wt.length&&Ut.every((Ot,pt)=>Ot==wt[pt])}function L(Ut){let wt=[[]];for(let Ot=0;Ot<Ut.length;Ot++)for(let pt=0,Ne=wt.length;pt<Ne;pt++)wt.push(wt[pt].concat(Ut[Ot]));return wt.sort((Ot,pt)=>pt.length-Ot.length)}function M(Ut){let wt=Object.create(null);for(let Ot in Ut){let pt=Ut[Ot];Array.isArray(pt)||(pt=[pt]);for(let Ne of Ot.split(" "))if(Ne){let bt=[],ot=2,fe=Ne;for(let er=0;;){if(fe=="..."&&er>0&&er+3==Ne.length){ot=1;break}let Cr=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(fe);if(!Cr)throw new RangeError("Invalid path: "+Ne);if(bt.push(Cr[0]=="*"?"":Cr[0][0]=='"'?JSON.parse(Cr[0]):Cr[0]),er+=Cr[0].length,er==Ne.length)break;let ze=Ne[er++];if(er==Ne.length&&ze=="!"){ot=0;break}if(ze!="/")throw new RangeError("Invalid path: "+Ne);fe=Ne.slice(er)}let Re=bt.length-1,ct=bt[Re];if(!ct)throw new RangeError("Invalid path: "+Ne);let $t=new z(pt,ot,Re>0?bt.slice(0,Re):null);wt[ct]=$t.sort(wt[ct])}}return $.add(wt)}const $=new n.md;class z{constructor(wt,Ot,pt,Ne){this.tags=wt,this.mode=Ot,this.context=pt,this.next=Ne}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(wt){return!wt||wt.depth<this.depth?(this.next=wt,this):(wt.next=this.sort(wt.next),wt)}get depth(){return this.context?this.context.length:0}}z.empty=new z([],2,null);function J(Ut,wt){let Ot=Object.create(null);for(let bt of Ut)if(!Array.isArray(bt.tag))Ot[bt.tag.id]=bt.class;else for(let ot of bt.tag)Ot[ot.id]=bt.class;let{scope:pt,all:Ne=null}=wt||{};return{style:bt=>{let ot=Ne;for(let fe of bt)for(let Re of fe.set){let ct=Ot[Re.id];if(ct){ot=ot?ot+" "+ct:ct;break}}return ot},scope:pt}}function ne(Ut,wt){let Ot=null;for(let pt of Ut){let Ne=pt.style(wt);Ne&&(Ot=Ot?Ot+" "+Ne:Ne)}return Ot}function te(Ut,wt,Ot,pt=0,Ne=Ut.length){let bt=new oe(pt,Array.isArray(wt)?wt:[wt],Ot);bt.highlightRange(Ut.cursor(),pt,Ne,"",bt.highlighters),bt.flush(Ne)}class oe{constructor(wt,Ot,pt){this.at=wt,this.highlighters=Ot,this.span=pt,this.class=""}startSpan(wt,Ot){Ot!=this.class&&(this.flush(wt),wt>this.at&&(this.at=wt),this.class=Ot)}flush(wt){wt>this.at&&this.class&&this.span(this.at,wt,this.class)}highlightRange(wt,Ot,pt,Ne,bt){let{type:ot,from:fe,to:Re}=wt;if(fe>=pt||Re<=Ot)return;ot.isTop&&(bt=this.highlighters.filter(ze=>!ze.scope||ze.scope(ot)));let ct=Ne,$t=we(wt)||z.empty,er=ne(bt,$t.tags);if(er&&(ct&&(ct+=" "),ct+=er,$t.mode==1&&(Ne+=(Ne?" ":"")+er)),this.startSpan(wt.from,ct),$t.opaque)return;let Cr=wt.tree&&wt.tree.prop(n.md.mounted);if(Cr&&Cr.overlay){let ze=wt.node.enter(Cr.overlay[0].from+fe,1),K=this.highlighters.filter(Q=>!Q.scope||Q.scope(Cr.tree.type)),Z=wt.firstChild();for(let Q=0,pe=fe;;Q++){let ke=Q<Cr.overlay.length?Cr.overlay[Q]:null,tt=ke?ke.from+fe:Re,Ke=Math.max(Ot,pe),jt=Math.min(pt,tt);if(Ke<jt&&Z)for(;wt.from<jt&&(this.highlightRange(wt,Ke,jt,Ne,bt),this.startSpan(Math.min(jt,wt.to),ct),!(wt.to>=tt||!wt.nextSibling())););if(!ke||tt>pt)break;pe=ke.to+fe,pe>Ot&&(this.highlightRange(ze.cursor(),Math.max(Ot,ke.from+fe),Math.min(pt,pe),"",K),this.startSpan(pe,ct))}Z&&wt.parent()}else if(wt.firstChild()){Cr&&(Ne="");do if(!(wt.to<=Ot)){if(wt.from>=pt)break;this.highlightRange(wt,Ot,pt,Ne,bt),this.startSpan(Math.min(pt,wt.to),ct)}while(wt.nextSibling());wt.parent()}}}function we(Ut){let wt=Ut.type.prop($);for(;wt&&wt.context&&!Ut.matchContext(wt.context);)wt=wt.next;return wt||null}const U=I.define,q=U(),Oe=U(),ae=U(Oe),ve=U(Oe),Te=U(),re=U(Te),ce=U(Te),F=U(),We=U(F),xe=U(),Be=U(),Ye=U(),kt=U(Ye),Le=U(),ut={comment:q,lineComment:U(q),blockComment:U(q),docComment:U(q),name:Oe,variableName:U(Oe),typeName:ae,tagName:U(ae),propertyName:ve,attributeName:U(ve),className:U(Oe),labelName:U(Oe),namespace:U(Oe),macroName:U(Oe),literal:Te,string:re,docString:U(re),character:U(re),attributeValue:U(re),number:ce,integer:U(ce),float:U(ce),bool:U(Te),regexp:U(Te),escape:U(Te),color:U(Te),url:U(Te),keyword:xe,self:U(xe),null:U(xe),atom:U(xe),unit:U(xe),modifier:U(xe),operatorKeyword:U(xe),controlKeyword:U(xe),definitionKeyword:U(xe),moduleKeyword:U(xe),operator:Be,derefOperator:U(Be),arithmeticOperator:U(Be),logicOperator:U(Be),bitwiseOperator:U(Be),compareOperator:U(Be),updateOperator:U(Be),definitionOperator:U(Be),typeOperator:U(Be),controlOperator:U(Be),punctuation:Ye,separator:U(Ye),bracket:kt,angleBracket:U(kt),squareBracket:U(kt),paren:U(kt),brace:U(kt),content:F,heading:We,heading1:U(We),heading2:U(We),heading3:U(We),heading4:U(We),heading5:U(We),heading6:U(We),contentSeparator:U(F),list:U(F),quote:U(F),emphasis:U(F),strong:U(F),link:U(F),monospace:U(F),strikethrough:U(F),inserted:U(),deleted:U(),changed:U(),invalid:U(),meta:Le,documentMeta:U(Le),annotation:U(Le),processingInstruction:U(Le),definition:I.defineModifier(),constant:I.defineModifier(),function:I.defineModifier(),standard:I.defineModifier(),local:I.defineModifier(),special:I.defineModifier()},gt=J([{tag:ut.link,class:"tok-link"},{tag:ut.heading,class:"tok-heading"},{tag:ut.emphasis,class:"tok-emphasis"},{tag:ut.strong,class:"tok-strong"},{tag:ut.keyword,class:"tok-keyword"},{tag:ut.atom,class:"tok-atom"},{tag:ut.bool,class:"tok-bool"},{tag:ut.url,class:"tok-url"},{tag:ut.labelName,class:"tok-labelName"},{tag:ut.inserted,class:"tok-inserted"},{tag:ut.deleted,class:"tok-deleted"},{tag:ut.literal,class:"tok-literal"},{tag:ut.string,class:"tok-string"},{tag:ut.number,class:"tok-number"},{tag:[ut.regexp,ut.escape,ut.special(ut.string)],class:"tok-string2"},{tag:ut.variableName,class:"tok-variableName"},{tag:ut.local(ut.variableName),class:"tok-variableName tok-local"},{tag:ut.definition(ut.variableName),class:"tok-variableName tok-definition"},{tag:ut.special(ut.variableName),class:"tok-variableName2"},{tag:ut.definition(ut.propertyName),class:"tok-propertyName tok-definition"},{tag:ut.typeName,class:"tok-typeName"},{tag:ut.namespace,class:"tok-namespace"},{tag:ut.className,class:"tok-className"},{tag:ut.macroName,class:"tok-macroName"},{tag:ut.propertyName,class:"tok-propertyName"},{tag:ut.operator,class:"tok-operator"},{tag:ut.comment,class:"tok-comment"},{tag:ut.meta,class:"tok-meta"},{tag:ut.invalid,class:"tok-invalid"},{tag:ut.punctuation,class:"tok-punctuation"}])},24649:function(_e,w,a){"use strict";a.d(w,{Z:function(){return q}});function n(){this.__data__=[],this.size=0}var p=n,I=a(78804);function O(Oe,ae){for(var ve=Oe.length;ve--;)if((0,I.Z)(Oe[ve][0],ae))return ve;return-1}var D=O,k=Array.prototype,L=k.splice;function M(Oe){var ae=this.__data__,ve=D(ae,Oe);if(ve<0)return!1;var Te=ae.length-1;return ve==Te?ae.pop():L.call(ae,ve,1),--this.size,!0}var $=M;function z(Oe){var ae=this.__data__,ve=D(ae,Oe);return ve<0?void 0:ae[ve][1]}var J=z;function ne(Oe){return D(this.__data__,Oe)>-1}var te=ne;function oe(Oe,ae){var ve=this.__data__,Te=D(ve,Oe);return Te<0?(++this.size,ve.push([Oe,ae])):ve[Te][1]=ae,this}var we=oe;function U(Oe){var ae=-1,ve=Oe==null?0:Oe.length;for(this.clear();++ae<ve;){var Te=Oe[ae];this.set(Te[0],Te[1])}}U.prototype.clear=p,U.prototype.delete=$,U.prototype.get=J,U.prototype.has=te,U.prototype.set=we;var q=U},38896:function(_e,w,a){"use strict";var n=a(95546),p=a(93221),I=(0,n.Z)(p.Z,"Map");w.Z=I},43703:function(_e,w,a){"use strict";a.d(w,{Z:function(){return ot}});var n=a(95546),p=(0,n.Z)(Object,"create"),I=p;function O(){this.__data__=I?I(null):{},this.size=0}var D=O;function k(fe){var Re=this.has(fe)&&delete this.__data__[fe];return this.size-=Re?1:0,Re}var L=k,M="__lodash_hash_undefined__",$=Object.prototype,z=$.hasOwnProperty;function J(fe){var Re=this.__data__;if(I){var ct=Re[fe];return ct===M?void 0:ct}return z.call(Re,fe)?Re[fe]:void 0}var ne=J,te=Object.prototype,oe=te.hasOwnProperty;function we(fe){var Re=this.__data__;return I?Re[fe]!==void 0:oe.call(Re,fe)}var U=we,q="__lodash_hash_undefined__";function Oe(fe,Re){var ct=this.__data__;return this.size+=this.has(fe)?0:1,ct[fe]=I&&Re===void 0?q:Re,this}var ae=Oe;function ve(fe){var Re=-1,ct=fe==null?0:fe.length;for(this.clear();++Re<ct;){var $t=fe[Re];this.set($t[0],$t[1])}}ve.prototype.clear=D,ve.prototype.delete=L,ve.prototype.get=ne,ve.prototype.has=U,ve.prototype.set=ae;var Te=ve,re=a(24649),ce=a(38896);function F(){this.size=0,this.__data__={hash:new Te,map:new(ce.Z||re.Z),string:new Te}}var We=F;function xe(fe){var Re=typeof fe;return Re=="string"||Re=="number"||Re=="symbol"||Re=="boolean"?fe!=="__proto__":fe===null}var Be=xe;function Ye(fe,Re){var ct=fe.__data__;return Be(Re)?ct[typeof Re=="string"?"string":"hash"]:ct.map}var kt=Ye;function Le(fe){var Re=kt(this,fe).delete(fe);return this.size-=Re?1:0,Re}var ut=Le;function gt(fe){return kt(this,fe).get(fe)}var Ut=gt;function wt(fe){return kt(this,fe).has(fe)}var Ot=wt;function pt(fe,Re){var ct=kt(this,fe),$t=ct.size;return ct.set(fe,Re),this.size+=ct.size==$t?0:1,this}var Ne=pt;function bt(fe){var Re=-1,ct=fe==null?0:fe.length;for(this.clear();++Re<ct;){var $t=fe[Re];this.set($t[0],$t[1])}}bt.prototype.clear=We,bt.prototype.delete=ut,bt.prototype.get=Ut,bt.prototype.has=Ot,bt.prototype.set=Ne;var ot=bt},87459:function(_e,w,a){"use strict";var n=a(95546),p=a(93221),I=(0,n.Z)(p.Z,"Set");w.Z=I},46218:function(_e,w,a){"use strict";a.d(w,{Z:function(){return U}});var n=a(24649);function p(){this.__data__=new n.Z,this.size=0}var I=p;function O(q){var Oe=this.__data__,ae=Oe.delete(q);return this.size=Oe.size,ae}var D=O;function k(q){return this.__data__.get(q)}var L=k;function M(q){return this.__data__.has(q)}var $=M,z=a(38896),J=a(43703),ne=200;function te(q,Oe){var ae=this.__data__;if(ae instanceof n.Z){var ve=ae.__data__;if(!z.Z||ve.length<ne-1)return ve.push([q,Oe]),this.size=++ae.size,this;ae=this.__data__=new J.Z(ve)}return ae.set(q,Oe),this.size=ae.size,this}var oe=te;function we(q){var Oe=this.__data__=new n.Z(q);this.size=Oe.size}we.prototype.clear=I,we.prototype.delete=D,we.prototype.get=L,we.prototype.has=$,we.prototype.set=oe;var U=we},187:function(_e,w,a){"use strict";var n=a(93221),p=n.Z.Symbol;w.Z=p},88282:function(_e,w,a){"use strict";var n=a(93221),p=n.Z.Uint8Array;w.Z=p},45423:function(_e,w,a){"use strict";var n=a(19510),p=a(7720),I=a(97885),O=a(74975),D=a(66401),k=a(98127),L=Object.prototype,M=L.hasOwnProperty;function $(z,J){var ne=(0,I.Z)(z),te=!ne&&(0,p.Z)(z),oe=!ne&&!te&&(0,O.Z)(z),we=!ne&&!te&&!oe&&(0,k.Z)(z),U=ne||te||oe||we,q=U?(0,n.Z)(z.length,String):[],Oe=q.length;for(var ae in z)(J||M.call(z,ae))&&!(U&&(ae=="length"||oe&&(ae=="offset"||ae=="parent")||we&&(ae=="buffer"||ae=="byteLength"||ae=="byteOffset")||(0,D.Z)(ae,Oe)))&&q.push(ae);return q}w.Z=$},95598:function(_e,w){"use strict";function a(n,p){for(var I=-1,O=n==null?0:n.length,D=Array(O);++I<O;)D[I]=p(n[I],I,n);return D}w.Z=a},15589:function(_e,w){"use strict";function a(n,p){for(var I=-1,O=p.length,D=n.length;++I<O;)n[D+I]=p[I];return n}w.Z=a},16299:function(_e,w,a){"use strict";var n=a(40905),p=a(78804),I=Object.prototype,O=I.hasOwnProperty;function D(k,L,M){var $=k[L];(!(O.call(k,L)&&(0,p.Z)($,M))||M===void 0&&!(L in k))&&(0,n.Z)(k,L,M)}w.Z=D},40905:function(_e,w,a){"use strict";var n=a(75088);function p(I,O,D){O=="__proto__"&&n.Z?(0,n.Z)(I,O,{configurable:!0,enumerable:!0,value:D,writable:!0}):I[O]=D}w.Z=p},72764:function(_e,w,a){"use strict";a.d(w,{Z:function(){return No}});var n=a(46218);function p(tr,ge){for(var R=-1,Y=tr==null?0:tr.length;++R<Y&&ge(tr[R],R,tr)!==!1;);return tr}var I=p,O=a(16299),D=a(82436),k=a(20649);function L(tr,ge){return tr&&(0,D.Z)(ge,(0,k.Z)(ge),tr)}var M=L,$=a(47477);function z(tr,ge){return tr&&(0,D.Z)(ge,(0,$.Z)(ge),tr)}var J=z,ne=a(93221),te=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oe=te&&typeof module=="object"&&module&&!module.nodeType&&module,we=oe&&oe.exports===te,U=we?ne.Z.Buffer:void 0,q=U?U.allocUnsafe:void 0;function Oe(tr,ge){if(ge)return tr.slice();var R=tr.length,Y=q?q(R):new tr.constructor(R);return tr.copy(Y),Y}var ae=Oe,ve=a(31162),Te=a(46808);function re(tr,ge){return(0,D.Z)(tr,(0,Te.Z)(tr),ge)}var ce=re,F=a(98390);function We(tr,ge){return(0,D.Z)(tr,(0,F.Z)(tr),ge)}var xe=We,Be=a(37245),Ye=a(9878),kt=a(57210),Le=Object.prototype,ut=Le.hasOwnProperty;function gt(tr){var ge=tr.length,R=new tr.constructor(ge);return ge&&typeof tr[0]=="string"&&ut.call(tr,"index")&&(R.index=tr.index,R.input=tr.input),R}var Ut=gt,wt=a(88282);function Ot(tr){var ge=new tr.constructor(tr.byteLength);return new wt.Z(ge).set(new wt.Z(tr)),ge}var pt=Ot;function Ne(tr,ge){var R=ge?pt(tr.buffer):tr.buffer;return new tr.constructor(R,tr.byteOffset,tr.byteLength)}var bt=Ne,ot=/\w*$/;function fe(tr){var ge=new tr.constructor(tr.source,ot.exec(tr));return ge.lastIndex=tr.lastIndex,ge}var Re=fe,ct=a(187),$t=ct.Z?ct.Z.prototype:void 0,er=$t?$t.valueOf:void 0;function Cr(tr){return er?Object(er.call(tr)):{}}var ze=Cr;function K(tr,ge){var R=ge?pt(tr.buffer):tr.buffer;return new tr.constructor(R,tr.byteOffset,tr.length)}var Z=K,Q="[object Boolean]",pe="[object Date]",ke="[object Map]",tt="[object Number]",Ke="[object RegExp]",jt="[object Set]",lr="[object String]",Jt="[object Symbol]",Yt="[object ArrayBuffer]",Qt="[object DataView]",nt="[object Float32Array]",Tt="[object Float64Array]",Vt="[object Int8Array]",yr="[object Int16Array]",_r="[object Int32Array]",wr="[object Uint8Array]",vr="[object Uint8ClampedArray]",Ft="[object Uint16Array]",Kr="[object Uint32Array]";function Or(tr,ge,R){var Y=tr.constructor;switch(ge){case Yt:return pt(tr);case Q:case pe:return new Y(+tr);case Qt:return bt(tr,R);case nt:case Tt:case Vt:case yr:case _r:case wr:case vr:case Ft:case Kr:return Z(tr,R);case ke:return new Y;case tt:case lr:return new Y(tr);case Ke:return Re(tr);case jt:return new Y;case Jt:return ze(tr)}}var Nr=Or,Dr=a(93122),Gr=Object.create,Yr=function(){function tr(){}return function(ge){if(!(0,Dr.Z)(ge))return{};if(Gr)return Gr(ge);tr.prototype=ge;var R=new tr;return tr.prototype=void 0,R}}(),hr=Yr,Ie=a(29552),Gt=a(15441);function ur(tr){return typeof tr.constructor=="function"&&!(0,Gt.Z)(tr)?hr((0,Ie.Z)(tr)):{}}var dr=ur,Wr=a(97885),jr=a(74975),Pr=a(43391),Zr="[object Map]";function Ar(tr){return(0,Pr.Z)(tr)&&(0,kt.Z)(tr)==Zr}var Lr=Ar,qr=a(93225),mn=a(37755),Ur=mn.Z&&mn.Z.isMap,pn=Ur?(0,qr.Z)(Ur):Lr,bn=pn,wn="[object Set]";function Xr(tr){return(0,Pr.Z)(tr)&&(0,kt.Z)(tr)==wn}var fn=Xr,On=mn.Z&&mn.Z.isSet,nn=On?(0,qr.Z)(On):fn,Tn=nn,Sn=1,sn=2,un=4,ni="[object Arguments]",hi="[object Array]",Bi="[object Boolean]",Pe="[object Date]",y="[object Error]",T="[object Function]",V="[object GeneratorFunction]",ee="[object Map]",Ee="[object Number]",Se="[object Object]",He="[object RegExp]",Je="[object Set]",Ct="[object String]",Lt="[object Symbol]",It="[object WeakMap]",kr="[object ArrayBuffer]",Sr="[object DataView]",kn="[object Float32Array]",ci="[object Float64Array]",Fn="[object Int8Array]",Oi="[object Int16Array]",vi="[object Int32Array]",Go="[object Uint8Array]",Vi="[object Uint8ClampedArray]",Qi="[object Uint16Array]",Yn="[object Uint32Array]",Mn={};Mn[ni]=Mn[hi]=Mn[kr]=Mn[Sr]=Mn[Bi]=Mn[Pe]=Mn[kn]=Mn[ci]=Mn[Fn]=Mn[Oi]=Mn[vi]=Mn[ee]=Mn[Ee]=Mn[Se]=Mn[He]=Mn[Je]=Mn[Ct]=Mn[Lt]=Mn[Go]=Mn[Vi]=Mn[Qi]=Mn[Yn]=!0,Mn[y]=Mn[T]=Mn[It]=!1;function Ki(tr,ge,R,Y,Me,Ze){var rt,dt=ge&Sn,Kt=ge&sn,zt=ge&un;if(R&&(rt=Me?R(tr,Y,Me,Ze):R(tr)),rt!==void 0)return rt;if(!(0,Dr.Z)(tr))return tr;var zr=(0,Wr.Z)(tr);if(zr){if(rt=Ut(tr),!dt)return(0,ve.Z)(tr,rt)}else{var Vr=(0,kt.Z)(tr),$n=Vr==T||Vr==V;if((0,jr.Z)(tr))return ae(tr,dt);if(Vr==Se||Vr==ni||$n&&!Me){if(rt=Kt||$n?{}:dr(tr),!dt)return Kt?xe(tr,J(rt,tr)):ce(tr,M(rt,tr))}else{if(!Mn[Vr])return Me?tr:{};rt=Nr(tr,Vr,dt)}}Ze||(Ze=new n.Z);var bi=Ze.get(tr);if(bi)return bi;Ze.set(tr,rt),Tn(tr)?tr.forEach(function(Qn){rt.add(Ki(Qn,ge,R,Qn,tr,Ze))}):bn(tr)&&tr.forEach(function(Qn,qi){rt.set(qi,Ki(Qn,ge,R,qi,tr,Ze))});var Pi=zt?Kt?Ye.Z:Be.Z:Kt?$.Z:k.Z,Ri=zr?void 0:Pi(tr);return I(Ri||tr,function(Qn,qi){Ri&&(qi=Qn,Qn=tr[qi]),(0,O.Z)(rt,qi,Ki(Qn,ge,R,qi,tr,Ze))}),rt}var No=Ki},53338:function(_e,w,a){"use strict";a.d(w,{Z:function(){return $}});var n=a(15589),p=a(187),I=a(7720),O=a(97885),D=p.Z?p.Z.isConcatSpreadable:void 0;function k(z){return(0,O.Z)(z)||(0,I.Z)(z)||!!(D&&z&&z[D])}var L=k;function M(z,J,ne,te,oe){var we=-1,U=z.length;for(ne||(ne=L),oe||(oe=[]);++we<U;){var q=z[we];J>0&&ne(q)?J>1?M(q,J-1,ne,te,oe):(0,n.Z)(oe,q):te||(oe[oe.length]=q)}return oe}var $=M},89523:function(_e,w,a){"use strict";var n=a(42082),p=a(57969);function I(O,D){D=(0,n.Z)(D,O);for(var k=0,L=D.length;O!=null&&k<L;)O=O[(0,p.Z)(D[k++])];return k&&k==L?O:void 0}w.Z=I},52938:function(_e,w,a){"use strict";var n=a(15589),p=a(97885);function I(O,D,k){var L=D(O);return(0,p.Z)(O)?L:(0,n.Z)(L,k(O))}w.Z=I},99001:function(_e,w,a){"use strict";a.d(w,{Z:function(){return U}});var n=a(187),p=Object.prototype,I=p.hasOwnProperty,O=p.toString,D=n.Z?n.Z.toStringTag:void 0;function k(q){var Oe=I.call(q,D),ae=q[D];try{q[D]=void 0;var ve=!0}catch{}var Te=O.call(q);return ve&&(Oe?q[D]=ae:delete q[D]),Te}var L=k,M=Object.prototype,$=M.toString;function z(q){return $.call(q)}var J=z,ne="[object Null]",te="[object Undefined]",oe=n.Z?n.Z.toStringTag:void 0;function we(q){return q==null?q===void 0?te:ne:oe&&oe in Object(q)?L(q):J(q)}var U=we},93917:function(_e,w,a){"use strict";a.d(w,{Z:function(){return M}});var n=a(15441),p=a(76048),I=(0,p.Z)(Object.keys,Object),O=I,D=Object.prototype,k=D.hasOwnProperty;function L($){if(!(0,n.Z)($))return O($);var z=[];for(var J in Object($))k.call($,J)&&J!="constructor"&&z.push(J);return z}var M=L},64187:function(_e,w,a){"use strict";var n=a(16299),p=a(42082),I=a(66401),O=a(93122),D=a(57969);function k(L,M,$,z){if(!(0,O.Z)(L))return L;M=(0,p.Z)(M,L);for(var J=-1,ne=M.length,te=ne-1,oe=L;oe!=null&&++J<ne;){var we=(0,D.Z)(M[J]),U=$;if(we==="__proto__"||we==="constructor"||we==="prototype")return L;if(J!=te){var q=oe[we];U=z?z(q,we,oe):void 0,U===void 0&&(U=(0,O.Z)(q)?q:(0,I.Z)(M[J+1])?[]:{})}(0,n.Z)(oe,we,U),oe=oe[we]}return L}w.Z=k},19510:function(_e,w){"use strict";function a(n,p){for(var I=-1,O=Array(n);++I<n;)O[I]=p(I);return O}w.Z=a},93225:function(_e,w){"use strict";function a(n){return function(p){return n(p)}}w.Z=a},56764:function(_e,w,a){"use strict";a.d(w,{Z:function(){return J}});var n=a(42082);function p(ne){var te=ne==null?0:ne.length;return te?ne[te-1]:void 0}var I=p,O=a(89523);function D(ne,te,oe){var we=-1,U=ne.length;te<0&&(te=-te>U?0:U+te),oe=oe>U?U:oe,oe<0&&(oe+=U),U=te>oe?0:oe-te>>>0,te>>>=0;for(var q=Array(U);++we<U;)q[we]=ne[we+te];return q}var k=D;function L(ne,te){return te.length<2?ne:(0,O.Z)(ne,k(te,0,-1))}var M=L,$=a(57969);function z(ne,te){return te=(0,n.Z)(te,ne),ne=M(ne,te),ne==null||delete ne[(0,$.Z)(I(te))]}var J=z},42082:function(_e,w,a){"use strict";var n=a(97885),p=a(23502),I=a(32540),O=a(33523);function D(k,L){return(0,n.Z)(k)?k:(0,p.Z)(k,L)?[k]:(0,I.Z)((0,O.Z)(k))}w.Z=D},31162:function(_e,w){"use strict";function a(n,p){var I=-1,O=n.length;for(p||(p=Array(O));++I<O;)p[I]=n[I];return p}w.Z=a},82436:function(_e,w,a){"use strict";var n=a(16299),p=a(40905);function I(O,D,k,L){var M=!k;k||(k={});for(var $=-1,z=D.length;++$<z;){var J=D[$],ne=L?L(k[J],O[J],J,k,O):void 0;ne===void 0&&(ne=O[J]),M?(0,p.Z)(k,J,ne):(0,n.Z)(k,J,ne)}return k}w.Z=I},75088:function(_e,w,a){"use strict";var n=a(95546),p=function(){try{var I=(0,n.Z)(Object,"defineProperty");return I({},"",{}),I}catch{}}();w.Z=p},5255:function(_e,w,a){"use strict";a.d(w,{Z:function(){return L}});var n=a(53338);function p(M){var $=M==null?0:M.length;return $?(0,n.Z)(M,1):[]}var I=p,O=a(91130),D=a(19603);function k(M){return(0,D.Z)((0,O.Z)(M,void 0,I),M+"")}var L=k},93854:function(_e,w){"use strict";var a=typeof global=="object"&&global&&global.Object===Object&&global;w.Z=a},37245:function(_e,w,a){"use strict";var n=a(52938),p=a(46808),I=a(20649);function O(D){return(0,n.Z)(D,I.Z,p.Z)}w.Z=O},9878:function(_e,w,a){"use strict";var n=a(52938),p=a(98390),I=a(47477);function O(D){return(0,n.Z)(D,I.Z,p.Z)}w.Z=O},95546:function(_e,w,a){"use strict";a.d(w,{Z:function(){return re}});var n=a(8936),p=a(93221),I=p.Z["__core-js_shared__"],O=I,D=function(){var ce=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return ce?"Symbol(src)_1."+ce:""}();function k(ce){return!!D&&D in ce}var L=k,M=a(93122),$=a(19696),z=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,ne=Function.prototype,te=Object.prototype,oe=ne.toString,we=te.hasOwnProperty,U=RegExp("^"+oe.call(we).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q(ce){if(!(0,M.Z)(ce)||L(ce))return!1;var F=(0,n.Z)(ce)?U:J;return F.test((0,$.Z)(ce))}var Oe=q;function ae(ce,F){return ce==null?void 0:ce[F]}var ve=ae;function Te(ce,F){var We=ve(ce,F);return Oe(We)?We:void 0}var re=Te},29552:function(_e,w,a){"use strict";var n=a(76048),p=(0,n.Z)(Object.getPrototypeOf,Object);w.Z=p},46808:function(_e,w,a){"use strict";a.d(w,{Z:function(){return M}});function n($,z){for(var J=-1,ne=$==null?0:$.length,te=0,oe=[];++J<ne;){var we=$[J];z(we,J,$)&&(oe[te++]=we)}return oe}var p=n,I=a(70813),O=Object.prototype,D=O.propertyIsEnumerable,k=Object.getOwnPropertySymbols,L=k?function($){return $==null?[]:($=Object($),p(k($),function(z){return D.call($,z)}))}:I.Z,M=L},98390:function(_e,w,a){"use strict";var n=a(15589),p=a(29552),I=a(46808),O=a(70813),D=Object.getOwnPropertySymbols,k=D?function(L){for(var M=[];L;)(0,n.Z)(M,(0,I.Z)(L)),L=(0,p.Z)(L);return M}:O.Z;w.Z=k},57210:function(_e,w,a){"use strict";a.d(w,{Z:function(){return We}});var n=a(95546),p=a(93221),I=(0,n.Z)(p.Z,"DataView"),O=I,D=a(38896),k=(0,n.Z)(p.Z,"Promise"),L=k,M=a(87459),$=(0,n.Z)(p.Z,"WeakMap"),z=$,J=a(99001),ne=a(19696),te="[object Map]",oe="[object Object]",we="[object Promise]",U="[object Set]",q="[object WeakMap]",Oe="[object DataView]",ae=(0,ne.Z)(O),ve=(0,ne.Z)(D.Z),Te=(0,ne.Z)(L),re=(0,ne.Z)(M.Z),ce=(0,ne.Z)(z),F=J.Z;(O&&F(new O(new ArrayBuffer(1)))!=Oe||D.Z&&F(new D.Z)!=te||L&&F(L.resolve())!=we||M.Z&&F(new M.Z)!=U||z&&F(new z)!=q)&&(F=function(xe){var Be=(0,J.Z)(xe),Ye=Be==oe?xe.constructor:void 0,kt=Ye?(0,ne.Z)(Ye):"";if(kt)switch(kt){case ae:return Oe;case ve:return te;case Te:return we;case re:return U;case ce:return q}return Be});var We=F},8693:function(_e,w,a){"use strict";var n=a(42082),p=a(7720),I=a(97885),O=a(66401),D=a(61164),k=a(57969);function L(M,$,z){$=(0,n.Z)($,M);for(var J=-1,ne=$.length,te=!1;++J<ne;){var oe=(0,k.Z)($[J]);if(!(te=M!=null&&z(M,oe)))break;M=M[oe]}return te||++J!=ne?te:(ne=M==null?0:M.length,!!ne&&(0,D.Z)(ne)&&(0,O.Z)(oe,ne)&&((0,I.Z)(M)||(0,p.Z)(M)))}w.Z=L},66401:function(_e,w){"use strict";var a=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function p(I,O){var D=typeof I;return O=O==null?a:O,!!O&&(D=="number"||D!="symbol"&&n.test(I))&&I>-1&&I%1==0&&I<O}w.Z=p},23502:function(_e,w,a){"use strict";var n=a(97885),p=a(22758),I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;function D(k,L){if((0,n.Z)(k))return!1;var M=typeof k;return M=="number"||M=="symbol"||M=="boolean"||k==null||(0,p.Z)(k)?!0:O.test(k)||!I.test(k)||L!=null&&k in Object(L)}w.Z=D},15441:function(_e,w){"use strict";var a=Object.prototype;function n(p){var I=p&&p.constructor,O=typeof I=="function"&&I.prototype||a;return p===O}w.Z=n},37755:function(_e,w,a){"use strict";var n=a(93854),p=typeof exports=="object"&&exports&&!exports.nodeType&&exports,I=p&&typeof module=="object"&&module&&!module.nodeType&&module,O=I&&I.exports===p,D=O&&n.Z.process,k=function(){try{var L=I&&I.require&&I.require("util").types;return L||D&&D.binding&&D.binding("util")}catch{}}();w.Z=k},76048:function(_e,w){"use strict";function a(n,p){return function(I){return n(p(I))}}w.Z=a},91130:function(_e,w,a){"use strict";a.d(w,{Z:function(){return D}});function n(k,L,M){switch(M.length){case 0:return k.call(L);case 1:return k.call(L,M[0]);case 2:return k.call(L,M[0],M[1]);case 3:return k.call(L,M[0],M[1],M[2])}return k.apply(L,M)}var p=n,I=Math.max;function O(k,L,M){return L=I(L===void 0?k.length-1:L,0),function(){for(var $=arguments,z=-1,J=I($.length-L,0),ne=Array(J);++z<J;)ne[z]=$[L+z];z=-1;for(var te=Array(L+1);++z<L;)te[z]=$[z];return te[L]=M(ne),p(k,this,te)}}var D=O},93221:function(_e,w,a){"use strict";var n=a(93854),p=typeof self=="object"&&self&&self.Object===Object&&self,I=n.Z||p||Function("return this")();w.Z=I},19603:function(_e,w,a){"use strict";a.d(w,{Z:function(){return te}});function n(oe){return function(){return oe}}var p=n,I=a(75088),O=a(89930),D=I.Z?function(oe,we){return(0,I.Z)(oe,"toString",{configurable:!0,enumerable:!1,value:p(we),writable:!0})}:O.Z,k=D,L=800,M=16,$=Date.now;function z(oe){var we=0,U=0;return function(){var q=$(),Oe=M-(q-U);if(U=q,Oe>0){if(++we>=L)return arguments[0]}else we=0;return oe.apply(void 0,arguments)}}var J=z,ne=J(k),te=ne},32540:function(_e,w,a){"use strict";a.d(w,{Z:function(){return J}});var n=a(43703),p="Expected a function";function I(ne,te){if(typeof ne!="function"||te!=null&&typeof te!="function")throw new TypeError(p);var oe=function(){var we=arguments,U=te?te.apply(this,we):we[0],q=oe.cache;if(q.has(U))return q.get(U);var Oe=ne.apply(this,we);return oe.cache=q.set(U,Oe)||q,Oe};return oe.cache=new(I.Cache||n.Z),oe}I.Cache=n.Z;var O=I,D=500;function k(ne){var te=O(ne,function(we){return oe.size===D&&oe.clear(),we}),oe=te.cache;return te}var L=k,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$=/\\(\\)?/g,z=L(function(ne){var te=[];return ne.charCodeAt(0)===46&&te.push(""),ne.replace(M,function(oe,we,U,q){te.push(U?q.replace($,"$1"):we||oe)}),te}),J=z},57969:function(_e,w,a){"use strict";var n=a(22758),p=1/0;function I(O){if(typeof O=="string"||(0,n.Z)(O))return O;var D=O+"";return D=="0"&&1/O==-p?"-0":D}w.Z=I},19696:function(_e,w){"use strict";var a=Function.prototype,n=a.toString;function p(I){if(I!=null){try{return n.call(I)}catch{}try{return I+""}catch{}}return""}w.Z=p},7921:function(_e,w,a){"use strict";var n=a(72764),p=1,I=4;function O(D){return(0,n.Z)(D,p|I)}w.Z=O},78804:function(_e,w){"use strict";function a(n,p){return n===p||n!==n&&p!==p}w.Z=a},90772:function(_e,w,a){"use strict";var n=a(89523);function p(I,O,D){var k=I==null?void 0:(0,n.Z)(I,O);return k===void 0?D:k}w.Z=p},6279:function(_e,w,a){"use strict";a.d(w,{Z:function(){return L}});var n=Object.prototype,p=n.hasOwnProperty;function I(M,$){return M!=null&&p.call(M,$)}var O=I,D=a(8693);function k(M,$){return M!=null&&(0,D.Z)(M,$,O)}var L=k},12930:function(_e,w,a){"use strict";a.d(w,{Z:function(){return D}});function n(k,L){return k!=null&&L in Object(k)}var p=n,I=a(8693);function O(k,L){return k!=null&&(0,I.Z)(k,L,p)}var D=O},89930:function(_e,w){"use strict";function a(n){return n}w.Z=a},7720:function(_e,w,a){"use strict";a.d(w,{Z:function(){return z}});var n=a(99001),p=a(43391),I="[object Arguments]";function O(J){return(0,p.Z)(J)&&(0,n.Z)(J)==I}var D=O,k=Object.prototype,L=k.hasOwnProperty,M=k.propertyIsEnumerable,$=D(function(){return arguments}())?D:function(J){return(0,p.Z)(J)&&L.call(J,"callee")&&!M.call(J,"callee")},z=$},97885:function(_e,w){"use strict";var a=Array.isArray;w.Z=a},63282:function(_e,w,a){"use strict";var n=a(8936),p=a(61164);function I(O){return O!=null&&(0,p.Z)(O.length)&&!(0,n.Z)(O)}w.Z=I},74975:function(_e,w,a){"use strict";a.d(w,{Z:function(){return z}});var n=a(93221);function p(){return!1}var I=p,O=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D=O&&typeof module=="object"&&module&&!module.nodeType&&module,k=D&&D.exports===O,L=k?n.Z.Buffer:void 0,M=L?L.isBuffer:void 0,$=M||I,z=$},7279:function(_e,w,a){"use strict";var n=a(93917),p=a(57210),I=a(7720),O=a(97885),D=a(63282),k=a(74975),L=a(15441),M=a(98127),$="[object Map]",z="[object Set]",J=Object.prototype,ne=J.hasOwnProperty;function te(oe){if(oe==null)return!0;if((0,D.Z)(oe)&&((0,O.Z)(oe)||typeof oe=="string"||typeof oe.splice=="function"||(0,k.Z)(oe)||(0,M.Z)(oe)||(0,I.Z)(oe)))return!oe.length;var we=(0,p.Z)(oe);if(we==$||we==z)return!oe.size;if((0,L.Z)(oe))return!(0,n.Z)(oe).length;for(var U in oe)if(ne.call(oe,U))return!1;return!0}w.Z=te},8936:function(_e,w,a){"use strict";var n=a(99001),p=a(93122),I="[object AsyncFunction]",O="[object Function]",D="[object GeneratorFunction]",k="[object Proxy]";function L(M){if(!(0,p.Z)(M))return!1;var $=(0,n.Z)(M);return $==O||$==D||$==I||$==k}w.Z=L},61164:function(_e,w){"use strict";var a=9007199254740991;function n(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=a}w.Z=n},93122:function(_e,w){"use strict";function a(n){var p=typeof n;return n!=null&&(p=="object"||p=="function")}w.Z=a},43391:function(_e,w){"use strict";function a(n){return n!=null&&typeof n=="object"}w.Z=a},65255:function(_e,w,a){"use strict";var n=a(99001),p=a(29552),I=a(43391),O="[object Object]",D=Function.prototype,k=Object.prototype,L=D.toString,M=k.hasOwnProperty,$=L.call(Object);function z(J){if(!(0,I.Z)(J)||(0,n.Z)(J)!=O)return!1;var ne=(0,p.Z)(J);if(ne===null)return!0;var te=M.call(ne,"constructor")&&ne.constructor;return typeof te=="function"&&te instanceof te&&L.call(te)==$}w.Z=z},22758:function(_e,w,a){"use strict";var n=a(99001),p=a(43391),I="[object Symbol]";function O(D){return typeof D=="symbol"||(0,p.Z)(D)&&(0,n.Z)(D)==I}w.Z=O},98127:function(_e,w,a){"use strict";a.d(w,{Z:function(){return Ot}});var n=a(99001),p=a(61164),I=a(43391),O="[object Arguments]",D="[object Array]",k="[object Boolean]",L="[object Date]",M="[object Error]",$="[object Function]",z="[object Map]",J="[object Number]",ne="[object Object]",te="[object RegExp]",oe="[object Set]",we="[object String]",U="[object WeakMap]",q="[object ArrayBuffer]",Oe="[object DataView]",ae="[object Float32Array]",ve="[object Float64Array]",Te="[object Int8Array]",re="[object Int16Array]",ce="[object Int32Array]",F="[object Uint8Array]",We="[object Uint8ClampedArray]",xe="[object Uint16Array]",Be="[object Uint32Array]",Ye={};Ye[ae]=Ye[ve]=Ye[Te]=Ye[re]=Ye[ce]=Ye[F]=Ye[We]=Ye[xe]=Ye[Be]=!0,Ye[O]=Ye[D]=Ye[q]=Ye[k]=Ye[Oe]=Ye[L]=Ye[M]=Ye[$]=Ye[z]=Ye[J]=Ye[ne]=Ye[te]=Ye[oe]=Ye[we]=Ye[U]=!1;function kt(pt){return(0,I.Z)(pt)&&(0,p.Z)(pt.length)&&!!Ye[(0,n.Z)(pt)]}var Le=kt,ut=a(93225),gt=a(37755),Ut=gt.Z&&gt.Z.isTypedArray,wt=Ut?(0,ut.Z)(Ut):Le,Ot=wt},20649:function(_e,w,a){"use strict";var n=a(45423),p=a(93917),I=a(63282);function O(D){return(0,I.Z)(D)?(0,n.Z)(D):(0,p.Z)(D)}w.Z=O},47477:function(_e,w,a){"use strict";a.d(w,{Z:function(){return ne}});var n=a(45423),p=a(93122),I=a(15441);function O(te){var oe=[];if(te!=null)for(var we in Object(te))oe.push(we);return oe}var D=O,k=Object.prototype,L=k.hasOwnProperty;function M(te){if(!(0,p.Z)(te))return D(te);var oe=(0,I.Z)(te),we=[];for(var U in te)U=="constructor"&&(oe||!L.call(te,U))||we.push(U);return we}var $=M,z=a(63282);function J(te){return(0,z.Z)(te)?(0,n.Z)(te,!0):$(te)}var ne=J},39075:function(_e,w,a){"use strict";a.d(w,{Z:function(){return we}});var n=a(95598),p=a(72764),I=a(56764),O=a(42082),D=a(82436),k=a(65255);function L(U){return(0,k.Z)(U)?void 0:U}var M=L,$=a(5255),z=a(9878),J=1,ne=2,te=4,oe=(0,$.Z)(function(U,q){var Oe={};if(U==null)return Oe;var ae=!1;q=(0,n.Z)(q,function(Te){return Te=(0,O.Z)(Te,U),ae||(ae=Te.length>1),Te}),(0,D.Z)(U,(0,z.Z)(U),Oe),ae&&(Oe=(0,p.Z)(Oe,J|ne|te,M));for(var ve=q.length;ve--;)(0,I.Z)(Oe,q[ve]);return Oe}),we=oe},25513:function(_e,w,a){"use strict";var n=a(64187);function p(I,O,D){return I==null?I:(0,n.Z)(I,O,D)}w.Z=p},70813:function(_e,w){"use strict";function a(){return[]}w.Z=a},55487:function(_e,w,a){"use strict";var n=a(95598),p=a(31162),I=a(97885),O=a(22758),D=a(32540),k=a(57969),L=a(33523);function M($){return(0,I.Z)($)?(0,n.Z)($,k.Z):(0,O.Z)($)?[$]:(0,p.Z)((0,D.Z)((0,L.Z)($)))}w.Z=M},33523:function(_e,w,a){"use strict";a.d(w,{Z:function(){return J}});var n=a(187),p=a(95598),I=a(97885),O=a(22758),D=1/0,k=n.Z?n.Z.prototype:void 0,L=k?k.toString:void 0;function M(ne){if(typeof ne=="string")return ne;if((0,I.Z)(ne))return(0,p.Z)(ne,M)+"";if((0,O.Z)(ne))return L?L.call(ne):"";var te=ne+"";return te=="0"&&1/ne==-D?"-0":te}var $=M;function z(ne){return ne==null?"":$(ne)}var J=z},37164:function(_e,w,a){"use strict";a.d(w,{x0:function(){return O}});let n=D=>crypto.getRandomValues(new Uint8Array(D)),p=(D,k,L)=>{let M=(2<<Math.log(D.length-1)/Math.LN2)-1,$=-~(1.6*M*k/D.length);return(z=k)=>{let J="";for(;;){let ne=L($),te=$;for(;te--;)if(J+=D[ne[te]&M]||"",J.length===z)return J}}},I=(D,k=21)=>p(D,k,n),O=(D=21)=>crypto.getRandomValues(new Uint8Array(D)).reduce((k,L)=>(L&=63,L<36?k+=L.toString(36):L<62?k+=(L-26).toString(36).toUpperCase():L>62?k+="-":k+="_",k),"")},37207:function(_e,w,a){"use strict";a.d(w,{V:function(){return D}});const n="\u037C",p=typeof Symbol=="undefined"?"__"+n:Symbol.for(n),I=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class D{constructor($,z){this.rules=[];let{finish:J}=z||{};function ne(oe){return/^@/.test(oe)?[oe]:oe.split(/,\s*/)}function te(oe,we,U,q){let Oe=[],ae=/^@(\w+)\b/.exec(oe[0]),ve=ae&&ae[1]=="keyframes";if(ae&&we==null)return U.push(oe[0]+";");for(let Te in we){let re=we[Te];if(/&/.test(Te))te(Te.split(/,\s*/).map(ce=>oe.map(F=>ce.replace(/&/,F))).reduce((ce,F)=>ce.concat(F)),re,U);else if(re&&typeof re=="object"){if(!ae)throw new RangeError("The value of a property ("+Te+") should be a primitive value.");te(ne(Te),re,Oe,ve)}else re!=null&&Oe.push(Te.replace(/_.*/,"").replace(/[A-Z]/g,ce=>"-"+ce.toLowerCase())+": "+re+";")}(Oe.length||ve)&&U.push((J&&!ae&&!q?oe.map(J):oe).join(", ")+" {"+Oe.join(" ")+"}")}for(let oe in $)te(ne(oe),$[oe],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let $=O[p]||1;return O[p]=$+1,n+$.toString(36)}static mount($,z){($[I]||new L($)).mount(Array.isArray(z)?z:[z])}}let k=new Map;class L{constructor($){let z=$.ownerDocument||$,J=z.defaultView;if(!$.head&&$.adoptedStyleSheets&&J.CSSStyleSheet){let ne=k.get(z);if(ne)return $.adoptedStyleSheets=[ne.sheet,...$.adoptedStyleSheets],$[I]=ne;this.sheet=new J.CSSStyleSheet,$.adoptedStyleSheets=[this.sheet,...$.adoptedStyleSheets],k.set(z,this)}else{this.styleTag=z.createElement("style");let ne=$.head||$;ne.insertBefore(this.styleTag,ne.firstChild)}this.modules=[],$[I]=this}mount($){let z=this.sheet,J=0,ne=0;for(let te=0;te<$.length;te++){let oe=$[te],we=this.modules.indexOf(oe);if(we<ne&&we>-1&&(this.modules.splice(we,1),ne--,we=-1),we==-1){if(this.modules.splice(ne++,0,oe),z)for(let U=0;U<oe.rules.length;U++)z.insertRule(oe.rules[U],J++)}else{for(;ne<we;)J+=this.modules[ne++].rules.length;J+=oe.rules.length,ne++}}if(!z){let te="";for(let oe=0;oe<this.modules.length;oe++)te+=this.modules[oe].getRules()+`
`;this.styleTag.textContent=te}}}},75758:function(_e){"use strict";_e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},22396:function(_e){"use strict";_e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}])});qu();})();

//# sourceMappingURL=4745.a7870b39.chunk.js.map